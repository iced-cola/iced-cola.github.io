<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>25å²çš„æœ€åä¸€å¤©</title>
    <url>/2020/09/30/25%E5%B2%81%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%A4%A9/</url>
    <content><![CDATA[<p>åˆšæ‰æŠŠä¹‹å‰å†™çš„å†…å®¹éƒ½æ•´ç†äº†ä¸€éï¼ŒæŒ‚çš„å›¾ç‰‡èƒ½æ¢çš„éƒ½æ¢äº†ï¼Œè¿˜æœ‰äº›ç°åœ¨çœ‹èµ·æ¥å¾ˆå°´å°¬çš„å†…å®¹ç›´æ¥åˆ æ‰äº†ï¼ŒæŠ˜è…¾ä¸€æ¬¡çœŸç´¯ã€‚æ­‡äº†ä¸€ä¸‹æ‰“å¼€æ—¥å†æ‰å‘ç°ä»Šå¤©å·²ç»æ˜¯9æœˆ30å·äº†ã€‚ä»Šå¹´å¾ˆå·§çš„æ˜¯ä¸­ç§‹èŠ‚å’Œå›½åº†èŠ‚ç¢°åœ¨äº†ä¸€èµ·ï¼Œåœ¨è´´å§é‡Œçœ‹åˆ°å¾ˆå¤šå­¦ç”Ÿè¿˜å› ä¸ºå‡æœŸçš„é—®é¢˜è€¿è€¿äºæ€€ï¼Œä½†æ˜¯å¯¹äºåƒæˆ‘ä¸€æ ·çš„å¾…ä¸šé’å¹´ï¼Œå¥½åƒæ¯ä¸€å¤©éƒ½æ˜¯å‡æœŸï¼Œåªä¸è¿‡å¿ƒé‡Œä¸æ˜¯é‚£ä¹ˆæ”¾æ¾ã€‚</p>
<br>

<span id="more"></span>

<p>æ˜¨å¤©ä¸‹åˆå›åˆ°ç©ºæ— ä¸€äººçš„å®¶é‡Œï¼Œè™½ç„¶ä»€ä¹ˆåƒçš„ä¹Ÿæ²¡æœ‰ï¼Œä½†æ˜¯å®¶é‡Œçš„å¹²å‡€èˆ’æœçš„å¤§åºŠå€’æ˜¯è®©æˆ‘å¥½å¥½ç¡äº†ä¸€è§‰ï¼Œå¾ˆä¹…æ²¡æœ‰ç¡å¾—è¿™ä¹ˆèˆ’æœäº†ã€‚ä»¥å‰æ€»æ˜¯è§‰å¾—ä¹°æˆ¿çš„äººå¾ˆå‚»ï¼Œä¹°å®Œæˆ¿å­å°±è¦ä¸€ç›´ä½åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œè€Œä¸”è¿˜è¦èƒŒè´Ÿç¹é‡çš„æˆ¿è´·ã€‚ä½†æ˜¯æœ€è¿‘æˆ‘çªç„¶æœ‰äº†å¾ˆå¼ºçƒˆçš„æƒ³ä¹°æˆ¿çš„æ„¿æœ›ï¼Œè‡ªå·±çš„æˆ¿å­æ‰æ˜¯çœŸæ­£èƒ½è½è„šçš„åœ°æ–¹ã€‚ç°åœ¨å°±æƒ³å¥½å¥½å·¥ä½œåŠªåŠ›æ”’é’±ï¼Œå¸Œæœ›èƒ½åœ¨ä¸€ä¸¤å¹´ä¹‹å†…æœ‰ä¸€å¥—è‡ªå·±çš„æˆ¿å­ï¼Œä¸ç®¡æ˜¯åœ¨å“ªä¸ªåŸå¸‚ï¼Œåè¿œä¸€ç‚¹ä¹Ÿæ— æ‰€è°“ã€‚</p>
<br>

<p>æ˜¨å¤©æ™šä¸Šè”ç³»ä¸Šäº†ä¸€ä¸ªä½å¾—ä¸è¿œçš„åˆä¸­åŒå­¦ï¼Œåˆšå¥½æ”¾å‡å¥¹ä¹Ÿåœ¨å®¶ï¼ŒèŠäº†ä¸€ä¼šå„¿é€šè¿‡å¥¹ä»‹ç»äº†ä¸€ä¸ªæˆ¿ä¸œï¼Œå¸Œæœ›èƒ½æ‰¾åˆ°ä¸€ä¸ªåœ°æ–¹å®‰é™çš„å¾…ä¸€æ®µæ—¶é—´ã€‚</p>
<br>

<p>25å²ä»Šå¤©å°±è¦ç”»ä¸Šå¥å·äº†ï¼Œå¸Œæœ›26å²èƒ½äº¤ä¸Šå¥½è¿å§ã€‚</p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitlab+Jenkins+Dockerè‡ªåŠ¨éƒ¨ç½²SpringBootå¾®æœåŠ¡</title>
    <url>/2021/06/13/Docker-Jenkins-Gitlab%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2SpringBoot%E5%BE%AE%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨å…¬å¸ç”¨äº†åŠå¹´çš„ SpringCloud + Docker + Jenkins çš„æŠ€æœ¯æ¡†æ¶ï¼Œç°åœ¨æµè¡ŒæŒç»­é›†æˆï¼Œè¿˜æ²¡æœ‰æŠ½ç‚¹æ—¶é—´è‡ªå·±å®é™…èµ°ä¸€ä¸‹å…¨æµç¨‹å¼€å‘ç¯å¢ƒçš„æ­å»ºï¼Œæ­£å¥½èµ¶ä¸Šç«¯åˆèŠ‚ï¼Œå¯ä»¥å®…åœ¨å‡ºç§Ÿå±‹é‡Œå¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<!--more--->

<h2 id="æ­å»ºæµ‹è¯•é¡¹ç›®"><a href="#æ­å»ºæµ‹è¯•é¡¹ç›®" class="headerlink" title="æ­å»ºæµ‹è¯•é¡¹ç›®"></a>æ­å»ºæµ‹è¯•é¡¹ç›®</h2><h3 id="è¯·æ±‚æ¥å£"><a href="#è¯·æ±‚æ¥å£" class="headerlink" title="è¯·æ±‚æ¥å£"></a>è¯·æ±‚æ¥å£</h3><ul>
<li><p>æ­å»ºä¸€ä¸ªç®€å•çš„SpringBooté¡¹ç›®ï¼Œåˆ›å»ºä¸€ä¸ªæ¥å£ç”¨æ¥æµ‹è¯•ã€‚</p>
<p>  <a href="https://github.com/chenxii81">chenxii81</a>/<strong><a href="https://github.com/chenxii81/springboot-demo">springboot-demo</a></strong></p>
</li>
</ul>
<p>æ¥å£åœ°å€ï¼š/api/user-management/users</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Response&lt;List&lt;UserPo&gt;&gt; listUsers(<span class="meta">@RequestParam</span> <span class="keyword">int</span> count) &#123;</span><br><span class="line">    Response&lt;List&lt;UserPo&gt;&gt; response = <span class="keyword">new</span> Response&lt;&gt;();</span><br><span class="line">    response.setCode(<span class="number">0</span>);</span><br><span class="line">    response.setMessage(<span class="string">&quot;è¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">    response.setData(userService.listUsers(count));</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿”å›æ•°æ®æ ¼å¼ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;è¯·æ±‚æˆåŠŸ&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;data&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;no&quot;</span>: <span class="string">&quot;U00-0&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;U-name0&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;level&quot;</span>: <span class="string">&quot;é«˜çº§ç”¨æˆ·&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;point&quot;</span>: <span class="number">245</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;no&quot;</span>: <span class="string">&quot;U00-1&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;U-name1&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;level&quot;</span>: <span class="string">&quot;åˆçº§ç”¨æˆ·&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;point&quot;</span>: <span class="number">238</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;no&quot;</span>: <span class="string">&quot;U00-2&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;U-name2&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;level&quot;</span>: <span class="string">&quot;åˆçº§ç”¨æˆ·&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;point&quot;</span>: <span class="number">240</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FROM openjdk:8-jdk-alpine</span><br><span class="line">VOLUME /tmp</span><br><span class="line">COPY springboot-demo.jar app.jar</span><br><span class="line">ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]</span><br><span class="line">EXPOSE 8080</span><br></pre></td></tr></table></figure>

<br>

<h3 id="Jenkinsfile"><a href="#Jenkinsfile" class="headerlink" title="Jenkinsfile"></a>Jenkinsfile</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent any</span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(&#x27;Build&#x27;) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo &#x27;Building..&#x27;</span><br><span class="line">                sh &#x27;mvn clean &amp;&amp; mvn package&#x27;</span><br><span class="line">                sh &#x27;cp target/springboot-demo.jar src/main/docker/springboot-demo.jar&#x27;</span><br><span class="line">                echo &#x27;Build completed.&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stage(&quot;Image&quot;) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo &#x27;Imaging..&#x27;</span><br><span class="line">                sh &#x27;cd src/main/docker &amp;&amp; docker build --rm -t springboot-demo:v1 .&#x27;</span><br><span class="line">                echo &#x27;Image completed.&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stage(&#x27;Deploy&#x27;) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo &#x27;Deploying....&#x27;</span><br><span class="line">                sh &#x27;docker run -d -p 8082:8001 --name springboot-demo springboot-demo:v1&#x27;</span><br><span class="line">                echo &#x27;Deploy completed.&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<br>

<h2 id="Dockerå®‰è£…ä»¥åŠDockerhubè´¦æˆ·æ³¨å†Œ"><a href="#Dockerå®‰è£…ä»¥åŠDockerhubè´¦æˆ·æ³¨å†Œ" class="headerlink" title="Dockerå®‰è£…ä»¥åŠDockerhubè´¦æˆ·æ³¨å†Œ"></a>Dockerå®‰è£…ä»¥åŠDockerhubè´¦æˆ·æ³¨å†Œ</h2><p>æ³¨å†ŒDockerhubè´¦å·ï¼Œç„¶åå®‰è£…dockerã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…docker</span></span><br><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†ç”¨æˆ·åŠ å…¥dockerç»„ä¸­</span></span><br><span class="line">sudo gpasswd -a chenxii docker</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ›´æ–°dockerç»„</span></span><br><span class="line">sudo grpnew docker</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç™»å½•dockerï¼Œç”¨docker idç™»å½•è€Œä¸æ˜¯é‚®ç®±</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸è¦ç›´æ¥ -p ç™»å½•ï¼Œä¸å®‰å…¨</span></span><br><span class="line">cat passwd.txt | docker login -u chenxii81 --password-stdin</span><br></pre></td></tr></table></figure>

<br>

<h2 id="Gitlabå®‰è£…"><a href="#Gitlabå®‰è£…" class="headerlink" title="Gitlabå®‰è£…"></a>Gitlabå®‰è£…</h2><p>æœ¬æ¥æƒ³ç”¨VPSçš„ï¼Œä½†æ˜¯ä»dockerå¯åŠ¨gitlabä¹‹åæ€»æ˜¯å‡ åˆ†é’Ÿå°±ä¼šExitï¼Œåº”è¯¥æ˜¯é…ç½®å¤ªä½äº†ï¼Œæ‰512Må†…å­˜ï¼Œ1æ ¸å¤„ç†å™¨ã€‚åªèƒ½æ”¾åˆ°è™šæ‹Ÿæœºå¼„äº†ã€‚</p>
<p>ä¸ºäº†é…ç½®æ–¹ä¾¿ï¼Œç”¨ Docker å®‰è£… Gitlabï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull gitlab/gitlab-ce:latest</span><br><span class="line"></span><br><span class="line">docker run -d  -p 443:443 -p 80:80 -p 222:22 --name gitlab gitlab/gitlab-ce:latest</span><br><span class="line"><span class="meta">#</span><span class="bash"> e176b0d7d3d8775a293701d85029421eebf0ae6d013e79edb791c47df0e8c857</span></span><br><span class="line"></span><br><span class="line">docker ps -a</span><br><span class="line"><span class="meta">#</span><span class="bash"> çŠ¶æ€ä¸º healthyä¹‹åå°±å¯ä»¥ç”¨å®¿ä¸»æœºipè¿›è¡Œè®¿é—®äº†ï¼ŒUp 3 minutes (healthy)</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹gitlabåœ°å€</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰“å¼€æ–‡ä»¶ /etc/gitlab/gitlab.rb æ–‡ä»¶å¹¶æ‰¾åˆ°</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> external_url <span class="string">&#x27;GENERATED_EXTERNAL_URL&#x27;</span> è¿™è¡Œï¼Œå»æ‰æ³¨é‡Šï¼Œå¹¶æŒ‰ç…§ä¸‹é¢çš„æ ¼å¼ä¿®æ”¹ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨hostsé‡Œé…ç½®çš„åŸŸåï¼Œgitæäº¤ä¼šè¢«redirectï¼Œæœ€å¥½ç”¨ip</span></span><br><span class="line">external_url &#x27;http://gitlab.chenxii.com&#x27; æˆ–è€… external_url &#x27;http://192.168.8.188&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆ</span></span><br><span class="line">sudo docker exec gitlab gitlab-ctl reconfigure</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹å®Œä¹‹åä»“åº“çš„åœ°å€ï¼š</span></span><br><span class="line">git@gitlab.chenxii.com:gitlab-instance-8190bce8/Monitoring.git</span><br><span class="line">http://gitlab.chenxii.com/gitlab-instance-8190bce8/Monitoring.git</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†ä»£ç ä¼ åˆ°gitlab</span></span><br><span class="line">git remote add origin http://192.168.8.188/root/springboot-demo.git</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;init repo&quot;</span><br><span class="line">git push -u origin --all</span><br><span class="line">git push -u origin --tags</span><br></pre></td></tr></table></figure>

<p>åˆæ¬¡ç™»å½•éœ€è¦é‡è®¾å¯†ç ï¼Œä¹‹åå¯ä»¥ç”¨root + æ–°å¯†ç ç™»å½•ã€‚</p>
<p><img src="https://images2.imgbox.com/64/6c/RyYwQe13_o.png" alt="image-20210614004633199"></p>
<br>

<h2 id="Jenkinså®‰è£…"><a href="#Jenkinså®‰è£…" class="headerlink" title="Jenkinså®‰è£…"></a>Jenkinså®‰è£…</h2><p>ä½¿ç”¨Dockeré…ç½®Jenkins</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull jenkins/jenkins:lts</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Jenkins Dockeré•œåƒä¸­æ²¡æœ‰Mavenï¼Œæ‰€ä»¥å°†å®¿ä¸»æœºçš„MavenæŒ‚è½½åˆ°Dockerå®¹å™¨</span></span><br><span class="line">docker run -d -p 8081:8080 --name jenkins \</span><br><span class="line">-v /opt/jdk/jdk1.8.0_181:/usr/lib/jvm/java-1.8-openjdk \</span><br><span class="line">-v /opt/maven/maven-3.5.4:/usr/local/maven3 jenkins/jenkins:lts</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨docker logsæŸ¥çœ‹Jenkinsåˆå§‹åŒ–å¯†ç </span></span><br><span class="line">docker logs container_id</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ¨èæ’ä»¶ä¹‹åï¼Œåˆ›å»ºç”¨æˆ·è¿›å…¥Jenkins</p>
<p><img src="https://images2.imgbox.com/93/db/JTE2OpS2_o.png" alt="image-20210614012408214"></p>
<br>

<h2 id="å®‰è£…Jenkinsæ’ä»¶"><a href="#å®‰è£…Jenkinsæ’ä»¶" class="headerlink" title="å®‰è£…Jenkinsæ’ä»¶"></a>å®‰è£…Jenkinsæ’ä»¶</h2><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><p>ä¸‹è½½åœ°å€ï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.8.1/binaries/apache-maven-3.8.1-bin.tar.gz"> apache-maven-3.8.1-bin.tar.gz</a></p>
<p>é…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å› ä¸ºmaven-3.8.1æŠ¥é”™ï¼Œæ¢æˆäº†3.5.4ç‰ˆæœ¬</span></span><br><span class="line">sudo mv ~/Downloads/apache-maven-3.5.4-bin.tar.gz /opt/maven  </span><br><span class="line">sudo tar -zxvf apache-maven-3.5.4-bin.tar.gz</span><br><span class="line">cd apache-maven-3.5.4</span><br><span class="line">sudo mv apache-maven-3.5.4/opt /maven-3.5.4</span><br><span class="line"></span><br><span class="line">vim ~/.bashrc</span><br><span class="line">export MAVEN_HOME=/opt/maven/maven-3.5.4</span><br><span class="line">export PATH=$PATH:$MAVEN_HOME/bin</span><br></pre></td></tr></table></figure>

<br>

<h2 id="é…ç½®Gitlab-Key"><a href="#é…ç½®Gitlab-Key" class="headerlink" title="é…ç½®Gitlab Key"></a>é…ç½®Gitlab Key</h2><h3 id="SSH-Key"><a href="#SSH-Key" class="headerlink" title="SSH Key"></a>SSH Key</h3><p>åœ¨ Gitlab ä¸­ SSH Key é¡µé¢ï¼ˆ<a href="http://192.168.8.188/-/profile/keys%EF%BC%89%EF%BC%8C%E5%B0%86%E8%87%AA%E5%B7%B1%E6%9C%AC%E5%9C%B0">http://192.168.8.188/-/profile/keysï¼‰ï¼Œå°†è‡ªå·±æœ¬åœ°</a> ~/.ssh/id_rsa.pub å†…å®¹å­˜è¿›å»ï¼Œè¿™æ ·ä¼ ä»£ç ä¸éœ€è¦æ¯æ¬¡éƒ½è¾“å…¥å¯†ç ã€‚</p>
<h3 id="Access-Tokens"><a href="#Access-Tokens" class="headerlink" title="Access Tokens"></a>Access Tokens</h3><p>1ã€ç»™Jenkinså®‰è£…Publish Over SSHæ’ä»¶</p>
<p>2ã€Jenkinséœ€è¦ä»Gitlabæ‹‰å–ä»£ç ï¼Œæ‰€ä»¥éœ€è¦ä¸ºJenkinsé…ç½®ä¸€ä¸ªAccess Tokensï¼Œç±»ä¼¼ï¼š5nU3oGSxyZXsxHyuwekHï¼Œç”Ÿæˆä¹‹åå°†å…¶é…ç½®åˆ° <strong>ç³»ç»Ÿé…ç½®</strong> &gt; <strong>Publish over SSH</strong> &gt; <strong>Key</strong> ä¿å­˜ã€‚</p>
<br>

<h2 id="JenkinsæŠ¥é”™"><a href="#JenkinsæŠ¥é”™" class="headerlink" title="JenkinsæŠ¥é”™"></a>JenkinsæŠ¥é”™</h2><h3 id="mvnå‘½ä»¤æ‰¾ä¸åˆ°"><a href="#mvnå‘½ä»¤æ‰¾ä¸åˆ°" class="headerlink" title="mvnå‘½ä»¤æ‰¾ä¸åˆ°"></a>mvnå‘½ä»¤æ‰¾ä¸åˆ°</h3><p>JenkinsæŠ¥é”™ mvn å‘½ä»¤æ‰¾ä¸åˆ°ï¼Œå› ä¸º Docker Jenkinsé‡Œæ²¡æœ‰Mavenã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ mvn clean</span><br><span class="line"></span><br><span class="line">/var/jenkins_home/workspace/springboot-demo_master@tmp/durable-c0a723ef/script.sh: 1: /var/jenkins_home/workspace/springboot-demo_master@tmp/durable-c0a723ef/script.sh: mvn: not found</span><br><span class="line"></span><br><span class="line">script returned exit code 127</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¦‚ä¸‹ï¼š</p>
<p>åœ¨è¿™é‡Œå¡äº†å¾ˆé•¿æ—¶é—´ï¼Œæœ€åæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/qq_43437874/article/details/107087363">Jenkinsæ‰“åŒ…Mavené¡¹ç›®æ‰¾ä¸åˆ°mvnè§£å†³åŠæ³•script.sh: line 1: mvn: not found</a></p>
<p>å¯åŠ¨å‘½ä»¤ä¸­å°†å®¿ä¸»æœºä¸Šçš„mavenè·¯å¾„æŒ‚åœ¨åˆ°Dockerå®¹å™¨çš„ /usr/local/maven3ç›®å½•ä¸‹ï¼Œç„¶ååœ¨ <strong>ç³»ç»Ÿé…ç½®</strong> &gt; <strong>å…¨å±€å±æ€§</strong> ä¸‹ï¼Œå°†MAVEN_HOMEè¿½åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œç„¶åæ‰«ææµæ°´çº¿å°±å¯ä»¥ä¸‹è½½ä¾èµ–äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># docker runä¸­æŒ‚è½½å®¿ä¸»æœºmavenåˆ°dockerå®¹å™¨ä¸­</span><br><span class="line">-v /opt/maven/maven-3.5.4:/usr/local/maven3 jenkins/jenkins:lts</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿˜æœ‰ä¸€ç§æŒ‚è½½æ–¹å¼ä¸éœ€è¦é‡æ–°è¿è¡Œé•œåƒï¼Œç›´æ¥ç»™å®¹å™¨æŒ‚è½½æ–°çš„ç›®å½•ï¼š</p>
<p>ä¿®æ”¹ /var/run/docker/containerid/å®¹å™¨id/hostconfig.json å’Œ /var/run/docker/containerid/å®¹å™¨id/config.v2.json</p>
<p>å‚è§ï¼š<a href="https://blog.51cto.com/hjun169/2440799"><strong>dockerç»™å·²ç»å¯åŠ¨å®¹å™¨æ·»åŠ æŒ‚è½½ç›®å½•</strong></a></p>
</blockquote>
<table>
<thead>
<tr>
<th>é”®</th>
<th>å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>MAVEN_HOME</td>
<td>/usr/local/maven3</td>
</tr>
<tr>
<td>PATH+EXTRA</td>
<td>$MAVEN_HOME/bin</td>
</tr>
</tbody></table>
<p><img src="https://images2.imgbox.com/3b/e8/TdGnBFXO_o.png" alt="image-20210614215244759"></p>
<p><img src="https://images2.imgbox.com/d3/52/bjcUGUDG_o.png" alt="image-20210614220211651"></p>
<br>

<h3 id="dockerå‘½ä»¤æ‰¾ä¸åˆ°"><a href="#dockerå‘½ä»¤æ‰¾ä¸åˆ°" class="headerlink" title="dockerå‘½ä»¤æ‰¾ä¸åˆ°"></a>dockerå‘½ä»¤æ‰¾ä¸åˆ°</h3><p>è§£å†³æ–¹æ¡ˆï¼š</p>
<blockquote>
<p>ç»™å¯åŠ¨çš„Dockerå®¹å™¨æŒ‚è½½å®¿ä¸»æœºçš„ docker ç¯å¢ƒ</p>
<p>å‚è§ï¼š<a href="https://blog.51cto.com/hjun169/2440799">dockerç»™å·²ç»å¯åŠ¨å®¹å™¨æ·»åŠ æŒ‚è½½ç›®å½•</a></p>
</blockquote>
<br>

<h3 id="var-run-docker-sock-connect-permission-denied"><a href="#var-run-docker-sock-connect-permission-denied" class="headerlink" title="/var/run/docker.sock: connect: permission denied"></a>/var/run/docker.sock: connect: permission denied</h3><p>è¿è¡Œåˆ° docker æ„å»ºé•œåƒçš„æ—¶å€™æç¤ºæƒé™ä¸è¶³ï¼Œ/var/run/docker.sock åªæœ‰ root æƒé™æ‰èƒ½è°ƒç”¨ï¼Œå¯ä»¥å°† jenkins ç”¨æˆ·åŠ åˆ° docker ç»„ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo gpasswd -a jenkins docker</span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™é‡Œdockeræ˜¯æŒ‚è½½äº†å®¿ä¸»æœºçš„dockerç›®å½•ï¼Œæ‰€ä»¥ä¸å­˜åœ¨dockerç»„ï¼Œç›´æ¥å°† /var/run/docker.sock æ”¹æˆ 777 æƒé™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker exec -u 0 -it å®¹å™¨id /bin/bash</span><br><span class="line">chmod -R 777 /var/run/docker.sock</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ„å»ºï¼š</p>
<p><img src="https://images2.imgbox.com/8d/31/wRrUrFYS_o.png" alt="image-20210614233909378"></p>
<p><img src="https://images2.imgbox.com/39/35/yfF9ESMJ_o.png" alt="image-20210614234227087"></p>
<p><img src="https://images2.imgbox.com/f3/7e/jHhCBKRU_o.png" alt="image-20210614234254467"></p>
<p><img src="https://images2.imgbox.com/fc/de/nCRwYNJE_o.png" alt="image-20210614234453876"></p>
<p>20æ¬¡çš„æµæ°´çº¿æ‰«æï¼Œä¸Šç™¾æ¬¡ Bing æœç´¢ï¼Œç»ˆäºæˆåŠŸçœ‹åˆ°äº†èµå¿ƒæ‚¦ç›®çš„ç»¿è‰²å’Œæ¥å£è¿”å›å€¼ ğŸ‰</p>
<br>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å…¶å®ä¸Šä¸ªæœˆå·²ç»åšä¸ªä¸€ä¸ª Jenkins Pipeline çš„å®è·µé¡¹ç›®ï¼Œä½†æ˜¯ä¸Šæ¬¡ Jenkins å’Œ Gitlab éƒ½æ˜¯è™šæ‹Ÿæœºå®‰è£…ï¼Œæ²¡æœ‰ä½¿ç”¨ Dockerï¼Œæ‰€ä»¥è¿™æ¬¡ä¸¤å¤©çš„å®è·µåŸºæœ¬ä¸Šæ˜¯å¡« Docker ä¸­é‡åˆ°çš„å‘ï¼Œç«¯åˆèŠ‚å‡æœŸä»Šå¤©ç»“æŸäº†ï¼Œå¾ˆåº†å¹¸è™½ç„¶è¿™ä¸¤å¤©æ–­æ–­ç»­ç»­ä½†è¿˜æ˜¯èµ¶åœ¨æœ€åçš„æ—¶é—´ç‚¹éƒ¨ç½²æˆåŠŸäº†ã€‚å¯¹ Docker ã€ Jenkins å’Œ Gitlab è¿™ä¸€å¥—æŠ€æœ¯æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚</p>
]]></content>
      <categories>
        <category>æŒç»­é›†æˆ</category>
      </categories>
      <tags>
        <tag>æŒç»­é›†æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>Elementçš„Navå¯¼èˆªé«˜äº®</title>
    <url>/2021/05/13/Element%E7%9A%84Nav%E5%AF%BC%E8%88%AA%E9%AB%98%E4%BA%AE/</url>
    <content><![CDATA[<p>è¿™ä¸¤å¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šelementçš„Navèœå•ç‚¹å‡»ä¹‹åï¼Œè·³è½¬åˆ°ç›¸åº”é¡µé¢ï¼Œç„¶åç‚¹å‡»ä¹‹åçš„èœå•è¦é«˜äº®æ˜¾ç¤ºã€‚èœå•å†™æˆäº†ç»„ä»¶ã€‚</p>
<p>ç ”ç©¶äº†å¥½é•¿æ—¶é—´æ²¡è§£å†³ï¼Œä»Šå¤©æ™šä¸Šæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå®Œç¾çš„è§£å†³äº†é—®é¢˜ï¼è®°å½•ä¸€ä¸‹ã€‚</p>
<p>é“¾æ¥ğŸ”—ï¼š<a href="https://www.cnblogs.com/liuqin-always/p/11603708.html">vue ä¸­ä½¿ç”¨element-uiçš„menué€‰ä¸­é¡¹é«˜äº®çš„é—®é¢˜</a></p>
<span id="more"></span>

<br>

<p>navç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding-left: 15px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-active</span>=<span class="string">&#x27;$route.name&#x27;</span> <span class="attr">class</span>=<span class="string">&quot;el-menu-vertical-demo&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">active-text-color</span>=<span class="string">&quot;#409EFF&quot;</span> <span class="attr">router</span></span></span><br><span class="line"><span class="tag">                @<span class="attr">open</span>=<span class="string">&quot;handleOpen&quot;</span> @<span class="attr">close</span>=<span class="string">&quot;handleClose&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;allQuestions&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Questions<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;tags&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Tags<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;users&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Users<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>ä½¿ç”¨:route.nameå’Œrouterï¼Œåœ¨ç‚¹å‡»èœå•åè·³è½¬åˆ°ç›¸åº”çš„é¡µé¢ï¼Œå…¶ä¸­ä¸€ä¸ªé¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pane&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">header1</span>&gt;</span><span class="tag">&lt;/<span class="name">header1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">side-bar</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 15px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">side-bar</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> SideBar <span class="keyword">from</span> <span class="string">&#x27;../components/SideBar.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&#x27;../components/Header.vue&#x27;</span></span></span><br><span class="line"><span class="javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">        <span class="string">&#x27;side-bar&#x27;</span>: SideBar,</span></span><br><span class="line"><span class="javascript">        <span class="string">&#x27;header1&#x27;</span>: Header,</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>è·¯ç”±çš„é…ç½®ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">export default new Router(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/users&#x27;,</span><br><span class="line">            name: &#x27;users&#x27;,</span><br><span class="line">            component: User</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<br>

<p>å‘ç°è¿™æ ·é…ç½®ä¹‹åä¼šå°† indexæ·»åŠ åˆ°pathä¸­ï¼Œèœå•ä¹Ÿèƒ½é«˜äº®æ˜¾ç¤ºã€‚</p>
]]></content>
      <categories>
        <category>Element</category>
      </categories>
      <tags>
        <tag>Element</tag>
      </tags>
  </entry>
  <entry>
    <title>Gité…ç½®ä»£ç†</title>
    <url>/2019/04/06/Git%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>gitçš„ä»£ç†é…ç½®</p>
<p>ç»™sublimeå®‰è£…æ’ä»¶çš„æ—¶å€™åˆç¢°åˆ°git cloneé€Ÿåº¦è¿‡æ…¢çš„é—®é¢˜ï¼Œè®°å½•ä¸€å“ˆï¼</p>
<span id="more"></span>



<ol>
<li><p>æ‰“å¼€sså…¨å±€ä»£ç†ï¼›</p>
</li>
<li><p>åˆ° <a href="https://www.ipaddress.com/">IPAddress.com</a> æ ¹æ® github.global.ssl.fastly.net è·å–githubæœåŠ¡å™¨åœ°å€ï¼›</p>
</li>
<li><p>åœ¨ /etc/hosts æˆ–è€…C:/windows/system32/driver/etc/hosts æ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”çš„è®°å½•ï¼š</p>
<p>ip github.global.ssl.fastly.net</p>
</li>
<li><p>è®¾ç½®gitä»£ç†ï¼š</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> httpå’Œhttpsåè®®ä»£ç†ï¼š</span></span><br><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy http://127.0.0.1:1080</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sock5çš„æƒ…å†µ</span></span><br><span class="line">git config --global http.proxy socks5://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy socks5://127.0.0.1:1080</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å–æ¶ˆä»£ç†</span></span><br><span class="line">git config --global unset http.proxy</span><br><span class="line">git config --global unset https.proxy</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sshåè®®ä»£ç†ï¼šåœ¨ç”¨æˆ·ç›®å½•ä¸‹å»ºç«‹å¦‚ä¸‹æ–‡ä»¶ ~/.ssh/configï¼Œå¯¹ GitHub çš„åŸŸååšå•ç‹¬çš„å¤„ç†</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™é‡Œå¿…é¡»æ˜¯ github.comï¼Œå› ä¸ºè¿™ä¸ªè·Ÿæˆ‘ä»¬ <span class="built_in">clone</span> ä»£ç æ—¶çš„é“¾æ¥æœ‰å…³</span></span><br><span class="line">Host github.com</span><br><span class="line"><span class="meta">   #</span><span class="bash"> å¦‚æœç”¨é»˜è®¤ç«¯å£ï¼Œè¿™é‡Œæ˜¯ github.comï¼Œå¦‚æœæƒ³ç”¨443ç«¯å£ï¼Œè¿™é‡Œå°±æ˜¯ ssh.github.com è¯¦è§ https://help.github.com/articles/using-ssh-over-the-https-port/</span></span><br><span class="line">   HostName github.com</span><br><span class="line">   User git</span><br><span class="line"><span class="meta">   #</span><span class="bash"> å¦‚æœæ˜¯ HTTP ä»£ç†ï¼ŒæŠŠä¸‹é¢è¿™è¡Œå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æŠŠ proxyport æ”¹æˆè‡ªå·±çš„ http ä»£ç†çš„ç«¯å£</span></span><br><span class="line">     ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=6667</span><br><span class="line"><span class="meta">   #</span><span class="bash"> å¦‚æœæ˜¯ socks5 ä»£ç†ï¼Œåˆ™æŠŠä¸‹é¢è¿™è¡Œå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æŠŠ 6666 æ”¹æˆè‡ªå·± socks5 ä»£ç†çš„ç«¯å£</span></span><br><span class="line">     ProxyCommand nc -v -x 127.0.0.1:6666 %h %p</span><br></pre></td></tr></table></figure>

<p>==&gt;&gt; <a href="https://imciel.com/2016/06/28/git-proxy/">è®¾ç½® git ä»£ç†</a> </p>
<p>åœ¨Ubuntuä¸‹éœ€è¦åœ¨ç½‘ç»œè®¾ç½®é‡Œæ‰“å¼€ç½‘ç»œä»£ç†è®¾ç½®ä»£ç†ä¸»æœºï¼šsocks5://127.0.0.1:1080</p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢å¤‡ä»½</title>
    <url>/2018/11/18/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD/</url>
    <content><![CDATA[<h3 id="å…»æˆå¤‡ä»½çš„å¥½ä¹ æƒ¯"><a href="#å…»æˆå¤‡ä»½çš„å¥½ä¹ æƒ¯" class="headerlink" title="å…»æˆå¤‡ä»½çš„å¥½ä¹ æƒ¯"></a>å…»æˆå¤‡ä»½çš„å¥½ä¹ æƒ¯</h3><p>èŠ±äº†å¥½é•¿æ—¶é—´æ€»ç®—æ˜¯æŠŠåšå®¢æ­å»ºèµ·æ¥äº†ï¼Œä¹‹å‰è‡ªå·±ä¹°çš„æœåŠ¡å™¨ç”¨Wordpressæ­å»ºåšå®¢ï¼Œä½†æ˜¯å› ä¸ºæœåŠ¡å™¨ç»å¸¸éœ€è¦ä½¿ç”¨ï¼Œå®‰è£…ä¸€äº›å…¶ä»–è½¯ä»¶ä»€ä¹ˆçš„ï¼Œå¯¼è‡´Wordpressè¿è¡Œä¸æ˜¯å¾ˆç¨³å®šï¼Œè¿˜å¾ˆå®¹æ˜“è¢«å¢™ã€‚</p>
<p>å› ä¸ºHexoæ¯æ¬¡æ‰§è¡Œhexo g -dä¹‹åå‘å¸ƒçš„éƒ½æ˜¯ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œç«™ç‚¹ä»¥åŠä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸ä¼šä¸€åŒå‘å¸ƒåˆ°githubä¸Šï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå¦‚æœåœ¨å¦ä¸€ä¸ªæœºå™¨ä¸Šè¦æ›´æ–°åšå®¢ï¼Œæ ¹æœ¬åšä¸åˆ°ã€‚æ‰€ä»¥å°±æƒ³ç€æŠŠæºæ–‡ä»¶å¤‡ä»½ä¸€ä¸‹ã€‚</p>
<span id="more"></span>



<hr>
<h3 id="ä½¿ç”¨githubå¤‡ä»½è½»æ¾å¤‡ä»½"><a href="#ä½¿ç”¨githubå¤‡ä»½è½»æ¾å¤‡ä»½" class="headerlink" title="ä½¿ç”¨githubå¤‡ä»½è½»æ¾å¤‡ä»½"></a>ä½¿ç”¨githubå¤‡ä»½è½»æ¾å¤‡ä»½</h3><p>githubæœ¬æ¥å°±æ˜¯ä¸€ä¸ªä»“åº“ï¼Œç”¨å®ƒæ¥å¤‡ä»½æœ€åˆé€‚ä¸è¿‡äº†ã€‚</p>
<ol>
<li>å»ºç«‹æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œå°†éœ€è¦å¤‡ä»½çš„æ–‡ä»¶å­˜æ‹·è´åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ï¼›</li>
<li>åœ¨username.github.ioä»“åº“ä¸‹æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼›</li>
<li>å»ºç«‹æœ¬åœ°å¤‡ä»½æ–‡ä»¶å¤¹ä¸è¿œç¨‹ä»“åº“çš„å…³è”ï¼›</li>
<li>å°†æœ¬åœ°æ–‡ä»¶å¤¹pushåˆ°ä»“åº“ï¼›</li>
<li>æ¯æ¬¡åšå®¢æ›´æ–°ï¼Œå…ˆå‘å¸ƒé™æ€æ–‡ä»¶ï¼Œç„¶ååœ¨æäº¤æºæ–‡ä»¶ã€‚</li>
</ol>
<hr>
<h3 id="éœ€è¦å¤‡ä»½çš„æ–‡ä»¶"><a href="#éœ€è¦å¤‡ä»½çš„æ–‡ä»¶" class="headerlink" title="éœ€è¦å¤‡ä»½çš„æ–‡ä»¶"></a>éœ€è¦å¤‡ä»½çš„æ–‡ä»¶</h3><ol>
<li>_config.yml</li>
<li>package.json</li>
<li>/scaffolds</li>
<li>/source</li>
<li>/themes</li>
</ol>
<hr>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>æ„Ÿè§‰æ¯æ¬¡æ›´æ–°åšå®¢ä¹‹åéƒ½éœ€è¦æ‹·è´ä¸€ä¸‹ä¸Šé¢è¿™å‡ ä¸ªæ–‡ä»¶ï¼Œæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ²¡æƒ³åˆ°ä»€ä¹ˆå¥½åŠæ³•ã€‚</p>
<p><strong>gitç¬¬ä¸€æ¬¡commitä¹‹åæ‰èƒ½æŸ¥çœ‹åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œpushä¹‹åèƒ½æ˜¾ç¤ºè¿œç¨‹åˆ†æ”¯ã€‚</strong></p>
<hr>
<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><p>ç”¨pythonè„šæœ¬æ¥å¤åˆ¶æ–‡ä»¶ï¼Œå¹¶ä¸”å°†æ‰§è¡Œå‘½ä»¤æ·»åŠ åˆ°ç»ˆç«¯å‘½ä»¤ä¸­ï¼Œè¿™æ ·åªéœ€è¦å¤šæ‰§è¡Œä¸€ä¸ªè‡ªå®šä¹‰å‘½ä»¤æ¥è¿è¡Œè„šæœ¬ï¼Œæ›´æ–¹ä¾¿ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!user/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">source_path = <span class="string">&quot;/Users/youyou2608/Kotobuki&quot;</span></span><br><span class="line">target_path = <span class="string">&quot;/Users/youyou2608/BlogBack&quot;</span></span><br><span class="line">filter_files = [<span class="string">&quot;db.json&quot;</span>, <span class="string">&quot;public&quot;</span>, <span class="string">&quot;package-lock.json&quot;</span>, <span class="string">&quot;node_modules&quot;</span>, <span class="string">&quot;.deploy_git&quot;</span>]</span><br><span class="line">file_updated = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copy_files</span>(<span class="params">source_dir, target_dir</span>):</span></span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(source_dir):</span><br><span class="line">        <span class="keyword">if</span> f <span class="keyword">in</span> filter_files:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        source_file = os.path.join(source_dir, f)</span><br><span class="line">        target_file = os.path.join(target_dir, f)</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(source_file):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(target_dir):</span><br><span class="line">                os.makedirs(target_dir)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(target_file) <span class="keyword">or</span> (</span><br><span class="line">                    os.path.exists(target_file) <span class="keyword">and</span> os.path.getsize(target_file) != os.path.getsize(source_file)):</span><br><span class="line">                <span class="built_in">open</span>(target_file, <span class="string">&quot;wb&quot;</span>).write(<span class="built_in">open</span>(source_file, <span class="string">&quot;rb&quot;</span>).read())</span><br><span class="line">                file_updated.append(source_file)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(source_file):</span><br><span class="line">            copy_files(source_file, target_file)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¼€å§‹Hexoç«™ç‚¹æºæ–‡ä»¶å¤åˆ¶..&quot;</span>)</span><br><span class="line">    copy_files(source_path, target_path)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç«™ç‚¹æºæ–‡ä»¶å¤åˆ¶å®Œæ¯•..&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨ /etc/profile ä¸­æ·»åŠ ä¸€è¡Œï¼šalias â€˜copy_hexo_sourceâ€™=â€™python copy_hexo_source.pyâ€™ ï¼Œè¿™æ ·ç»ˆç«¯è¿è¡Œ copy_hexo_source å°±å¯ä»¥å¤åˆ¶æ–‡ä»¶äº†ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢åŒæ—¶éƒ¨ç½²åˆ°githubå’Œcodingå¹¶è®¾ç½®åŒçº¿è§£æ</title>
    <url>/2018/11/19/Hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%97%B6%E9%83%A8%E7%BD%B2%E5%88%B0github%E5%92%8Ccoding%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%8F%8C%E7%BA%BF%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>å› ä¸ºgithubæœåŠ¡å™¨ç¦æ­¢äº†ç™¾åº¦çˆ¬è™«ï¼Œæ‰€ä»¥ä¸èƒ½ç™¾åº¦æ”¶å½•ä¸äº†ç«™ç‚¹ï¼Œå¯¼è‡´è®¿é—®é‡å¾ˆä½ï¼Œæœ¬æ¥ä¸æƒ³æŠ˜è…¾çš„ï¼Œæƒ³äº†ä¸€ä¸‹è¿˜æ˜¯å°†åšå®¢ä¹Ÿéƒ¨ç½²åˆ°äº†codingä¸Šï¼Œæ–¹ä¾¿ç™¾åº¦çš„æ”¶å½•ã€‚</p>
<span id="more"></span>



<h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><ol>
<li><p>åœ¨codingä¸Šåˆ›å»ºä¸€ä¸ªåä¸º <strong>ç”¨æˆ·å</strong> (ä¸æ˜¯æ˜µç§°)çš„é¡¹ç›®ï¼Œå¹¶å¼€å¯pagesæœåŠ¡ï¼›</p>
</li>
<li><p>å°†æœ¬åœ°sshå…¬é’¥æ–‡ä»¶æ·»åŠ åˆ°codingçš„SSHå…¬é’¥ä¸­å¹¶æµ‹è¯•æ˜¯å¦èƒ½è®¿é—®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T -p 443 git@git-ssh.coding.net</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸Šcodingä»“åº“åœ°å€ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:Kotobuki-Tsumugi/Kotobuki-Tsumugi.github.io.git</span></span><br><span class="line">    <span class="attr">coding:</span> <span class="string">git@git.dev.tencent.com:Kobobuki-Tsumugi/Kobobuki-Tsumugi.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨ç«™ç‚¹ç›®å½•/sourceä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºStaticfileçš„ç©ºæ–‡ä»¶ï¼›</p>
</li>
<li><p>ç”Ÿæˆå¹¶ä¸Šä¼ é™æ€æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨åŸŸåè§£æä¸­æ–°å¢ä¸¤æ¡CNAMEè®°å½•ï¼ŒæŒ‡å‘username.coding.meï¼Œæ³¨æ„åŒºåˆ†å¢ƒå¤–çº¿è·¯å’Œé»˜è®¤çº¿è·¯ï¼ŒæŒ‡å‘codingçš„å¿…é¡»ä¸ºé»˜è®¤çº¿è·¯ï¼Œå¦‚æœä¸èƒ½æ­£å¸¸è®¿é—®ï¼Œå¯ä»¥å…ˆæš‚åœgithubçš„è§£æï¼Œå¾…codingçš„è§£ææˆåŠŸåå†å¼€å¯githubçš„è§£æï¼Œè§£æååº”ä¸åŠæ—¶ã€‚</p>
</li>
<li><p>å‘ç™¾åº¦æäº¤ç«™ç‚¹sitemapæ–‡ä»¶åœ°å€ã€‚</p>
</li>
</ol>
<h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><p>å…¶ä¸­ä¹Ÿé‡åˆ°ä¸€äº›ç„å­¦çš„é—®é¢˜ï¼š</p>
<p><img src="https://images2.imgbox.com/0e/48/c6Y1zWYh_o.png" alt="codingæç¤ºåŸŸåç»‘å®šå¼‚å¸¸"></p>
<p>æ¯”å¦‚ä¸Šå›¾ï¼Œæˆ‘å¦‚æœç»‘å®šyouyou-2608.com åˆ™ä¸€ç›´æç¤ºâ€œåŸŸåæœªè”é€šâ€ï¼Œå³ä¾¿æˆ‘å·²ç»æ·»åŠ äº†æŒ‡å‘username.coding.meçš„CNAMEè®°å½•ï¼Œæ·»åŠ <a href="http://www.youyou-2608.com/">www.youyou-2608.com</a> èƒ½ç»‘å®šä¸Šï¼Œä½†æ˜¯ç»‘å®šçŠ¶æ€ä¸€ç›´æ˜¯å¼‚å¸¸ï¼Œè®¿é—®username.coding.meä¹Ÿèƒ½æ­£å¸¸è·³è½¬åˆ°<a href="https://youyou-2608.com/">https://youyou-2608.com</a> ï¼Œæ²¡å¤ªææ˜ç™½ï¼Œæ—¢ç„¶å·²ç»èƒ½æ­£å¸¸è®¿é—®ï¼Œä¹Ÿå°±ä½œç½¢äº†ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>IDEA Terminalé—ªé€€</title>
    <url>/2019/04/09/IDEA-Terminal%E9%97%AA%E9%80%80/</url>
    <content><![CDATA[<p>IDEA Terminalé—ªé€€</p>
<ol>
<li>æŸ¥çœ‹help &gt; Show Log in Fileï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼›</li>
</ol>
<ol>
<li>æŸ¥çœ‹File &gt; Settings &gt; Terminal &gt; shell pathï¼Œ=&gt; /bin/bashï¼Œé‡å¯ç»ˆç«¯ã€‚</li>
</ol>
<p> <a href="https://youtrack.jetbrains.com/issue/IDEA-202821">Black Terminal or Terminal doesnot work</a> </p>
]]></content>
      <categories>
        <category>IDEA</category>
      </categories>
      <tags>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå¤šçº¿ç¨‹</title>
    <url>/2020/10/08/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<p>åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç»§æ‰¿Threadç±»ï¼›</li>
<li>å®ç°Runnableæ¥å£ã€‚</li>
</ul>
<span id="more"></span>

<ol>
<li>ç»§æ‰¿Threadç±»ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;My thread.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line">        myThread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å½“ä¸€ä¸ªç±»å·²ç»ç»§æ‰¿äº†å…¶ä»–ç±»æ—¶ï¼Œå°±åªèƒ½å®ç°Runnableæ¥å£ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">OtherClass</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;my thread&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆåˆ›å»ºä¸€ä¸ªThreadå®ä¾‹ï¼Œå†ä¼ å…¥è‡ªå·±çš„MyThreadå®ä¾‹</span></span><br><span class="line">        MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line">        <span class="keyword">new</span> Thread(myThread).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>Threadç±»å®ç°äº†Runnableæ¥å£ã€‚</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> priority;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å½“çº¿ç¨‹æœ‰è¿”å›å€¼æ—¶ï¼Œå¿…é¡»å®ç°Callableæ¥å£ï¼Œæ‰§è¡ŒCallableä»»åŠ¡åè¿”å›Futureå¯¹è±¡ï¼Œè°ƒç”¨Futureå¯¹è±¡çš„get()æ–¹æ³•è·å–è¿”å›å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">implements</span> <span class="title">Callable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">    MyThread2(<span class="keyword">int</span> i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i * i * i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> taskSize = <span class="number">10</span>;</span><br><span class="line">        ExecutorService pool = Executors.newFixedThreadPool(taskSize);</span><br><span class="line">        List&lt;Future&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; taskSize; i++) &#123;</span><br><span class="line">            Callable callable = <span class="keyword">new</span> MyThread2(i);</span><br><span class="line">            Future future = pool.submit(callable);</span><br><span class="line">            list.add(future);</span><br><span class="line">        &#125;</span><br><span class="line">        pool.shutdown();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Future future : list) &#123;</span><br><span class="line">            System.out.println(future.get().toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>new Threadçš„å¼Šç«¯å¦‚ä¸‹ï¼š</strong></p>
<p>a. æ¯æ¬¡new Threadæ–°å»ºå¯¹è±¡æ€§èƒ½å·®ã€‚<br>b. çº¿ç¨‹ç¼ºä¹ç»Ÿä¸€ç®¡ç†ï¼Œå¯èƒ½æ— é™åˆ¶æ–°å»ºçº¿ç¨‹ï¼Œç›¸äº’ä¹‹é—´ç«äº‰ï¼ŒåŠå¯èƒ½å ç”¨è¿‡å¤šç³»ç»Ÿèµ„æºå¯¼è‡´æ­»æœºæˆ–oomã€‚<br>c. ç¼ºä¹æ›´å¤šåŠŸèƒ½ï¼Œå¦‚å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€çº¿ç¨‹ä¸­æ–­ã€‚</p>
<p><strong>ç›¸æ¯”new Threadï¼ŒJavaæä¾›çš„å››ç§çº¿ç¨‹æ± çš„å¥½å¤„åœ¨äºï¼š</strong></p>
<p>a. é‡ç”¨å­˜åœ¨çš„çº¿ç¨‹ï¼Œå‡å°‘å¯¹è±¡åˆ›å»ºã€æ¶ˆäº¡çš„å¼€é”€ï¼Œæ€§èƒ½ä½³ã€‚<br>b. å¯æœ‰æ•ˆæ§åˆ¶æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°ï¼Œæé«˜ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ç‡ï¼ŒåŒæ—¶é¿å…è¿‡å¤šèµ„æºç«äº‰ï¼Œé¿å…å µå¡ã€‚<br>c. æä¾›å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€å•çº¿ç¨‹ã€å¹¶å‘æ•°æ§åˆ¶ç­‰åŠŸèƒ½ã€‚</p>
<p>å‚è§ &gt;&gt; <a href="https://blog.csdn.net/u011974987/article/details/51027795">Java å››ç§çº¿ç¨‹æ± çš„ç”¨æ³•åˆ†æ</a></p>
<p>Javaæä¾›çš„4ç§çº¿ç¨‹æ± ï¼š</p>
<ul>
<li>newCachedThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œ<strong>å¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹</strong>ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚</li>
<li>newFixedThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œ<strong>å¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°</strong>ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚</li>
<li>newSchuduledThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œ<strong>æ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ</strong>ã€‚</li>
<li>newSingleThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œ<strong>ä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œ</strong>ã€‚</li>
</ul>
<p>newCachedThreadPool</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ExecutorService pool = Executors.newCachedThreadPool();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> index = i;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(i * <span class="number">500</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            pool.execute(() -&gt; System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + index));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>çº¿ç¨‹æ± ä¸ºæ— é™å¤§ï¼Œå½“æ‰§è¡Œç¬¬äºŒä¸ªä»»åŠ¡æ—¶ç¬¬ä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œä¼šå¤ç”¨æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡çš„çº¿ç¨‹ï¼Œè€Œä¸ç”¨æ¯æ¬¡æ–°å»ºçº¿ç¨‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pool-1-thread-1 0</span><br><span class="line">pool-1-thread-1 1</span><br><span class="line">pool-1-thread-1 2</span><br><span class="line">pool-1-thread-1 3</span><br><span class="line">pool-1-thread-1 4</span><br><span class="line">pool-1-thread-1 5</span><br><span class="line">pool-1-thread-1 6</span><br><span class="line">pool-1-thread-1 7</span><br><span class="line">pool-1-thread-1 8</span><br><span class="line">pool-1-thread-1 9</span><br></pre></td></tr></table></figure>



<p>newFixedThreadPool</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ExecutorService pool = Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> x = i;</span><br><span class="line">    pool.execute(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;  &quot;</span> + x);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»»åŠ¡æ•°è¶…å‡ºæœ€å¤§çº¿ç¨‹æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šç­‰å¾…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pool-1-thread-2  1</span><br><span class="line">pool-1-thread-3  2</span><br><span class="line">pool-1-thread-1  0</span><br><span class="line">pool-1-thread-2  3</span><br><span class="line">pool-1-thread-1  5</span><br><span class="line">pool-1-thread-3  4</span><br><span class="line">pool-1-thread-2  6</span><br><span class="line">pool-1-thread-1  7</span><br><span class="line">pool-1-thread-3  8</span><br><span class="line">pool-1-thread-2  9</span><br></pre></td></tr></table></figure>



<p>newSchuduledThreadPool</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ScheduledExecutorService pool = Executors.newScheduledThreadPool(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// å»¶è¿Ÿ 1 ç§’åæ¯ 3 ç§’æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">pool.scheduleAtFixedRate(() -&gt; System.out.println(Thread.currentThread().getName()), <span class="number">1</span>, <span class="number">3</span>, TimeUnit.SECONDS);</span><br></pre></td></tr></table></figure>



<p>newSingleThreadPool</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ExecutorService pool = Executors.newSingleThreadExecutor();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> index = i;</span><br><span class="line">    pool.execute(() -&gt; System.out.println(Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + index));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pool-1-thread-1 0</span><br><span class="line">pool-1-thread-1 1</span><br><span class="line">pool-1-thread-1 2</span><br><span class="line">pool-1-thread-1 3</span><br><span class="line">pool-1-thread-1 4</span><br><span class="line">pool-1-thread-1 5</span><br><span class="line">pool-1-thread-1 6</span><br><span class="line">pool-1-thread-1 7</span><br><span class="line">pool-1-thread-1 8</span><br><span class="line">pool-1-thread-1 9</span><br></pre></td></tr></table></figure>



<p>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>æ–°å»ºNewï¼šJVMåˆ†é…å†…å­˜ï¼Œå¹¶åˆå§‹åŒ–æˆå‘˜å˜é‡çš„å€¼ï¼›</p>
<p>å°±ç»ªRunnableï¼šåˆ›å»ºæ–¹æ³•è°ƒç”¨æ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼›</p>
<p>è¿è¡Œ Runningï¼šè·å¾—CPUï¼Œæ‰§è¡Œrun()æ–¹æ³•ï¼›</p>
<p>é˜»å¡ Blockedï¼šè®©å‡ºCPUæ—¶é—´ç‰‡ï¼Œåœæ­¢è¿è¡Œï¼›</p>
<p>æ­»äº¡ Deadï¼šæ­£å¸¸ç»“æŸï¼Œå¼‚å¸¸ç»“æŸæˆ–è°ƒç”¨stop()æ–¹æ³•ã€‚</p>
<blockquote>
<p>wait()å’Œsleep()çš„å…³é”®çš„åŒºåˆ«åœ¨äºï¼Œsleep()æ–¹æ³•å±äºThreadç±»ï¼Œwait()æ–¹æ³•å±äºObjectç±»ï¼Œwait()æ˜¯ç”¨äºçº¿ç¨‹é—´é€šä¿¡çš„ï¼Œè€Œsleep()æ˜¯ç”¨äºçŸ­æ—¶é—´æš‚åœå½“å‰çº¿ç¨‹ã€‚æ›´åŠ æ˜æ˜¾çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼Œ<strong>å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨wait()æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šé‡Šæ”¾å®ƒé”æŒæœ‰çš„å¯¹è±¡çš„ç®¡ç¨‹å’Œé”ï¼Œä½†æ˜¯è°ƒç”¨sleep()æ–¹æ³•çš„æ—¶å€™ï¼Œä¸ä¼šé‡Šæ”¾ä»–æ‰€æŒæœ‰çš„ç®¡ç¨‹ã€‚</strong></p>
<p>è€Œå½“è°ƒç”¨ wait()æ–¹æ³•çš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šæ”¾å¼ƒå¯¹è±¡é”ï¼Œè¿›å…¥ç­‰å¾…æ­¤å¯¹è±¡çš„ç­‰å¾…é”å®šæ± ï¼Œåªæœ‰é’ˆå¯¹æ­¤å¯¹è±¡è°ƒç”¨ notify()æ–¹æ³•åæœ¬çº¿ç¨‹æ‰è¿›å…¥å¯¹è±¡é”å®šæ± å‡†å¤‡è·å–å¯¹è±¡é”è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</p>
</blockquote>
<p>ç»ˆæ­¢çº¿ç¨‹çš„3ç§æ–¹å¼ &gt; <a href="https://blog.csdn.net/Smile_Miracle/article/details/71550548">Javaä¸­å¦‚ä½•ä¼˜é›…æ­£ç¡®çš„ç»ˆæ­¢çº¿ç¨‹</a></p>
<ol>
<li><p>ä½¿ç”¨stop()æ–¹æ³•</p>
<p>thread.stop()è°ƒç”¨ä¹‹åï¼Œåˆ›å»ºå­çº¿ç¨‹çš„çº¿ç¨‹å°±ä¼šæŠ›å‡º ThreadDeatherror çš„é”™è¯¯ï¼Œå¹¶ä¸”ä¼šé‡Šæ”¾å­çº¿ç¨‹æ‰€æŒæœ‰çš„æ‰€æœ‰é”ã€‚ä¸€èˆ¬ä»»ä½•è¿›è¡ŒåŠ é”çš„ä»£ç å—ï¼Œéƒ½æ˜¯ä¸ºäº†ä¿æŠ¤æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¦‚æœåœ¨è°ƒç”¨thread.stop()åå¯¼è‡´äº†è¯¥çº¿ç¨‹æ‰€æŒæœ‰çš„æ‰€æœ‰é”çš„çªç„¶é‡Šæ”¾(ä¸å¯æ§åˆ¶)ï¼Œé‚£ä¹ˆè¢«ä¿æŠ¤æ•°æ®å°±æœ‰å¯èƒ½å‘ˆç°ä¸ä¸€è‡´æ€§ï¼Œå…¶ä»–çº¿ç¨‹åœ¨ä½¿ç”¨è¿™äº›è¢«ç ´åçš„æ•°æ®æ—¶ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸€äº›å¾ˆå¥‡æ€ªçš„åº”ç”¨ç¨‹åºé”™è¯¯ã€‚å› æ­¤ï¼Œå¹¶ä¸æ¨èä½¿ç”¨ stop æ–¹æ³•æ¥ç»ˆæ­¢çº¿ç¨‹ã€‚</p>
</li>
<li><p>ä½¿ç”¨volatileæ ‡å¿—ä½ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">volatile</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;åˆ›å»º&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000L</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (flag) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ç»ˆæ­¢&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        MyRunnable myRunnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(myRunnable, i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">2000L</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------&quot;</span>);</span><br><span class="line">        myRunnable.flag = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 åˆ›å»º</span><br><span class="line">2 åˆ›å»º</span><br><span class="line">1 åˆ›å»º</span><br><span class="line">-------</span><br><span class="line">2 ç»ˆæ­¢</span><br><span class="line">0 ç»ˆæ­¢</span><br><span class="line">1 ç»ˆæ­¢</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨interruptæ–¹å¼</p>
<ol>
<li><p>çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€æ—¶ï¼š</p>
<p>å¦‚ä½¿ç”¨äº† sleep,åŒæ­¥é”çš„ wait,socket ä¸­çš„ receiver,accept ç­‰æ–¹æ³•æ—¶ï¼Œä¼šä½¿çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ã€‚å½“è°ƒç”¨çº¿ç¨‹çš„ interrupt()æ–¹æ³•æ—¶ï¼Œä¼šæŠ›å‡º InterruptException å¼‚å¸¸ã€‚é˜»å¡ä¸­çš„é‚£ä¸ªæ–¹æ³•æŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ï¼Œé€šè¿‡ä»£ç æ•è·è¯¥å¼‚å¸¸ï¼Œç„¶å break è·³å‡ºå¾ªç¯çŠ¶æ€ï¼Œä»è€Œè®©æˆ‘ä»¬æœ‰æœºä¼šç»“æŸè¿™ä¸ªçº¿ç¨‹çš„æ‰§è¡Œã€‚é€šå¸¸å¾ˆå¤šäººè®¤ä¸ºåªè¦è°ƒç”¨ interrupt æ–¹æ³•çº¿ç¨‹å°±ä¼šç»“æŸï¼Œå®é™…ä¸Šæ˜¯é”™çš„ï¼Œ ä¸€å®šè¦å…ˆæ•è· InterruptedException å¼‚å¸¸ä¹‹åé€šè¿‡break æ¥è·³å‡ºå¾ªç¯ï¼Œæ‰èƒ½æ­£å¸¸ç»“æŸ run æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread5</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000L</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread5 thread5 = <span class="keyword">new</span> MyThread5();</span><br><span class="line">        thread5.start();</span><br><span class="line">        <span class="keyword">boolean</span> interrupted = thread5.isInterrupted();</span><br><span class="line">        <span class="keyword">if</span> (!interrupted) &#123;</span><br><span class="line">            thread5.interrupt();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output</span><br><span class="line">java.lang.InterruptedException: sleep interrupted</span><br><span class="line">	at java.base/java.lang.Thread.sleep(Native Method)</span><br><span class="line">	at ch4.MyThread5.run(MyThread5.java:<span class="number">12</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>çº¿ç¨‹æœªå¤„äºé˜»å¡çŠ¶æ€ï¼š</p>
<p>ä½¿ç”¨ isInterrupted()åˆ¤æ–­çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—æ¥é€€å‡ºå¾ªç¯ã€‚å½“ä½¿ç”¨<br>interrupt()æ–¹æ³•æ—¶ï¼Œä¸­æ–­æ ‡å¿—å°±ä¼šç½® trueï¼Œå’Œä½¿ç”¨è‡ªå®šä¹‰çš„æ ‡å¿—æ¥æ§åˆ¶å¾ªç¯æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread5</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.run();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;çº¿ç¨‹å¼€å§‹ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">200000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;çº¿ç¨‹ç»“æŸã€‚&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åœ¨æ²‰ç¡ä¸­è¢«åœæ­¢, è¿›å…¥catchï¼Œ è°ƒç”¨isInterrupted()æ–¹æ³•çš„ç»“æœæ˜¯ï¼š&quot;</span> + <span class="keyword">this</span>.isInterrupted());</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread5 thread5 = <span class="keyword">new</span> MyThread5();</span><br><span class="line">        thread5.start();</span><br><span class="line">        thread5.interrupt();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output</span><br><span class="line">çº¿ç¨‹å¼€å§‹ã€‚ã€‚ã€‚</span><br><span class="line">åœ¨æ²‰ç¡ä¸­è¢«åœæ­¢, è¿›å…¥<span class="keyword">catch</span>ï¼Œ è°ƒç”¨isInterrupted()æ–¹æ³•çš„ç»“æœæ˜¯ï¼š<span class="keyword">false</span></span><br><span class="line">java.lang.InterruptedException: sleep interrupted</span><br><span class="line">	at java.base/java.lang.Thread.sleep(Native Method)</span><br><span class="line">	at ch4.MyThread5.run(MyThread5.java:<span class="number">13</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<p>çº¿ç¨‹åŸºæœ¬æ–¹æ³•ï¼š</p>
<p>yieldï¼šçº¿ç¨‹çš„ç¤¼è®©æŒ‡çš„æ˜¯å…ˆå°†çº¿ç¨‹çš„èµ„æºè®©å‡ºå»ï¼Œè®©åˆ«çš„çº¿ç¨‹å…ˆæ‰§è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadMethod</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">10</span>; x++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (x % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    Thread.yield(); <span class="comment">//çº¿ç¨‹ç¤¼è®©</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;ç©è€çº¿ç¨‹ç¤¼è®©æ‰§è¡Œ ***********************&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ã€ x = &quot;</span> + x);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;ç©è€çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">10</span>; x++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = &quot;</span> + x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç©è€çº¿ç¨‹ç¤¼è®©æ‰§è¡Œ ***********************</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 0</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 1</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 2</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 3</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 4</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 5</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 6</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 7</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 8</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 9</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 0</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 1</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 2</span><br><span class="line">ç©è€çº¿ç¨‹ç¤¼è®©æ‰§è¡Œ ***********************</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 3</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 4</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 5</span><br><span class="line">ç©è€çº¿ç¨‹ç¤¼è®©æ‰§è¡Œ ***********************</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 6</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 7</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 8</span><br><span class="line">ç©è€çº¿ç¨‹ç¤¼è®©æ‰§è¡Œ ***********************</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 9</span><br></pre></td></tr></table></figure>



<p>join: çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼ŒæŒ‡çš„å½“æ»¡è¶³æŸäº›æ¡ä»¶ä¹‹åï¼ŒæŸä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å°†ä¸€ç›´å¯ä»¥ç‹¬å èµ„æºï¼Œä¸€ç›´åˆ°è¯¥çº¿ç¨‹çš„ç¨‹åºæ‰§è¡Œç»“æŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadMethod</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread mainThread = Thread.currentThread(); <span class="comment">//è·å¾—ä¸»çº¿ç¨‹</span></span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">10</span>; x++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (x == <span class="number">3</span>) &#123;  <span class="comment">//å¦‚æœx == 3ï¼Œå°±å¼ºåˆ¶æ‰§è¡Œä¸»çº¿ç¨‹</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        mainThread.join();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ã€ x = &quot;</span> + x);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;ç©è€çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">10</span>; x++) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100L</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = &quot;</span> + x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 0</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 1</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 2</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 0</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 1</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 2</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 3</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 4</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 5</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 6</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 7</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 8</span><br><span class="line">ã€éœ¸é“çš„mainä¸»çº¿ç¨‹ã€‘ x = 9</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 3</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 4</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 5</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 6</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 7</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 8</span><br><span class="line">ç©è€çš„çº¿ç¨‹ã€ x = 9</span><br></pre></td></tr></table></figure>



<p>sleepï¼š ä¼‘çœ çš„ä¸»è¦ç‰¹ç‚¹æ˜¯å¯ä»¥è‡ªåŠ¨å®ç°çº¿ç¨‹çš„å”¤é†’ï¼Œä»¥ç»§ç»­è¿›è¡Œåç»­çš„å¤„ç†ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç°åœ¨æœ‰å¤šä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä¼‘çœ ä¹Ÿæ˜¯æœ‰å¤šä¸ªå…ˆåé¡ºåºçš„ã€‚</p>
<p>waitå’Œnotifyï¼š</p>
<ul>
<li>synchronizedå…³é”®è¯ç”¨äºäº’æ–¥è®¿é—®ã€‚</li>
<li>ä¸ºäº†è®©ä¸€ä¸ªæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œç®€å•çš„æ·»åŠ synchronizedå…³é”®è¯åˆ°å®ƒä»¬çš„å£°æ˜ä¸Šã€‚é‚£ä¹ˆåŒä¸€ä¸ªå¯¹è±¡ä¸Šæ²¡æœ‰ä¸¤ä¸ªåŒæ­¥æ–¹æ³•çš„è°ƒç”¨å¯ä»¥ç›¸äº’äº¤é”™ã€‚</li>
<li>åŒæ­¥è¯­å¥å¿…é¡»æŒ‡å®šæä¾›å†…åœ¨é”çš„å¯¹è±¡ã€‚å½“ä½¿ç”¨synchronized(this)æ—¶å€™ï¼Œå¿…é¡»é¿å…ä½¿ç”¨åŒæ­¥å…¶ä»–å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ã€‚</li>
<li>wait()å‘Šè¯‰è°ƒç”¨çš„çº¿ç¨‹æ”¾å¼ƒç›‘è§†å™¨å’Œè¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹è¿›å…¥ç›¸åŒçš„ç›‘è§†å™¨å’Œè°ƒç”¨notify()ã€‚</li>
<li>notify()å”¤é†’åœ¨ç›¸åŒå¯¹è±¡ä¸Šç¬¬ä¸€ä¸ªè°ƒç”¨wait()çš„çº¿ç¨‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadA</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ThreadB b = <span class="keyword">new</span> ThreadB();</span><br><span class="line">        b.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">synchronized</span> (b) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Waiting for b to complete...&quot;</span>);</span><br><span class="line">                b.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;Total is: &quot;</span> + b.total);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThreadB</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> total;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">                total += i;</span><br><span class="line">            &#125;</span><br><span class="line">            notify();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå­—èŠ‚ç è§£æ</title>
    <url>/2020/11/18/Java%E5%AD%97%E8%8A%82%E7%A0%81%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨å­¦Jvmç›¸å…³çš„çŸ¥è¯†ï¼Œçœ‹å®Œè§†é¢‘ï¼Œæ‰¾äº†ç‚¹å­—èŠ‚ç çš„èµ„æ–™çœ‹ï¼Œç†è§£å­—èŠ‚ç çš„å«ä¹‰ã€‚æ¨è <a href="https://www.jianshu.com/p/252f381a6bc4">ä¸€æ–‡è®©ä½ æ˜ç™½Javaå­—èŠ‚ç </a></p>
<span id="more"></span>

<h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><p>ä»ä¸€ä¸ªç®€å•ç±» Math.java å¼€å§‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Math</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨ <code>javac Math.java</code> å¾—åˆ°å­—èŠ‚ç æ–‡ä»¶ Math.classï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cafe babe 0000 0034 0013 0a00 0400 0f09</span><br><span class="line">0003 0010 0700 1107 0012 0100 016d 0100</span><br><span class="line">0149 0100 063c 696e 6974 3e01 0003 2829</span><br><span class="line">5601 0004 436f 6465 0100 0f4c 696e 654e</span><br><span class="line">756d 6265 7254 6162 6c65 0100 0369 6e63</span><br><span class="line">0100 0328 2949 0100 0a53 6f75 7263 6546</span><br><span class="line">696c 6501 0009 4d61 7468 2e6a 6176 610c</span><br><span class="line">0007 0008 0c00 0500 0601 0004 4d61 7468</span><br><span class="line">0100 106a 6176 612f 6c61 6e67 2f4f 626a</span><br><span class="line">6563 7400 2100 0300 0400 0000 0100 0200</span><br><span class="line">0500 0600 0000 0200 0100 0700 0800 0100</span><br><span class="line">0900 0000 1d00 0100 0100 0000 052a b700</span><br><span class="line">01b1 0000 0001 000a 0000 0006 0001 0000</span><br><span class="line">0001 0001 000b 000c 0001 0009 0000 001f</span><br><span class="line">0002 0001 0000 0007 2ab4 0002 0460 ac00</span><br><span class="line">0000 0100 0a00 0000 0600 0100 0000 0600</span><br><span class="line">0100 0d00 0000 0200 0e</span><br></pre></td></tr></table></figure>

<br>

<h2 id="å†…å®¹è§£è¯»"><a href="#å†…å®¹è§£è¯»" class="headerlink" title="å†…å®¹è§£è¯»"></a>å†…å®¹è§£è¯»</h2><p>å‚ç…§å›¾ä¾‹ï¼š</p>
<p><img src="https://images2.imgbox.com/08/79/8kGgoJqq_o.jpeg"></p>
<p><img src="https://images2.imgbox.com/61/17/vm6prCvK_o.png"></p>
<h3 id="é­”æ•°"><a href="#é­”æ•°" class="headerlink" title="é­”æ•°"></a>é­”æ•°</h3><p>cafe babeï¼šé­”æ•°ï¼Œæ–‡ä»¶åç¼€æ ‡è¯†ï¼Œè¢«javaè™šæ‹Ÿæœºæ¥å—ã€‚</p>
<br>

<h3 id="ç‰ˆæœ¬å·"><a href="#ç‰ˆæœ¬å·" class="headerlink" title="ç‰ˆæœ¬å·"></a>ç‰ˆæœ¬å·</h3><p>0000ï¼šæ¬¡ç‰ˆæœ¬å·</p>
<p>0034ï¼šä¸»ç‰ˆæœ¬å·=52ï¼Œjava 1.8</p>
<br>

<h3 id="å¸¸é‡æ± "><a href="#å¸¸é‡æ± " class="headerlink" title="å¸¸é‡æ± "></a>å¸¸é‡æ± </h3><p>0013ï¼šå¸¸é‡æ± å…¥å£ï¼Œ2+nï¼Œåè¿›åˆ¶=19ï¼Œè¡¨æ˜æœ‰18ä¸ªå¸¸é‡ï¼Œä»1å¼€å§‹</p>
<p>0aï¼šåè¿›åˆ¶=10ï¼Œå¯¹åº”CONSTANT_Methodref_infoï¼ŒæŒ‡å‘å£°æ˜æ–¹æ³•</p>
<p>0004ï¼šå¸¸é‡ç´¢å¼•#4</p>
<p>000fï¼šå¸¸é‡ç´¢å¼•#15</p>
<p>09ï¼šåè¿›åˆ¶=9ï¼Œå¯¹åº”CONSTANT_Fieldref_infoï¼ŒæŒ‡å‘å­—æ®µçš„ç±»æˆ–æ¥å£æè¿°</p>
<p>0003ï¼šå¸¸é‡ç´¢å¼•#3</p>
<p>0010ï¼šå¸¸é‡ç´¢å¼•#16</p>
<p>07ï¼šåè¿›åˆ¶=7ï¼Œå¯¹åº”CONSTANT_Class_infoï¼ŒæŒ‡å‘å…¨é™å®šåå¸¸é‡é¡¹çš„ç´¢å¼•</p>
<p>0011ï¼šå¸¸é‡ç´¢å¼•#17</p>
<p>07ï¼šåŒä¸Š</p>
<p>0012ï¼šå¸¸é‡ç´¢å¼•#18</p>
<p>01ï¼šåè¿›åˆ¶=1ï¼Œå¯¹åº”è¡¨ä¸­çš„CONSTANT_Utf8_infoï¼Œutf8ç¼–ç çš„å­—ç¬¦ä¸²é•¿åº¦</p>
<p>0001ï¼šå­—ç¬¦ä¸²é•¿åº¦ä¸º1</p>
<p>6dï¼š109=â€mâ€</p>
<p>01ï¼šåŒä¸Š</p>
<p>0001ï¼šåŒä¸Š</p>
<p>49ï¼š49=â€1â€</p>
<p>01ï¼šåŒä¸Š</p>
<p>0006ï¼šåŒä¸Š</p>
<p>3c 696e 6974 3eï¼šå­—ç¬¦ä¸²=<init></p>
<p>01ï¼šåŒä¸Š</p>
<p>0003ï¼šåŒä¸Š</p>
<p>2829 56ï¼š()V</p>
<p>01ï¼šåŒä¸Š</p>
<p>0004ï¼šåŒä¸Š</p>
<p>436f 6465ï¼šC_de</p>
<p>01ï¼šåŒä¸Š</p>
<p>000fï¼šåŒä¸Š</p>
<p>4c 696e 654e 756d 6265 7254 6162 6c65ï¼šLineNumberTable</p>
<p>01ï¼šåŒä¸Š</p>
<p>0003ï¼šåŒä¸Š</p>
<p>69 6e63ï¼šinc</p>
<p>01ï¼šåŒä¸Š</p>
<p>0003ï¼šåŒä¸Š</p>
<p>28 2949ï¼š()I</p>
<p>01ï¼šåŒä¸Š</p>
<p>000aï¼šé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸²</p>
<p>53 6f75 7263 6546 696c 65ï¼šSourceFile</p>
<p>01ï¼šåŒä¸Š</p>
<p>0009ï¼šåŒä¸Š</p>
<p>4d61 7468 2e6a 6176 61ï¼šMath.java</p>
<p>0cï¼šåè¿›åˆ¶=12ï¼ŒCONSTANT_NameAndType_infoï¼ŒæŒ‡å‘è¯¥å­—æ®µæˆ–æ–¹æ³•åç§°å¸¸é‡é¡¹çš„ç´¢å¼•</p>
<p>0007ï¼šå­—æ®µæˆ–è€…åå­—åç§°å¸¸é‡é¡¹ç´¢å¼•#7</p>
<p>0008ï¼šå­—æ®µæˆ–è€…åå­—åç§°å¸¸é‡é¡¹ç´¢å¼•#8</p>
<p>0cï¼šåŒä¸Š</p>
<p>0005ï¼šå­—æ®µæˆ–è€…åå­—åç§°å¸¸é‡é¡¹ç´¢å¼•#5</p>
<p>0006ï¼šå­—æ®µæˆ–è€…åå­—åç§°å¸¸é‡é¡¹ç´¢å¼•#6</p>
<p>01ï¼šåŒä¸Š</p>
<p>0004ï¼šåŒä¸Š</p>
<p>4d61 7468ï¼šMath</p>
<p>01ï¼šåŒä¸Š</p>
<p>0010ï¼šåŒä¸Š</p>
<p>6a 6176 612f 6c61 6e67 2f4f 626a 6563 74ï¼šjava/lang/Object</p>
<p>==== å¸¸é‡è§£æå®Œæ¯•ï¼Œå…±18ä¸ªå¸¸é‡</p>
<br>

<h2 id="Access-Flag-è®¿é—®æ ‡å¿—éƒ¨åˆ†"><a href="#Access-Flag-è®¿é—®æ ‡å¿—éƒ¨åˆ†" class="headerlink" title="Access_Flag è®¿é—®æ ‡å¿—éƒ¨åˆ†"></a>Access_Flag è®¿é—®æ ‡å¿—éƒ¨åˆ†</h2><blockquote>
<p>0x0021ï¼šæ˜¯ 0x0020 å’Œ 0x0001 çš„å¹¶é›†ã€‚</p>
</blockquote>
<p>0021ï¼šACC_PUBLICï¼Œè®¿é—®ä¿®é¥°ç¬¦ä¸ºPublicã€‚</p>
<br>

<h2 id="ç±»ç´¢å¼•"><a href="#ç±»ç´¢å¼•" class="headerlink" title="ç±»ç´¢å¼•"></a>ç±»ç´¢å¼•</h2><p>ç±»ç´¢å¼•ç”¨äºç¡®å®šç±»çš„å…¨é™å®šåã€‚</p>
<p>0003ï¼šå¼•ç”¨ç¬¬3ä¸ªå¸¸é‡ï¼Œç¬¬3ä¸ªå¸¸é‡å¼•ç”¨ç¬¬17ä¸ªå¸¸é‡ï¼Œä¸º Mathã€‚</p>
<br>

<h2 id="çˆ¶ç±»ç´¢å¼•"><a href="#çˆ¶ç±»ç´¢å¼•" class="headerlink" title="çˆ¶ç±»ç´¢å¼•"></a>çˆ¶ç±»ç´¢å¼•</h2><p>0004ï¼šå¼•ç”¨ç¬¬18ä¸ªå¸¸é‡ï¼Œä¸º java/lang/Objectã€‚</p>
<br>

<h2 id="æ¥å£ç´¢å¼•"><a href="#æ¥å£ç´¢å¼•" class="headerlink" title="æ¥å£ç´¢å¼•"></a>æ¥å£ç´¢å¼•</h2><p>0000ï¼šæ²¡æœ‰æ¥å£ã€‚</p>
<br>

<h2 id="å­—æ®µè¡¨é›†åˆ"><a href="#å­—æ®µè¡¨é›†åˆ" class="headerlink" title="å­—æ®µè¡¨é›†åˆ"></a>å­—æ®µè¡¨é›†åˆ</h2><p>å­—æ®µè¡¨ç”¨äºæè¿°ç±»å’Œæ¥å£ä¸­å£°æ˜çš„å˜é‡ã€‚è¿™é‡Œçš„å­—æ®µåŒ…å«äº†ç±»çº§åˆ«å˜é‡ä»¥åŠå®ä¾‹å˜é‡ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬æ–¹æ³•å†…éƒ¨å£°æ˜çš„å±€éƒ¨å˜é‡ã€‚</p>
<p><img src="https://images2.imgbox.com/46/18/b007hXKr_o.png"></p>
<p>0001ï¼šå­—æ®µå±æ€§ã€‚</p>
<p>0002ï¼šPrivateè®¿é—®ã€‚</p>
<p>0005ï¼šå¸¸é‡ç´¢å¼•#5ï¼Œä¸ºâ€mâ€ã€‚</p>
<p>0006ï¼šå¸¸é‡ç´¢å¼•#6ï¼Œä¸ºâ€1â€ã€‚</p>
<p>0000ï¼šå±æ€§è¡¨æ•°é‡ä¸º0ã€‚</p>
<br>

<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p><img src="https://images2.imgbox.com/b5/62/ZKPXcYOv_o.png"></p>
<p>to be continuedâ€¦</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaæ³¨è§£ç®€å•ä¾‹å­</title>
    <url>/2019/05/15/Java%E6%B3%A8%E8%A7%A3%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90/</url>
    <content><![CDATA[<p>äº†è§£Javaæ³¨è§£ï¼ˆ@Annotationï¼‰</p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸ºä»€ä¹ˆçªç„¶æƒ³èµ·æ¥æ³¨è§£å‘¢ï¼Ÿä»Šå¤©ä¸ŠåˆåŒäº‹é‡åˆ°ä¸€ä¸ªå’Œæ³¨è§£ç›¸å…³çš„é—®é¢˜ï¼ŒJSPé¡µé¢ä¼ å€¼åˆ°åå°åï¼ˆå…¶å®å‰åç«¯å¹¶ä¸åˆ†ç¦»ï¼‰ï¼Œä½†æ˜¯åœ¨POJOç±»ä¸Šçš„æ ¡éªŒæ³¨è§£å€¼ä¸æ»¡è¶³çš„æ¡ä»¶ä¸‹ä¹Ÿé€šè¿‡äº†ï¼Œè®©æˆ‘ç»™å¸®å¿™çœ‹çœ‹ã€‚å› ä¸ºå…¶ä»–ç»„çš„åŒäº‹ç›¸åŒçš„é€šç”¨ä»£ç å¹¶æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œè€Œä¸”å¯¹æ³¨è§£çš„å¤„ç†æ˜¯å°è£…åœ¨æ¡†æ¶ä¸­çš„ï¼Œæ‰€ä»¥ä¸€å¼€å§‹ä¾¿æ’é™¤äº†é—®é¢˜åœ¨åå°æ€è·¯ï¼Œè½¬å‘é¡µé¢ä¼ å€¼å»è°ƒæŸ¥ã€‚è™½ç„¶æœ€åæ‰¾åˆ°åŸå› æ˜¯å› ä¸ºæ²¡æœ‰æ¸…ç©ºEclipseçš„.classæ–‡ä»¶é‡æ–°ç¼–è¯‘ï¼Œä½†æ˜¯æ„Ÿè§‰å·²ç»å¯¹ä¹‹å‰å­¦è¿‡çš„æ³¨è§£éƒ¨åˆ†çš„çŸ¥è¯†ç”Ÿç–äº†ã€‚åˆšå¥½ä»Šå¤©æ²¡åŠ ç­ï¼Œå°±èµ¶ç´§å¤ä¹ ä¸€ä¸‹ã€‚</p>
</blockquote>
<p>æœ¬æƒ³åœ¨ç½‘ä¸Šæ‰¾ä¸¤ç¯‡æ–‡ç« å›å¿†ä¸€ä¸‹ï¼Œä½†æ˜¯å¥½åƒä¾‹å­å†™å¾—éƒ½ä¸å®Œæ•´ã€‚åˆšå¥½å‰æ®µæ—¶é—´åˆšä¹°äº†ä¸€æœ¬ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ï¼Œå°±èµ¶ç´§ç¿»å¼€çœ‹äº†ä¸€ä¸‹ï¼Œä¸€ç›´è®°å¾—ä¹¦é‡Œç»™å‡ºçš„ä¾‹å­ä¹Ÿæ˜¯æ•°æ®åº“å­—æ®µæ³¨è§£ç›¸å…³çš„ã€‚</p>
<span id="more"></span>



<h2 id="ç›¸å…³æ¦‚å¿µåŠåŸç†"><a href="#ç›¸å…³æ¦‚å¿µåŠåŸç†" class="headerlink" title="ç›¸å…³æ¦‚å¿µåŠåŸç†"></a>ç›¸å…³æ¦‚å¿µåŠåŸç†</h2><p>å‚è§ ==&gt; ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ç¬¬äºŒåç« &lt;æ³¨è§£&gt;ã€‚</p>
<p>å››ä¸ªå…ƒæ³¨è§£ï¼š</p>
<ul>
<li>@Target</li>
<li>@Retention</li>
<li>@Document</li>
<li>Inherited</li>
</ul>
<p>æ³¨è§£ä¸»è¦æ˜¯ç”¨æˆ·æŒ‰è‡ªå·±çš„éœ€æ±‚æ¥å®ç°ã€‚</p>
<h2 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­</h2><p>å…ˆåˆ›å»ºä¸¤ä¸ªæ³¨è§£ï¼Œ@Digitså’Œ@NotEmptyï¼Œç”¨æ¥æ³¨è§£å±æ€§æ˜¯å¦æ»¡è¶³ç»™å®šæ¡ä»¶ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * æ ‡æ³¨ä¸€ä¸ªå­—æ®µåªèƒ½ä¸ºæ•°å­—ï¼Œä¸”æœ€å¤§é•¿åº¦ä¸ºmaxLengthï¼Œæœ€å¤§å°æ•°ä½ä¸ºfraction</span></span><br><span class="line"><span class="comment"> * é»˜è®¤æ²¡æœ‰å°æ•°ä½</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2019-05-14 21:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Digits &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxLength</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fraction</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * æ ‡æ³¨ä¸€ä¸ªå­—æ®µä¸èƒ½ä¸ºç©º</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2019-05-14 21:47</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> NotEmpty &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ä¸€ä¸ªå¤„ç†ç±»å¤„ç†è‡ªå®šä¹‰æ³¨è§£ï¼šï¼ˆä¸»è¦åˆ©ç”¨åå°„æœºåˆ¶ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * å¤„ç†è‡ªå®šä¹‰æ³¨è§£</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2019-05-14 21:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationProcesser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Table table)</span> <span class="keyword">throws</span> ClassNotFoundException, IllegalAccessException, NoSuchFieldException </span>&#123;</span><br><span class="line">        Class clazz = table.getClass();</span><br><span class="line">        <span class="keyword">if</span> (clazz == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(<span class="string">&quot;class not found!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        String fieldName;</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line">            field.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            Annotation[] annotations = field.getDeclaredAnnotations();</span><br><span class="line">            fieldName = field.getName();</span><br><span class="line">            System.out.println(<span class="string">&quot;--&gt; info: into &quot;</span> + fieldName);</span><br><span class="line">            <span class="keyword">for</span> (Annotation annotation : annotations) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;--&gt; info: &quot;</span> + annotation.annotationType());</span><br><span class="line">                <span class="keyword">if</span> (annotation <span class="keyword">instanceof</span> Digits) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;--&gt; info: get @Digits annotation on &quot;</span> + fieldName);</span><br><span class="line">                    <span class="keyword">int</span> maxLength = ((Digits) annotation).maxLength();</span><br><span class="line">                    <span class="keyword">int</span> annotatedFraction = ((Digits) annotation).fraction();</span><br><span class="line">                    String[] fraction = String.valueOf(table.getCount()).split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">                    <span class="keyword">if</span> (String.valueOf(table.getCount()).length() &gt; maxLength) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;--&gt; error: maxLength exceed!&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (fraction.length &gt; <span class="number">1</span> &amp;&amp; fraction[<span class="number">1</span>].length() &gt; annotatedFraction) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;--&gt; errorï¼šfraction length exceed!&quot;</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;--&gt; info: &quot;</span> + fieldName + <span class="string">&quot; validate success!&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (annotation <span class="keyword">instanceof</span> NotEmpty) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;--&gt; info: get @NotEmpty annotation on &quot;</span> + fieldName);</span><br><span class="line">                    <span class="keyword">if</span> (table.getDescription() == <span class="keyword">null</span> || <span class="string">&quot;&quot;</span>.equals(table.getDescription())) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;--&gt; error: empty is not allowed!&quot;</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;--&gt; info: &quot;</span> + fieldName + <span class="string">&quot; validate success!&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸»æµ‹è¯•ç±»ï¼šï¼ˆ<strong>çœç•¥getterå’Œsetter</strong>ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Annotation;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰æ³¨è§£æµ‹è¯•ç±»</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2019-05-14 21:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Table</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Digits(maxLength = 6, fraction = 2)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Table</span><span class="params">(<span class="keyword">double</span> count, String description)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">        <span class="keyword">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalAccessException, ClassNotFoundException, NoSuchFieldException </span>&#123;</span><br><span class="line">        Table testTable1 = <span class="keyword">new</span> Table(<span class="number">1234567</span>, <span class="string">&quot;description1&quot;</span>);</span><br><span class="line">        Table testTable2 = <span class="keyword">new</span> Table(<span class="number">12.001</span>, <span class="string">&quot;description2&quot;</span>);</span><br><span class="line">        Table testTable3 = <span class="keyword">new</span> Table(<span class="number">123.01</span>, <span class="string">&quot;description3&quot;</span>);</span><br><span class="line">        Table testTable4 = <span class="keyword">new</span> Table(<span class="number">123.01</span>, <span class="keyword">null</span>);</span><br><span class="line">        Table testTable5 = <span class="keyword">new</span> Table(<span class="number">123.01</span>, <span class="string">&quot;description5&quot;</span>);</span><br><span class="line"></span><br><span class="line">        AnnotationProcesser processer = <span class="keyword">new</span> AnnotationProcesser();</span><br><span class="line">        processer.process(testTable1);</span><br><span class="line">        processer.process(testTable2);</span><br><span class="line">        processer.process(testTable3);</span><br><span class="line">        processer.process(testTable4);</span><br><span class="line">        processer.process(testTable5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaç¼–ç¨‹æ€æƒ³â€”â€”ç¬¬åå››ç« â€”â€”ç±»å‹ä¿¡æ¯</title>
    <url>/2019/02/01/Java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E2%80%94%E2%80%94%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF/</url>
    <content><![CDATA[<h1 id="ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯"><a href="#ç¬¬åå››ç« -ç±»å‹ä¿¡æ¯" class="headerlink" title="ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯"></a>ç¬¬åå››ç«  ç±»å‹ä¿¡æ¯</h1><hr>
<blockquote>
<p>è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¯ä»¥ä½¿å¾—ä½ å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ã€‚</p>
</blockquote>
<p>æœ¬ç« ä¸»è¦è®¨è®ºJavaå¦‚ä½•è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è¯†åˆ«å¯¹è±¡å’Œç±»çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>â€œä¼ ç»Ÿçš„RTTIâ€ï¼Œå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ç±»å‹ï¼›</li>
<li>â€œåå°„æœºåˆ¶â€ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»çš„ä¿¡æ¯ã€‚</li>
</ol>
<span id="more"></span>




<h2 id="14-1-ä¸ºä»€ä¹ˆéœ€è¦RTTI-Run-Time-Type-Identification"><a href="#14-1-ä¸ºä»€ä¹ˆéœ€è¦RTTI-Run-Time-Type-Identification" class="headerlink" title="14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)"></a>14.1 ä¸ºä»€ä¹ˆéœ€è¦RTTI(Run-Time Type Identification)</h2><p>RTTIæä¾›ç±»å‹ç»´æŠ¤çš„ä¿¡æ¯ï¼Œä¸ºå¤šæ€æœºåˆ¶æä¾›å®ç°åŸºç¡€ã€‚å¤šæ€çš„å®ç°ä¸»è¦æ˜¯é€šè¿‡å‘ä¸Šè½¬å‹ï¼Œé€šè¿‡æ³›åŒ–çˆ¶ç±»æ¥å¼•ç”¨å­ç±»å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-06 14:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shapes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Shape&gt; shapeList = Arrays.asList(<span class="keyword">new</span> Circle(), <span class="keyword">new</span> Square(), <span class="keyword">new</span> Triangle());</span><br><span class="line">        shapeList.forEach(Shape::draw);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">this</span> + <span class="string">&quot;.draw.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Circle&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Triangle&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Square&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Circle.draw.</span><br><span class="line">Square.draw.</span><br><span class="line">Triangle.draw.</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>


<h2 id="14-2-Classå¯¹è±¡"><a href="#14-2-Classå¯¹è±¡" class="headerlink" title="14.2 Classå¯¹è±¡"></a>14.2 Classå¯¹è±¡</h2><p>RTTIçš„åŠŸèƒ½ä¸»è¦æ˜¯ç”±Classç±»å®ç°çš„ï¼Œæ¯ä¸ªç±»éƒ½æ˜¯Classç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚æ‰€æœ‰çš„ç±»éƒ½æ˜¯åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«â€ç±»åŠ è½½å™¨â€åŠ¨æ€çš„åŠ è½½åˆ°JVMä¸­çš„ï¼Œå½“ç¨‹åºåˆ›å»ºç¬¬ä¸€ä¸ªç±»çš„æˆå‘˜å¼•ç”¨æ—¶ï¼Œä¾¿ä¼šåŠ è½½è¿™ä¸ªç±»ï¼Œè¿™è¯´æ˜æ„é€ å™¨æ˜¯ç±»çš„é™æ€æ–¹æ³•ã€‚ä½¿ç”¨newåˆ›å»ºçš„ç±»çš„æ–°å¯¹è±¡ä¹Ÿä¼šè¢«å½“ä½œç±»çš„é™æ€æˆå‘˜ï¼Œå› æ­¤Javaæ˜¯åŠ¨æ€åŠ è½½çš„ã€‚é¦–å…ˆæ£€æŸ¥ç±»çš„Classå¯¹è±¡æ˜¯å¦åŠ è½½ï¼Œå¦‚æœå°šæœªåŠ è½½ï¼Œé»˜è®¤çš„ç±»çš„åŠ è½½å™¨ä¼šæŸ¥æ‰¾åŒåçš„.classæ–‡ä»¶,ä¸€æ—¦æŸä¸ªç±»çš„Classå¯¹è±¡è¢«è½½å…¥å†…å­˜ï¼Œä¾¿ä¼šç”¨æ¥åˆ›å»ºè¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 17:07</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SweetShop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;inside main.&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Candy();</span><br><span class="line">        System.out.println(<span class="string">&quot;after create candy&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Candy();</span><br><span class="line">        System.out.println(<span class="string">&quot;after create candy2&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.typeinfo.Gum&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Class Gum not found.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;after create after gum.&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Cookie();</span><br><span class="line">        System.out.println(<span class="string">&quot;after create cookie&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Candy</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Loading candy.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gum</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Loading gum.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cookie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Loading cookie.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">inside main.</span><br><span class="line">Loading candy.</span><br><span class="line">after create candy</span><br><span class="line">after create candy2</span><br><span class="line">Loading gum.</span><br><span class="line">after create after gum.</span><br><span class="line">Loading cookie.</span><br><span class="line">after create cookie</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>ä»è¾“å‡ºä¸­å¯ä»¥çœ‹å‡ºï¼ŒJavaä¸­çš„ç±»éƒ½æ˜¯åœ¨éœ€è¦æ—¶æ‰è¢«åŠ è½½çš„ã€‚forName()æ˜¯Classç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥è¿”å›ç›¸åº”ç±»çš„å®ä¾‹ã€‚<br>æ— è®ºä½•æ—¶ï¼Œè‹¥è¦ä½¿ç”¨ç±»å‹ä¿¡æ¯ï¼Œå¿…é¡»æŒæœ‰Classå¯¹è±¡çš„å¼•ç”¨ï¼ŒClass.forName()æ˜¯å®ç°æ­¤åŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œå› ä¸ºä¸éœ€è¦å†ä¸ºäº†è·å–Classå¼•ç”¨è€ŒæŒæœ‰è¯¥ç±»å‹çš„å¼•ç”¨ã€‚å¦‚æœå·²ç»æ‹¥æœ‰ä¸€ä¸ªç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨getClass()æ¥è·å–Classå¼•ç”¨ï¼Œè¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡çš„å®é™…ç±»å‹çš„Classå¼•ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 18:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ToyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printInfo</span><span class="params">(Class cc)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Class name: &quot;</span> + cc.getName() + <span class="string">&quot; is interface? [&quot;</span> + cc.isInterface() + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Simple name: &quot;</span> + cc.getSimpleName());</span><br><span class="line">        System.out.println(<span class="string">&quot;Canonical name: &quot;</span> + cc.getCanonicalName());</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Class c = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            c = Class.forName(<span class="string">&quot;com.typeinfo.FancyToy&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;class not found.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">assert</span> c != <span class="keyword">null</span>;</span><br><span class="line">        printInfo(c);</span><br><span class="line">        <span class="keyword">for</span> (Class face : c.getInterfaces()) &#123;</span><br><span class="line">            printInfo(face);</span><br><span class="line">        &#125;</span><br><span class="line">        Class up = c.getSuperclass();</span><br><span class="line">        Object object = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            object = up.newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è·å–å®ä¾‹å¤±è´¥.&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ— æ³•è®¿é—®.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">assert</span> object != <span class="keyword">null</span>;</span><br><span class="line">        printInfo(object.getClass());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">HasBatteries</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">WaterProof</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Shoots</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Toy</span> </span>&#123;</span><br><span class="line">    Toy() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Toy(<span class="keyword">int</span> i) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FancyToy</span> <span class="keyword">extends</span> <span class="title">Toy</span> <span class="keyword">implements</span> <span class="title">HasBatteries</span>, <span class="title">WaterProof</span>, <span class="title">Shoots</span> </span>&#123;</span><br><span class="line">    FancyToy() &#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class name: com.typeinfo.FancyToy is <span class="class"><span class="keyword">interface</span>? [<span class="title">false</span>]</span></span><br><span class="line"><span class="class"><span class="title">Simple</span> <span class="title">name</span>: <span class="title">FancyToy</span></span></span><br><span class="line"><span class="class"><span class="title">Canonical</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">FancyToy</span></span></span><br><span class="line"><span class="class">---------------</span></span><br><span class="line"><span class="class"><span class="title">Class</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">HasBatteries</span> <span class="title">is</span> <span class="title">interface</span>? [<span class="title">true</span>]</span></span><br><span class="line"><span class="class"><span class="title">Simple</span> <span class="title">name</span>: <span class="title">HasBatteries</span></span></span><br><span class="line"><span class="class"><span class="title">Canonical</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">HasBatteries</span></span></span><br><span class="line"><span class="class">---------------</span></span><br><span class="line"><span class="class"><span class="title">Class</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">WaterProof</span> <span class="title">is</span> <span class="title">interface</span>? [<span class="title">true</span>]</span></span><br><span class="line"><span class="class"><span class="title">Simple</span> <span class="title">name</span>: <span class="title">WaterProof</span></span></span><br><span class="line"><span class="class"><span class="title">Canonical</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">WaterProof</span></span></span><br><span class="line"><span class="class">---------------</span></span><br><span class="line"><span class="class"><span class="title">Class</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Shoots</span> <span class="title">is</span> <span class="title">interface</span>? [<span class="title">true</span>]</span></span><br><span class="line"><span class="class"><span class="title">Simple</span> <span class="title">name</span>: <span class="title">Shoots</span></span></span><br><span class="line"><span class="class"><span class="title">Canonical</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Shoots</span></span></span><br><span class="line"><span class="class">---------------</span></span><br><span class="line"><span class="class"><span class="title">Class</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Toy</span> <span class="title">is</span> <span class="title">interface</span>? [<span class="title">false</span>]</span></span><br><span class="line"><span class="class"><span class="title">Simple</span> <span class="title">name</span>: <span class="title">Toy</span></span></span><br><span class="line"><span class="class"><span class="title">Canonical</span> <span class="title">name</span>: <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Toy</span></span></span><br><span class="line"><span class="class">---------------</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Process</span> <span class="title">finished</span> <span class="title">with</span> <span class="title">exit</span> <span class="title">code</span> 0</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ç»™forName()æ–¹æ³•ä¼ é€’ç±»åæ˜¯å¿…é¡»ä½¿ç”¨å…¨é™å®šåã€‚<br>Classç±»å¸¸ç”¨æ–¹æ³•åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>è·å–å…¨é™å®šç±»å</td>
</tr>
<tr>
<td>getSimpleName()</td>
<td>è·å–ä¸å«åŒ…ç±»å</td>
</tr>
<tr>
<td>getCanonicalName()</td>
<td>å«åŒ…åçš„å…¨é™å®šå</td>
</tr>
<tr>
<td>getInterfaces()</td>
<td>Classå¯¹è±¡æ‰€åŒ…å«çš„æ¥å£</td>
</tr>
<tr>
<td>isInterface()</td>
<td>åˆ¤æ–­Classå¯¹è±¡æ˜¯å¦æ˜¯æ¥å£</td>
</tr>
<tr>
<td>newInstance()</td>
<td>è™šæ‹Ÿæ„é€ å™¨(è¯¥ç±»å¿…é¡»å«æœ‰é»˜è®¤æ„é€ å™¨)</td>
</tr>
<tr>
<td>getSuperClass()</td>
<td>é—´æ¥è·å–Classå¯¹è±¡åŸºç±»</td>
</tr>
</tbody></table>
<h3 id="14-2-1-ç±»å­—é¢å¸¸é‡"><a href="#14-2-1-ç±»å­—é¢å¸¸é‡" class="headerlink" title="14.2.1 ç±»å­—é¢å¸¸é‡"></a>14.2.1 ç±»å­—é¢å¸¸é‡</h3><p>Javaè¿˜æä¾›äº†å¦ä¸€ç§æ–¹æ³•æ¥ç”ŸæˆClasså¯¹è±¡çš„å¼•ç”¨ï¼Œå³ä½¿ç”¨ç±»å­—é¢å¸¸é‡ï¼Œä¾‹å¦‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FancyToy.class;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åšæ›´åŠ ç®€å•ã€å®‰å…¨ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘å™¨å°±ä¼šå—åˆ°æ£€æŸ¥ï¼Œå› æ­¤ä¸éœ€è¦å¼‚å¸¸æ£€æŸ¥ï¼ŒåŒæ—¶æ ¹é™¤äº†å¯¹forNam()æ–¹æ³•çš„è°ƒç”¨ï¼Œå› æ­¤æ›´åŠ é«˜æ•ˆã€‚<br>ç±»å­—é¢å¸¸é‡æ–¹æ³•ä¸ä»…é€‚ç”¨äºæ™®é€šçš„ç±»ï¼Œä¹Ÿé€‚ç”¨äºæ¥å£ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ•°ç»„ã€‚å¯¹äºåŸºæœ¬åŒ…è£…ç±»å‹çš„Classå¯¹è±¡ã€‚è¿˜æœ‰ä¸€ä¸ªæ ‡å‡†å­—æ®µTYPEï¼ŒTYPEå­—æ®µæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘å¯¹åº”çš„åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚<br><strong>å»ºè®®ä½¿ç”¨.classæ–¹æ³•ï¼Œä¸æ™®é€šç±»ä¿æŒä¸€è‡´</strong></p>
<table>
<thead>
<tr>
<th>å­—é¢å¸¸é‡</th>
<th>æ ‡å‡†TYPEå­—æ®µ</th>
</tr>
</thead>
<tbody><tr>
<td>boolean.class</td>
<td>Boolean.class</td>
</tr>
<tr>
<td>char.class</td>
<td>Char.class</td>
</tr>
<tr>
<td>byte.class</td>
<td>Byte.class</td>
</tr>
<tr>
<td>short.class</td>
<td>Short.class</td>
</tr>
<tr>
<td>int.class</td>
<td>Integer.class</td>
</tr>
<tr>
<td>long.class</td>
<td>Long.class</td>
</tr>
<tr>
<td>float.class</td>
<td>Flocat.class</td>
</tr>
<tr>
<td>double.class</td>
<td>Double.class</td>
</tr>
<tr>
<td>void.class</td>
<td>Void.class</td>
</tr>
</tbody></table>
<p>å½“ä½¿ç”¨.classæ¥åˆ›å»ºClasså¯¹è±¡å¼•ç”¨æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–è¯¥Classå¯¹è±¡ï¼ŒåŒ…å«ä¸‰ä¸ªè¿‡ç¨‹çš„å‡†å¤‡ï¼š</p>
<ol>
<li><strong>åŠ è½½</strong>ï¼šç”±ç±»åŠ è½½å™¨æ‰§è¡Œï¼ŒæŸ¥æ‰¾å­—èŠ‚ç ï¼Œä¸ºå­—èŠ‚ç åˆ›å»ºClasså¯¹è±¡ï¼›</li>
<li><strong>é“¾æ¥</strong>ï¼šéªŒè¯ç±»ä¸­çš„å­—èŠ‚ç ï¼Œä¸ºé™æ€åŸŸåˆ†é…ç©ºé—´ï¼Œå¦‚æœå¿…é¡»çš„è¯ï¼Œå°†è§£æè¿™ä¸ªç±»åˆ›å»ºçš„å¯¹å…¶ä»–ç±»çš„æ‰€æœ‰å¼•ç”¨ï¼›</li>
<li><strong>åˆå§‹åŒ–</strong>ï¼šå¦‚æœè¯¥ç±»å…·æœ‰è¶…ç±»ï¼Œåˆ™å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œé™æ€åˆå§‹åŒ–å’Œé™æ€åˆå§‹åŒ–å—ã€‚åˆå§‹åŒ–è¢«å»¶è¿Ÿåˆ°å¯¹é™æ€æ–¹æ³•æˆ–è€…éé™æ€æ•°æ®åŸŸè¿›è¡Œé¦–æ¬¡å¼•ç”¨æ—¶æ‰§è¡Œã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 19:07</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassInitailization</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Random random = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Class initable = Initable.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;after create initable ref.&quot;</span>);</span><br><span class="line">        System.out.println(Initable.staticFinal);</span><br><span class="line">        System.out.println(Initable.staticFinal2);</span><br><span class="line">        System.out.println(Initable2.staticNonFinal);</span><br><span class="line">        Class initable3 = Class.forName(<span class="string">&quot;com.typeinfo.Initable3&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;after create initable3.&quot;</span>);</span><br><span class="line">        System.out.println(Initable3.staticNonFinal);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Initable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> staticFinal = <span class="number">47</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> staticFinal2 = ClassInitailization.random.nextInt(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Initializing initable.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Initable2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> staticNonFinal = <span class="number">147</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;initializing initable2.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Initable3</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> staticNonFinal = <span class="number">74</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;initializing initable3.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">after create initable ref.</span><br><span class="line"><span class="number">47</span></span><br><span class="line">Initializing initable.</span><br><span class="line"><span class="number">258</span></span><br><span class="line">initializing initable2.</span><br><span class="line"><span class="number">147</span></span><br><span class="line">initializing initable3.</span><br><span class="line">after create initable3.</span><br><span class="line"><span class="number">74</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–æœ‰æ•ˆçš„ä½“ç°äº†â€æƒ°æ€§â€ï¼Œä»Initableçš„å¼•ç”¨åˆ›å»ºä¸­çŸ¥é“<strong>ä½¿ç”¨.classåˆ›å»ºClasså¼•ç”¨ä¸ä¼šå¼•å‘åˆå§‹åŒ–</strong>ï¼Œä½†æ˜¯ä¸ºäº†äº§ç”Ÿå¼•ç”¨ï¼Œ<strong>Class.forName()ç«‹å³è¿›è¡Œäº†åˆå§‹åŒ–</strong>ã€‚<br><strong>å¦‚æœä¸€ä¸ªstatic finalå€¼æ˜¯ç¼–è¯‘æœŸå¸¸é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¸éœ€è¦å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–å°±å¯ä»¥è¿›è¡Œè¯»å–ã€‚ä½†æ˜¯å°†ä¸€ä¸ªåŸŸè®¾ç½®ä¸ºstatic finalä¸è¶³ä»¥ç¡®ä¿è¿™ç§è¡Œä¸º</strong>ï¼Œå¦‚Initable.staticFinal2çš„è®¿é—®å¼ºåˆ¶ç±»è¿›è¡Œäº†åˆå§‹åŒ–ã€‚<br>å¦‚æœä¸€ä¸ªå¸¸é‡æ˜¯staticä½†ä¸æ˜¯finalçš„ï¼Œé‚£ä¹ˆåœ¨å¯¹å®ƒè¿›è¡Œè®¿é—®æ—¶ï¼Œæ€»æ˜¯è¦æ±‚åœ¨å¯¹å®ƒè¿›è¡Œè¯»å–å‰ï¼Œå…ˆè¿›è¡Œé“¾æ¥(åˆ†é…å­˜å‚¨ç©ºé—´)å’Œåˆå§‹åŒ–(åˆå§‹åŒ–è¯¥åŸŸç£ç›˜)ã€‚</p>
<h3 id="14-2-2-æ³›åŒ–çš„Classå¼•ç”¨"><a href="#14-2-2-æ³›åŒ–çš„Classå¼•ç”¨" class="headerlink" title="14.2.2 æ³›åŒ–çš„Classå¼•ç”¨"></a>14.2.2 æ³›åŒ–çš„Classå¼•ç”¨</h3><p>Classå¼•ç”¨æ‰€è¡¨ç¤ºçš„å°±æ˜¯å®ƒæ‰€æŒ‡å‘çš„ç±»çš„ç¡®åˆ‡ç±»å‹ï¼Œå¯ä»¥åˆ¶é€ ç±»çš„å®ä¾‹ï¼ŒåŒ…å«ç±»çš„é™æ€æˆå‘˜å’Œæ–¹æ³•ä»£ç ã€‚<br>åœ¨Java SE5ä¸­Classå¼•ç”¨çš„ç±»å‹å˜å¾—æ›´åŠ å…·ä½“ï¼Œè¿™æ˜¯é€šè¿‡å…è®¸ä½ Classå¼•ç”¨æ‰€æŒ‡å‘çš„Classå¯¹è±¡å¼•ç”¨ç±»å‹è¿›è¡Œé™å®šå®ç°çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 19:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericClassReference</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Class intClass = <span class="keyword">int</span>.class;</span><br><span class="line">        Class&lt;Integer&gt; genericIntClass = <span class="keyword">int</span>.class;</span><br><span class="line">        genericIntClass = Integer.class;</span><br><span class="line">        intClass = <span class="keyword">double</span>.class;</span><br><span class="line">        <span class="comment">//genericIntClass = double.class;  //ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ™®é€šçš„ç±»å¼•ç”¨ä¸ä¼šäº§ç”Ÿè­¦å‘Šï¼Œå°½ç®¡æ³›å‹ç±»å¼•ç”¨åªèƒ½æŒ‡å‘å…¶å£°æ˜çš„ç±»å‹ï¼Œä½†æ˜¯æ™®é€šçš„ç±»å¼•ç”¨å¯ä»¥è¢«é‡æ–°èµ‹å€¼ä¸ºå…¶ä»–ä»»ä½•ç±»å‹çš„å¼•ç”¨ï¼Œå› æ­¤é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥å¼ºåˆ¶ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</strong></p>
<p>å¦‚æœå¸Œæœ›ç¨å¾®æ”¾å®½è¿™ç§é™åˆ¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class&lt;Number&gt; c = <span class="keyword">int</span>.class;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç äº§ç”Ÿäº†ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºInteger Classå¯¹è±¡ä¸æ˜¯Number Classçš„å­ç±»ã€‚<br>ä¸ºäº†èƒ½å¤Ÿåœ¨ä½¿ç”¨æ³›åŒ–çš„Classå¼•ç”¨æ—¶æ”¾å®½é™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹é€šé…ç¬¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 19:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WildcardClassReference</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Class&lt;? extends Number&gt; c = <span class="keyword">int</span>.class;</span><br><span class="line">        c = <span class="keyword">double</span>.class;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç æ²¡æœ‰äº§ç”Ÿä»»ä½•è­¦å‘Šä¿¡æ¯ã€‚Class<?>ä¼˜äºæ™®é€šçš„Classï¼Œå¹¶ä¸”ä¸¤è€…ç­‰ä»·ã€‚
**Class<?>çš„å¥½å¤„æ˜¯å®ƒè¡¨ç¤ºä½ å¹¶éç¢°å·§æˆ–è€…å¤„äºç–å¿½è€Œä½¿ç”¨äº†ä¸€ä¸ªéå…·ä½“çš„ç±»å‹ã€‚**ä¸ºäº†åˆ›å»ºä¸€ä¸ªClasså¼•ç”¨ï¼Œå®ƒè¢«é™å®šä¸ºæŸç§ç±»å‹ï¼Œå’Œextendsç»“åˆï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªèŒƒå›´ã€‚<br><strong>ä½¿ç”¨æ³›å‹å¯ä»¥ä¿ƒä½¿ç¼–è¯‘å™¨åœ¨ç¼–è¯‘å™¨æä¾›ç±»å‹æ£€æŸ¥ã€‚</strong></p>
<p>å°†æ³›å‹ç”¨äºClasså¯¹è±¡ï¼ŒnewInstance()æ–¹æ³•è¿”å›çš„å°†æ˜¯å…·ä½“çš„ç±»å‹è€Œä¸æ˜¯Objectã€‚ä½†æ˜¯è¿™ç§å…·ä½“ç±»å‹æœ‰äº›è®¸é™åˆ¶ï¼Œç”±å…·ä½“ç±»å‹çš„Classå¼•ç”¨getSuperClass()è¿”å›çš„ç±»å‹æ˜¯Objectç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 20:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericToyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalAccessException, InstantiationException </span>&#123;</span><br><span class="line">        Class&lt;FancyToy&gt; fancyToyClass = FancyToy.class;</span><br><span class="line">        FancyToy fancyToy = fancyToyClass.newInstance();</span><br><span class="line">        Class&lt;? <span class="keyword">super</span> FancyToy&gt; c = fancyToyClass.getSuperclass();</span><br><span class="line"><span class="comment">//        Class&lt;Toy&gt; toyClass = fancyToyClass.getSuperclass();   ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">        Object object = fancyToyClass.getSuperclass();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="14-2-3-æ–°çš„è½¬å‹è¯­æ³•"><a href="#14-2-3-æ–°çš„è½¬å‹è¯­æ³•" class="headerlink" title="14.2.3 æ–°çš„è½¬å‹è¯­æ³•"></a>14.2.3 æ–°çš„è½¬å‹è¯­æ³•</h3><p>Java SE5è¿˜æ·»åŠ äº†ç”¨äºClasså¼•ç”¨è½¬å‹çš„è¯­æ³•ï¼Œå³cast()æ–¹æ³•ã€‚cast()æ–¹æ³•æ¥æ”¶å‚æ•°å¯¹è±¡ï¼Œå¹¶å°†å…¶è½¬å‹ä¸ºClasså¼•ç”¨çš„ç±»å‹ã€‚<br>åœ¨Java SE5ä¸­å¦ä¸€ä¸ªæœ€æ²¡ç”¨çš„æ–°ç‰¹æ€§å°±æ˜¯Class.asSubclassï¼Œè¯¥æ–¹æ³•å…è®¸ä½ å°†ä¸€ä¸ªç±»å¯¹è±¡è½¬ä¸ºæ›´åŠ å…·ä½“çš„å¯¹è±¡ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 20:12</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassCasts</span> </span>&#123;</span><br><span class="line">    Building building = <span class="keyword">new</span> House();</span><br><span class="line">    Class&lt;House&gt; houseClass = House.class;</span><br><span class="line">    House house = houseClass.cast(building);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span> <span class="keyword">extends</span> <span class="title">Building</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="14-3-ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥"><a href="#14-3-ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥" class="headerlink" title="14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥"></a>14.3 ç±»å‹è½¬æ¢å‰å…ˆåšæ£€æŸ¥</h2><p>è¿„ä»Šä¸ºæ­¢ï¼ŒRTTIçš„å½¢å¼åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä¼ ç»Ÿçš„ç±»å‹è½¬æ¢ï¼›</li>
<li>ä»£è¡¨å¯¹è±¡çš„ç±»å‹çš„Classå¯¹è±¡ï¼›</li>
<li>å…³é”®å­—instanceofï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æŸä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(x instaceof Dog) &#123;</span><br><span class="line">    (Dog)x.bark();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>instanceofæœ‰æ¯”è¾ƒä¸¥æ ¼çš„é™åˆ¶ï¼Œåªå¯å°†å…¶ä¸å‘½åç±»å‹æ¯”è¾ƒï¼Œè€Œä¸èƒ½ä¸Classå¯¹è±¡æ¯”è¾ƒã€‚</p>
<h2 id="14-5-instanceofå’ŒClassçš„ç­‰ä»·æ€§"><a href="#14-5-instanceofå’ŒClassçš„ç­‰ä»·æ€§" class="headerlink" title="14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§"></a>14.5 instanceofå’ŒClassçš„ç­‰ä»·æ€§</h2><p>instanceof()å’ŒisInstance()æ–¹æ³•ç”Ÿæˆçš„ç»“æœå®Œå…¨ä¸€æ ·ï¼Œequalså’Œ==ä¹Ÿå®Œå…¨ä¸€æ ·ã€‚ä½†æ˜¯<strong>instanceofä¿æŒäº†ç±»å‹çš„æ¦‚å¿µï¼Œè€Œ==æ¯”è¾ƒçš„æ˜¯å®é™…çš„Classå¯¹è±¡ï¼Œæ²¡æœ‰è€ƒè™‘ç»§æ‰¿ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-07 20:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FamilyVsExactType</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Testing object of type :&quot;</span> + object.getClass());</span><br><span class="line">        System.out.println(<span class="string">&quot;object instanceof Base: &quot;</span> + (object <span class="keyword">instanceof</span> Base));</span><br><span class="line">        System.out.println(<span class="string">&quot;object instanceof Derived :&quot;</span> + (object <span class="keyword">instanceof</span> Derived));</span><br><span class="line">        System.out.println(<span class="string">&quot;Base.isInstance(object): &quot;</span> + Base.class.isInstance(object));</span><br><span class="line">        System.out.println(<span class="string">&quot;Derived.isInstance(object): &quot;</span> + Derived.class.isInstance(object));</span><br><span class="line">        System.out.println(<span class="string">&quot;object.getClass() == Base.class(): &quot;</span> + (object.getClass() == Base.class));</span><br><span class="line">        System.out.println(<span class="string">&quot;object.getClass() == Derived.class(): &quot;</span> + (object.getClass() == Derived.class));</span><br><span class="line">        System.out.println(<span class="string">&quot;object.getClass().equals(Base.class()): &quot;</span> + (object.getClass().equals(Base.class)));</span><br><span class="line">        System.out.println(<span class="string">&quot;object.getClass().equals(Derived.class()): &quot;</span> + (object.getClass().equals(Derived.class)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        test(<span class="keyword">new</span> Base());</span><br><span class="line">        test(<span class="keyword">new</span> Derived());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Testing object of type :<span class="class"><span class="keyword">class</span> <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Base</span></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">instanceof</span> <span class="title">Base</span>: <span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">instanceof</span> <span class="title">Derived</span> :<span class="title">false</span></span></span><br><span class="line"><span class="class"><span class="title">Base</span>.<span class="title">isInstance</span>(<span class="title">object</span>): <span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">Derived</span>.<span class="title">isInstance</span>(<span class="title">object</span>): <span class="title">false</span></span></span><br><span class="line"><span class="class"><span class="title">object</span>.<span class="title">getClass</span>() </span>== Base.class(): <span class="keyword">true</span></span><br><span class="line">object.getClass() == Derived.class(): <span class="keyword">false</span></span><br><span class="line">object.getClass().equals(Base.class()): <span class="keyword">true</span></span><br><span class="line">object.getClass().equals(Derived.class()): <span class="keyword">false</span></span><br><span class="line">Testing object of type :<span class="class"><span class="keyword">class</span> <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Derived</span></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">instanceof</span> <span class="title">Base</span>: <span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">instanceof</span> <span class="title">Derived</span> :<span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">Base</span>.<span class="title">isInstance</span>(<span class="title">object</span>): <span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">Derived</span>.<span class="title">isInstance</span>(<span class="title">object</span>): <span class="title">true</span></span></span><br><span class="line"><span class="class"><span class="title">object</span>.<span class="title">getClass</span>() </span>== Base.class(): <span class="keyword">false</span></span><br><span class="line">object.getClass() == Derived.class(): <span class="keyword">true</span></span><br><span class="line">object.getClass().equals(Base.class()): <span class="keyword">false</span></span><br><span class="line">object.getClass().equals(Derived.class()): <span class="keyword">true</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>


<h2 id="14-6-åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯"><a href="#14-6-åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯" class="headerlink" title="14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯"></a>14.6 åå°„ï¼šè¿è¡Œæ—¶çš„ç±»ä¿¡æ¯</h2><p>RTTIçš„é™åˆ¶ï¼šå¦‚æœéœ€è¦çŸ¥é“æŸä¸ªå¯¹è±¡çš„ç¡®åˆ‡ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨RTTIï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé™åˆ¶ï¼šè¿™ä¸ªç±»å‹åœ¨ç¼–è¯‘æ—¶å¿…é¡»æ˜¯å¯çŸ¥çš„ã€‚å¦‚æœè·å–äº†æŒæœ‰ä¸€ä¸ªä¸åœ¨ç¨‹åºç©ºé—´å†…çš„å¯¹è±¡çš„å¼•ç”¨æˆ–è€…è¿™ä¸ªç±»åœ¨ä½ çš„ç¨‹åºè¿è¡Œè®¸ä¹…ä¹‹åæ‰å‡ºç°ï¼Œæ­¤æ—¶åˆ™æ— æ³•ä½¿ç”¨RTTIã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦åå°„ï¼Ÿ</p>
<ol>
<li>è§£å†³RTTIçš„é™åˆ¶ï¼›</li>
<li>å¸Œæœ›æä¾›åœ¨è·¨ç½‘ç»œçš„å¹³å°ä¸Šåˆ›å»ºå’Œè¿è¡Œå¯¹è±¡çš„èƒ½åŠ›ï¼Œå³*è¿œç¨‹æ–¹æ³•è°ƒç”¨(RMI)*ã€‚</li>
</ol>
<p>Classç±»ä¸Java.lang.Reflectç±»åº“å¯¹åå°„è¿›è¡Œäº†æ”¯æŒï¼Œè¯¥ç±»åº“åŒ…å«Fieldã€Methodå’ŒConstructorç­‰ç±»ã€‚å¯ä»¥ç”¨invoke()è°ƒç”¨ä¸Methodå…³è”çš„æ–¹æ³•ï¼Œè°ƒç”¨getField()ã€getMethods()å’ŒgetConstructor()ç­‰æ–¹æ³•è¿”å›è¡¨ç¤ºå­—æ®µã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„æ•°ç»„ã€‚</p>
<p><strong>RTTIä¸åå°„ä¹‹é—´çœŸæ­£çš„åŒºåˆ«åœ¨äºå¯¹äºRTTIæ¥è¯´ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ‰“å¼€å’Œæ£€æŸ¥.classæ–‡ä»¶ï¼Œè€Œå¯¹äºåå°„æœºåˆ¶æ¥è¯´ï¼Œ.classæ–‡ä»¶åœ¨ç¼–è¯‘æ—¶æ˜¯ä¸å¯è·å–çš„ï¼Œæ‰€ä»¥æ˜¯åœ¨è¿è¡Œæ—¶æ‰“å¼€å’Œæ£€æŸ¥.classæ–‡ä»¶ã€‚</strong></p>
<h3 id="14-6-1-ç±»æ–¹æ³•æå–å™¨"><a href="#14-6-1-ç±»æ–¹æ³•æå–å™¨" class="headerlink" title="14.6.1 ç±»æ–¹æ³•æå–å™¨"></a>14.6.1 ç±»æ–¹æ³•æå–å™¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 9:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowMethods</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String usage = <span class="string">&quot;usage&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (args.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(usage);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;?&gt; c = Class.forName(args[<span class="number">0</span>]);</span><br><span class="line">            Method[] methods = c.getMethods();</span><br><span class="line">            Constructor[] constructors = c.getConstructors();</span><br><span class="line">            <span class="keyword">if</span> (args.length == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">                    System.out.println(method.toString());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (Constructor constructor : constructors) &#123;</span><br><span class="line">                    System.out.println(constructor.toString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (method.toString().contains(args[<span class="number">1</span>])) &#123;</span><br><span class="line">                        System.out.println(method.toString());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (Constructor constructor : constructors) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (constructor.toString().contains(args[<span class="number">1</span>])) &#123;</span><br><span class="line">                        System.out.println(constructor.toString());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;No such class.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.equals(java.lang.Object)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.toString()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.hashCode()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.compareTo(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.compareTo(java.lang.Object)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.indexOf(java.lang.String,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.indexOf(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.indexOf(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.indexOf(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">long</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">float</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">boolean</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">char</span>[])</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">char</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(java.lang.Object)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">char</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.valueOf(<span class="keyword">double</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">char</span> java.lang.String.charAt(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.codePointAt(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.codePointBefore(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.codePointCount(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.compareToIgnoreCase(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.concat(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.contains(java.lang.CharSequence)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.contentEquals(java.lang.CharSequence)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.contentEquals(java.lang.StringBuffer)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.copyValueOf(<span class="keyword">char</span>[])</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.copyValueOf(<span class="keyword">char</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.endsWith(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.equalsIgnoreCase(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.format(java.util.Locale,java.lang.String,java.lang.Object[])</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.format(java.lang.String,java.lang.Object[])</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> java.lang.String.getBytes(<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">byte</span>[],<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] java.lang.String.getBytes(java.nio.charset.Charset)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] java.lang.String.getBytes(java.lang.String) <span class="keyword">throws</span> java.io.UnsupportedEncodingException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] java.lang.String.getBytes()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> java.lang.String.getChars(<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">char</span>[],<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> java.lang.String java.lang.String.intern()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.isEmpty()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.join(java.lang.CharSequence,java.lang.CharSequence[])</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> java.lang.String java.lang.String.join(java.lang.CharSequence,java.lang.Iterable)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.lastIndexOf(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.lastIndexOf(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.lastIndexOf(java.lang.String,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.lastIndexOf(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.length()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.matches(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> java.lang.String.offsetByCodePoints(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.regionMatches(<span class="keyword">int</span>,java.lang.String,<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.regionMatches(<span class="keyword">boolean</span>,<span class="keyword">int</span>,java.lang.String,<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.replace(<span class="keyword">char</span>,<span class="keyword">char</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.replace(java.lang.CharSequence,java.lang.CharSequence)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.replaceAll(java.lang.String,java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.replaceFirst(java.lang.String,java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.String[] java.lang.String.split(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.String[] java.lang.String.split(java.lang.String,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.startsWith(java.lang.String,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.String.startsWith(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.CharSequence java.lang.String.subSequence(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.substring(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.substring(<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">char</span>[] java.lang.String.toCharArray()</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.toLowerCase(java.util.Locale)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.toLowerCase()</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.toUpperCase()</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.toUpperCase(java.util.Locale)</span><br><span class="line"><span class="keyword">public</span> java.lang.String java.lang.String.trim()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> java.lang.Object.wait() <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> java.lang.Object.wait(<span class="keyword">long</span>,<span class="keyword">int</span>) <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.wait(<span class="keyword">long</span>) <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> java.lang.Class java.lang.Object.getClass()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.notify()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.notifyAll()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">default</span> java.util.stream.IntStream java.lang.CharSequence.chars()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">default</span> java.util.stream.IntStream java.lang.CharSequence.codePoints()</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],java.nio.charset.Charset)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],java.lang.String) <span class="keyword">throws</span> java.io.UnsupportedEncodingException</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>,java.nio.charset.Charset)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>,java.lang.String) <span class="keyword">throws</span> java.io.UnsupportedEncodingException</span><br><span class="line"><span class="keyword">public</span> java.lang.String(java.lang.StringBuilder)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(java.lang.StringBuffer)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[])</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">int</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String()</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">char</span>[])</span><br><span class="line"><span class="keyword">public</span> java.lang.String(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">char</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> java.lang.String(<span class="keyword">byte</span>[],<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">int</span>)</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å‚æ•°ä¸ºjava.lang.Stringï¼Œåœ¨ideaä¸­è®¾ç½®è¿è¡Œå‚æ•°ï¼šEdit Configurations&gt;Configuration&gt;Program argumentsï¼Œéœ€è¦å¡«å†™æŸä¸ªç±»çš„å…¨é™å®šåã€‚</p>
<h2 id="14-7-åŠ¨æ€ä»£ç†"><a href="#14-7-åŠ¨æ€ä»£ç†" class="headerlink" title="14.7 åŠ¨æ€ä»£ç†"></a>14.7 åŠ¨æ€ä»£ç†</h2><p>ä»£ç†æ˜¯åŸºæœ¬çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œæ˜¯ç”¨æ¥ä»£æ›¿å®é™…å¯¹è±¡çš„å¯¹è±¡ï¼Œé€šå¸¸æ¶‰åŠä¸å®é™…å¯¹è±¡çš„é€šä¿¡ï¼Œå……å½“ä¸­é—´äººçš„è§’è‰²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 10:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleProxyDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">consumer</span><span class="params">(Interface inter)</span> </span>&#123;</span><br><span class="line">        inter.doSomething();</span><br><span class="line">        inter.somethingElse(<span class="string">&quot;banana&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        consumer(<span class="keyword">new</span> RealObject());</span><br><span class="line">        consumer(<span class="keyword">new</span> ProxyObject(<span class="keyword">new</span> RealObject()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Interface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">somethingElse</span><span class="params">(String arg)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealObject</span> <span class="keyword">implements</span> <span class="title">Interface</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;do something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">somethingElse</span><span class="params">(String arg)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;do something else :&quot;</span> + arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyObject</span> <span class="keyword">implements</span> <span class="title">Interface</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Interface proxied;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyObject</span><span class="params">(Interface proxied)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.proxied = proxied;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;proxy object do something.&quot;</span>);</span><br><span class="line">        proxied.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">somethingElse</span><span class="params">(String arg)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;proxy object do something else: &quot;</span> + arg);</span><br><span class="line">        proxied.somethingElse(arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> something.</span><br><span class="line"><span class="keyword">do</span> something <span class="keyword">else</span> :banana</span><br><span class="line">proxy object <span class="keyword">do</span> something.</span><br><span class="line"><span class="keyword">do</span> something.</span><br><span class="line">proxy object <span class="keyword">do</span> something <span class="keyword">else</span>: banana</span><br><span class="line"><span class="keyword">do</span> something <span class="keyword">else</span> :banana</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å½“æƒ³è¦æ‰§è¡Œä¸€äº›é¢å¤–æ“ä½œï¼ŒåŒæ—¶æƒ³å°†è¿™äº›æ“ä½œä»â€å®é™…â€å¯¹è±¡ä¸­åˆ†ç¦»å‡ºå»æ—¶ï¼Œæˆ–è€…æƒ³è¦æ›´åŠ å®¹æ˜“çš„åšå‡ºä¿®æ”¹æ—¶ä»£ç†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<p>é€šè¿‡è°ƒç”¨é™æ€æ–¹æ³•Proxy.newProxyInstance()å¯ä»¥åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œ<br>newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)<br>Returns an instance of a proxy class for the specified interfaces that dispatches method invocations to the specified invocation handler.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 10:35</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleDynamicProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">consumer</span><span class="params">(Interface inter)</span> </span>&#123;</span><br><span class="line">        inter.doSomething();</span><br><span class="line">        inter.somethingElse(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        RealObject realObject = <span class="keyword">new</span> RealObject();</span><br><span class="line">        consumer(realObject);</span><br><span class="line">        Interface proxy = (Interface) Proxy.newProxyInstance(Interface.class.getClassLoader(),</span><br><span class="line">                <span class="keyword">new</span> Class[]&#123;Interface.class&#125;, <span class="keyword">new</span> DynamicProxyHandler(realObject));</span><br><span class="line">        consumer(proxy);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DynamicProxyHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object proxied;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DynamicProxyHandler</span><span class="params">(Object proxied)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.proxied = proxied;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;proxy: &quot;</span> + proxy.getClass() + <span class="string">&quot; .method: &quot;</span> + method + <span class="string">&quot; .args: &quot;</span> + args);</span><br><span class="line">        <span class="keyword">if</span> (args != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Object object : args) &#123;</span><br><span class="line">                System.out.println(object + <span class="string">&quot;   &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> method.invoke(proxied, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> something.</span><br><span class="line"><span class="keyword">do</span> something <span class="keyword">else</span> :Banana</span><br><span class="line">proxy: <span class="class"><span class="keyword">class</span> <span class="title">com</span>.<span class="title">typeinfo</span>.$<span class="title">Proxy0</span> .<span class="title">method</span>: <span class="title">public</span> <span class="title">abstract</span> <span class="title">void</span> <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Interface</span>.<span class="title">doSomething</span>() .<span class="title">args</span>: <span class="title">null</span></span></span><br><span class="line"><span class="class"><span class="title">do</span> <span class="title">something</span>.</span></span><br><span class="line"><span class="class"><span class="title">proxy</span>: <span class="title">class</span> <span class="title">com</span>.<span class="title">typeinfo</span>.$<span class="title">Proxy0</span> .<span class="title">method</span>: <span class="title">public</span> <span class="title">abstract</span> <span class="title">void</span> <span class="title">com</span>.<span class="title">typeinfo</span>.<span class="title">Interface</span>.<span class="title">somethingElse</span>(<span class="title">java</span>.<span class="title">lang</span>.<span class="title">String</span>) .<span class="title">args</span>: [<span class="title">Ljava</span>.<span class="title">lang</span>.<span class="title">Object</span></span>;@12a3a380</span><br><span class="line">Banana   </span><br><span class="line"><span class="keyword">do</span> something <span class="keyword">else</span> :Banana</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>


<h2 id="14-8-ç©ºå¯¹è±¡"><a href="#14-8-ç©ºå¯¹è±¡" class="headerlink" title="14.8 ç©ºå¯¹è±¡"></a>14.8 ç©ºå¯¹è±¡</h2><p>å½“æ—¶ç”¨å†…ç½®çš„nullå»è¡¨ç¤ºç©ºå¯¹è±¡æ—¶ï¼Œåœ¨æ¯æ¬¡ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™éƒ½éœ€è¦å…ˆåˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦ä¸ºnullï¼Œå¹¶ä¸”åˆ¤æ–­é™¤äº†ç”¨æ¥äº§ç”ŸNullPointerExceptionä¹‹å¤–ï¼Œæ²¡æœ‰ä»»ä½•å¸®åŠ©ï¼Œè¿˜ä¼šäº§ç”Ÿå¤§é‡å†—ä½™ä»£ç ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¯ä»¥æ¥æ”¶ä¼ ä¼ ç»™å®ƒæ‰€ä»£è¡¨çš„å¯¹è±¡ï¼Œä½†æ˜¯å°†è¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡ä¸å­˜åœ¨çš„ä»»ä½•çœŸå®å¯¹è±¡çš„å€¼ã€‚<br>æœ€ç®€å•çš„æ˜¯åˆ›å»ºä¸€ä¸ªæ ‡è®°æ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:02</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NullPerson</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Null</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">NullPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="string">&quot;None&quot;</span>, <span class="string">&quot;None&quot;</span>, <span class="string">&quot;None&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;NullPerson&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Person Null = <span class="keyword">new</span> NullPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Null</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String first;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String last;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String first, String last, String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.first = first;</span><br><span class="line">        <span class="keyword">this</span>.last = last;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;first=&#x27;&quot;</span> + first + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, last=&#x27;&quot;</span> + last + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="14-9-æ¥å£ä¸ç±»å‹ä¿¡æ¯"><a href="#14-9-æ¥å£ä¸ç±»å‹ä¿¡æ¯" class="headerlink" title="14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯"></a>14.9 æ¥å£ä¸ç±»å‹ä¿¡æ¯</h2><p>interfaceçš„ä¸€ç§é‡è¦ç›®æ ‡å°±æ˜¯å…è®¸éš”ç¦»æ„ä»¶ï¼Œè¿›è€Œé™ä½è€¦åˆåº¦ï¼Œå¦‚æœç¼–å†™æ¥å£ï¼Œé‚£ä¹ˆå¯ä»¥å®ç°è¿™ä¸€ç›®æ ‡ï¼Œä½†æ˜¯é€šè¿‡ç±»å‹ä¿¡æ¯ï¼Œè¿™ç§è€¦åˆæ€§è¿˜æ˜¯ä¼šä¼ æ’­å‡ºå»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceViolation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        A a = <span class="keyword">new</span> B();</span><br><span class="line">        a.f();</span><br><span class="line">        System.out.println(a.getClass().getCanonicalName());</span><br><span class="line">        <span class="keyword">if</span> (a <span class="keyword">instanceof</span> B) &#123;</span><br><span class="line">            B b = (B) a;</span><br><span class="line">            b.g();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>aè¢«å½“ä½œBå®ç°ï¼Œé€šè¿‡è½¬å‹ä¸ºBï¼Œå¯ä»¥è°ƒç”¨Aä¸­ä¸å­˜åœ¨çš„æ–¹æ³•ã€‚<br>ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ç›´æ¥å£°æ˜ï¼Œä½¿ç”¨å®é™…çš„ç±»è€Œä¸æ˜¯æ¥å£ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯å¯¹å®ç°ä½¿ç”¨åŒ…è®¿é—®æƒé™ï¼Œè¿™æ ·åœ¨åŒ…å¤–ä¾¿æ— æ³•è®¿é—®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HiddenC</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> A <span class="title">makeA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> C();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">u</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">v</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">w</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å³ä½¿ä»makeA()è¿”å›çš„æ˜¯Cç±»å‹ï¼Œåœ¨åŒ…å¤–ä¾ç„¶æ— æ³•ä½¿ç”¨Aä¹‹å¤–çš„ä»»ä½•æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HiddenImplementation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException,</span></span><br><span class="line"><span class="function">            InvocationTargetException </span>&#123;</span><br><span class="line">        A a = HiddenC.makeA();</span><br><span class="line">        a.f();</span><br><span class="line">        System.out.println(a.getClass().getCanonicalName());</span><br><span class="line">        <span class="keyword">if</span> (a <span class="keyword">instanceof</span> C) &#123;</span><br><span class="line">            C c = (C) a;</span><br><span class="line">            c.g();</span><br><span class="line">        &#125;</span><br><span class="line">        callHiddenMethod(a, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">        callHiddenMethod(a, <span class="string">&quot;v&quot;</span>);</span><br><span class="line">        callHiddenMethod(a, <span class="string">&quot;u&quot;</span>);</span><br><span class="line">        callHiddenMethod(a, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">callHiddenMethod</span><span class="params">(Object object, String methodName)</span> <span class="keyword">throws</span> NoSuchMethodException,</span></span><br><span class="line"><span class="function">            InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line">        Method g = object.getClass().getDeclaredMethod(methodName);</span><br><span class="line">        g.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        g.invoke(object);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">f</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function">com.typeinfo.C</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">g</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">g</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="title">v</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function"><span class="keyword">package</span> <span class="title">u</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">w</span><span class="params">()</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Process finished with exit code 0</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åå°„ï¼Œä»æ—§å¯ä»¥è°ƒç”¨æ‰€æœ‰æ–¹æ³•ï¼Œç”šè‡³æ˜¯privateæ–¹æ³•ï¼Œå¦‚æœçŸ¥é“æ–¹æ³•åï¼Œå¯ä»¥åœ¨Methodå¯¹è±¡ä¸Šè°ƒç”¨setAccessible(true)ã€‚<br>ç”šè‡³ä½¿ç”¨å‘å¸ƒç¼–è¯‘åçš„ä»£ç ä¹Ÿæ— æ³•é˜»æ­¢è¿™ç§æƒ…å†µï¼Œå› ä¸ºåœ¨å‘å¸ƒçš„jdkä¸­æœ‰åç¼–è¯‘å™¨ä¾¿å¯çªç ´è¿™ä¸€é™åˆ¶ã€‚<br>å†…éƒ¨ç±»ä¸åŒ¿åç±»ä¹Ÿæ— æ³•é˜»æ­¢åå°„åˆ°è¾¾å¹¶è°ƒç”¨éå…¬å…±è®¿é—®æƒé™çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerImplementation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException </span>&#123;</span><br><span class="line">        A a = InnerA.makeA();</span><br><span class="line">        a.f();</span><br><span class="line">        System.out.println(a.getClass().getName());</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;u&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;v&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InnerA</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;C.f()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;C.g()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">u</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;C.u()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">v</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;C.v()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">w</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;C.w()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> A <span class="title">makeA</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> C();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">C.f()</span><br><span class="line">com.typeinfo.InnerA$C</span><br><span class="line">C.g()</span><br><span class="line">C.u()</span><br><span class="line">C.v()</span><br><span class="line">C.w()</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.typeinfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018-06-08 11:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnonymousImplementation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException,</span></span><br><span class="line"><span class="function">            InvocationTargetException </span>&#123;</span><br><span class="line">        A a = AnonymousA.makeA();</span><br><span class="line">        a.f();</span><br><span class="line">        System.out.println(a.getClass().getName());</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;u&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;v&quot;</span>);</span><br><span class="line">        HiddenImplementation.callHiddenMethod(a, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnonymousA</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> A <span class="title">makeA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> A() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;public c.f()&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;public c.g()&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">void</span> <span class="title">u</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;package u()&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">v</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;protected v()&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">w</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;private w()&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> c.f()</span><br><span class="line">com.typeinfo.AnonymousA$<span class="number">1</span></span><br><span class="line"><span class="keyword">public</span> c.g()</span><br><span class="line"><span class="function"><span class="keyword">package</span> <span class="title">u</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="title">v</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">w</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Process finished with exit code 0</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè®¾è®¡æ¨¡å¼</title>
    <url>/2020/10/20/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="è®¾è®¡æ¨¡å¼çš„æ„ä¹‰"><a href="#è®¾è®¡æ¨¡å¼çš„æ„ä¹‰" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„æ„ä¹‰"></a>è®¾è®¡æ¨¡å¼çš„æ„ä¹‰</h2><p>è®¾è®¡æ¨¡å¼ï¼ˆDesign Patternï¼‰æ˜¯å‰è¾ˆä»¬å¯¹ä»£ç å¼€å‘ç»éªŒçš„æ€»ç»“ï¼Œæ˜¯è§£å†³ç‰¹å®šé—®é¢˜çš„ä¸€ç³»åˆ—å¥—è·¯ï¼Œå®ƒä¸æ˜¯è¯­æ³•è§„å®šï¼Œè€Œæ˜¯ä¸€å¥— <strong>ç”¨æ¥æé«˜ä»£ç å¯å¤ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯è¯»æ€§ã€ç¨³å¥æ€§ä»¥åŠå®‰å…¨æ€§</strong> çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>23 ç§è®¾è®¡æ¨¡å¼çš„æœ¬è´¨æ˜¯é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™çš„å®é™…è¿ç”¨ï¼Œæ˜¯å¯¹ç±»çš„å°è£…æ€§ã€ç»§æ‰¿æ€§å’Œå¤šæ€æ€§ï¼Œä»¥åŠç±»çš„å…³è”å…³ç³»å’Œç»„åˆå…³ç³»çš„å……åˆ†ç†è§£ã€‚</p>
<p>å½“ç„¶ï¼Œè½¯ä»¶è®¾è®¡æ¨¡å¼åªæ˜¯ä¸€ä¸ªå¼•å¯¼ï¼Œåœ¨å®é™…çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œå¿…é¡»æ ¹æ®å…·ä½“çš„éœ€æ±‚æ¥é€‰æ‹©ï¼š</p>
<ul>
<li>å¯¹äºç®€å•çš„ç¨‹åºï¼Œå¯èƒ½å†™ä¸€ä¸ªç®€å•çš„ç®—æ³•è¦æ¯”å¼•å…¥æŸç§è®¾è®¡æ¨¡å¼æ›´åŠ å®¹æ˜“ï¼›</li>
<li>ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®å¼€å‘æˆ–è€…æ¡†æ¶è®¾è®¡ï¼Œç”¨è®¾è®¡æ¨¡å¼æ¥ç»„ç»‡ä»£ç æ˜¾ç„¶æ›´å¥½ã€‚</li>
</ul>
<span id="more"></span>

<h2 id="è®¾è®¡æ¨¡å¼çš„è¦ç´ "><a href="#è®¾è®¡æ¨¡å¼çš„è¦ç´ " class="headerlink" title="è®¾è®¡æ¨¡å¼çš„è¦ç´ "></a>è®¾è®¡æ¨¡å¼çš„è¦ç´ </h2><ul>
<li>æ¨¡å¼çš„åç§°ï¼›</li>
<li>è¦è§£å†³çš„é—®é¢˜ç±»å‹ï¼›</li>
<li>è§£å†³æ–¹æ¡ˆï¼›</li>
<li>æ•ˆç‡ã€å®‰å…¨åŠå¯ç§»æ¤æ€§ç­‰ä¼˜ç¼ºç‚¹è¯„ä¼°ã€‚</li>
</ul>
<h2 id="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™"><a href="#é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™" class="headerlink" title="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™"></a>é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™</h2><h3 id="å¼€é—­åŸåˆ™"><a href="#å¼€é—­åŸåˆ™" class="headerlink" title="å¼€é—­åŸåˆ™"></a>å¼€é—­åŸåˆ™</h3><p>è½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚ï¼ˆopen for entension, but closed for modification.ï¼‰ï¼Œä½¿è½¯ä»¶æœ‰ä¸€å®šçš„æ‰©å±•æ€§åŒæ—¶å…·å¤‡ç¨³å®šæ€§ã€‚</p>
<p>å¯ä»¥é€šè¿‡â€œæŠ½è±¡çº¦æŸã€å°è£…å˜åŒ–â€æ¥å®ç°å¼€é—­åŸåˆ™ï¼Œå³é€šè¿‡æ¥å£æˆ–è€…æŠ½è±¡ç±»ä¸ºè½¯ä»¶å®ä½“å®šä¹‰ä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„æŠ½è±¡å±‚ï¼Œè€Œå°†ç›¸åŒçš„å¯å˜å› ç´ å°è£…åœ¨ç›¸åŒçš„å…·ä½“å®ç°ç±»ä¸­ã€‚</p>
<h3 id="é‡Œæ°æ›¿æ¢åŸåˆ™"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™"></a>é‡Œæ°æ›¿æ¢åŸåˆ™</h3><p>ç»§æ‰¿å¿…é¡»ç¡®ä¿è¶…ç±»æ‰€æ‹¥æœ‰çš„æ€§è´¨åœ¨å­ç±»ä¸­ä»ç„¶æˆç«‹ï¼ˆInheritance should ensure that any property proved about supertype objects also holds for subtype objectsï¼‰ã€‚</p>
<p>é‡Œæ°æ›¿æ¢åŸåˆ™çš„ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li>é‡Œæ°æ›¿æ¢åŸåˆ™æ˜¯å®ç°å¼€é—­åŸåˆ™çš„é‡è¦æ–¹å¼ä¹‹ä¸€ã€‚</li>
<li>å®ƒå…‹æœäº†ç»§æ‰¿ä¸­é‡å†™çˆ¶ç±»é€ æˆçš„å¯å¤ç”¨æ€§å˜å·®çš„ç¼ºç‚¹ã€‚</li>
<li>å®ƒæ˜¯åŠ¨ä½œæ­£ç¡®æ€§çš„ä¿è¯ã€‚å³ç±»çš„æ‰©å±•ä¸ä¼šç»™å·²æœ‰çš„ç³»ç»Ÿå¼•å…¥æ–°çš„é”™è¯¯ï¼Œé™ä½äº†ä»£ç å‡ºé”™çš„å¯èƒ½æ€§ã€‚</li>
<li>åŠ å¼ºç¨‹åºçš„å¥å£®æ€§ï¼ŒåŒæ—¶å˜æ›´æ—¶å¯ä»¥åšåˆ°éå¸¸å¥½çš„å…¼å®¹æ€§ï¼Œæé«˜ç¨‹åºçš„ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ï¼Œé™ä½éœ€æ±‚å˜æ›´æ—¶å¼•å…¥çš„é£é™©ã€‚</li>
</ol>
<p><strong>å­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚</strong></p>
<h3 id="ä¾èµ–å€’ç½®åŸåˆ™"><a href="#ä¾èµ–å€’ç½®åŸåˆ™" class="headerlink" title="ä¾èµ–å€’ç½®åŸåˆ™"></a>ä¾èµ–å€’ç½®åŸåˆ™</h3><p>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ï¼ˆHigh level modules shouldnot depend upon low level modules.Both should depend upon abstractions.Abstractions should not depend upon details. Details should depend upon abstractionsï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šè¦é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å®ç°ç¼–ç¨‹ã€‚</p>
<p>ä¾èµ–å€’ç½®åŸåˆ™çš„ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¾èµ–å€’ç½®åŸåˆ™å¯ä»¥é™ä½ç±»é—´çš„è€¦åˆæ€§ã€‚</li>
<li>ä¾èµ–å€’ç½®åŸåˆ™å¯ä»¥æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</li>
<li>ä¾èµ–å€’ç½®åŸåˆ™å¯ä»¥å‡å°‘å¹¶è¡Œå¼€å‘å¼•èµ·çš„é£é™©ã€‚</li>
<li>ä¾èµ–å€’ç½®åŸåˆ™å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DIPTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Customer wang = <span class="keyword">new</span> Customer();</span><br><span class="line">        System.out.println(<span class="string">&quot;é¡¾å®¢è´­ä¹°ä»¥ä¸‹å•†å“ï¼š&quot;</span>);</span><br><span class="line">        wang.shopping(<span class="keyword">new</span> ShaoguanShop());</span><br><span class="line">        wang.shopping(<span class="keyword">new</span> WuyuanShop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å•†åº—</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Shop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sell</span><span class="params">()</span></span>; <span class="comment">//å–</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éŸ¶å…³ç½‘åº—</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShaoguanShop</span> <span class="keyword">implements</span> <span class="title">Shop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;éŸ¶å…³åœŸç‰¹äº§ï¼šé¦™è‡ã€æœ¨è€³â€¦â€¦&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å©ºæºç½‘åº—</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WuyuanShop</span> <span class="keyword">implements</span> <span class="title">Shop</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å©ºæºåœŸç‰¹äº§ï¼šç»¿èŒ¶ã€é…’ç³Ÿé±¼â€¦â€¦&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¡¾å®¢</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shopping</span><span class="params">(Shop shop)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è´­ç‰©</span></span><br><span class="line">        System.out.println(shop.sell());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å•ä¸€èŒè´£åŸåˆ™"><a href="#å•ä¸€èŒè´£åŸåˆ™" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™"></a>å•ä¸€èŒè´£åŸåˆ™</h3><p>å•ä¸€èŒè´£åŸåˆ™è§„å®šä¸€ä¸ªç±»åº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œå¦åˆ™ç±»åº”è¯¥è¢«æ‹†åˆ†ï¼ˆThere should never be more than one reason for a class to changeï¼‰ã€‚</p>
<p>å•ä¸€èŒè´£åŸåˆ™çš„æ ¸å¿ƒå°±æ˜¯æ§åˆ¶ç±»çš„ç²’åº¦å¤§å°ã€å°†å¯¹è±¡è§£è€¦ã€æé«˜å…¶å†…èšæ€§ã€‚å¦‚æœéµå¾ªå•ä¸€èŒè´£åŸåˆ™å°†æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>é™ä½ç±»çš„å¤æ‚åº¦ã€‚ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ï¼Œå…¶é€»è¾‘è‚¯å®šè¦æ¯”è´Ÿè´£å¤šé¡¹èŒè´£ç®€å•å¾—å¤šã€‚</li>
<li>æé«˜ç±»çš„å¯è¯»æ€§ã€‚å¤æ‚æ€§é™ä½ï¼Œè‡ªç„¶å…¶å¯è¯»æ€§ä¼šæé«˜ã€‚</li>
<li>æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚å¯è¯»æ€§æé«˜ï¼Œé‚£è‡ªç„¶æ›´å®¹æ˜“ç»´æŠ¤äº†ã€‚</li>
<li>å˜æ›´å¼•èµ·çš„é£é™©é™ä½ã€‚å˜æ›´æ˜¯å¿…ç„¶çš„ï¼Œå¦‚æœå•ä¸€èŒè´£åŸåˆ™éµå®ˆå¾—å¥½ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œå¯ä»¥æ˜¾è‘—é™ä½å¯¹å…¶ä»–åŠŸèƒ½çš„å½±å“ã€‚</li>
</ul>
<h3 id="æ¥å£éš”ç¦»åŸåˆ™"><a href="#æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™"></a>æ¥å£éš”ç¦»åŸåˆ™</h3><p>å°½é‡å°†è‡ƒè‚¿åºå¤§çš„æ¥å£æ‹†åˆ†æˆæ›´å°çš„å’Œæ›´å…·ä½“çš„æ¥å£ï¼Œè®©æ¥å£ä¸­åªåŒ…å«å®¢æˆ·æ„Ÿå…´è¶£çš„æ–¹æ³•ã€‚</p>
<p>æ¥å£éš”ç¦»åŸåˆ™æ˜¯ä¸ºäº†çº¦æŸæ¥å£ã€é™ä½ç±»å¯¹æ¥å£çš„ä¾èµ–æ€§ï¼Œéµå¾ªæ¥å£éš”ç¦»åŸåˆ™æœ‰ä»¥ä¸‹ 5 ä¸ªä¼˜ç‚¹ï¼š</p>
<ol>
<li>å°†è‡ƒè‚¿åºå¤§çš„æ¥å£åˆ†è§£ä¸ºå¤šä¸ªç²’åº¦å°çš„æ¥å£ï¼Œå¯ä»¥é¢„é˜²å¤–æ¥å˜æ›´çš„æ‰©æ•£ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
<li>æ¥å£éš”ç¦»æé«˜äº†ç³»ç»Ÿçš„å†…èšæ€§ï¼Œå‡å°‘äº†å¯¹å¤–äº¤äº’ï¼Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆæ€§ã€‚</li>
<li>å¦‚æœæ¥å£çš„ç²’åº¦å¤§å°å®šä¹‰åˆç†ï¼Œèƒ½å¤Ÿä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼›ä½†æ˜¯ï¼Œå¦‚æœå®šä¹‰è¿‡å°ï¼Œåˆ™ä¼šé€ æˆæ¥å£æ•°é‡è¿‡å¤šï¼Œä½¿è®¾è®¡å¤æ‚åŒ–ï¼›å¦‚æœå®šä¹‰å¤ªå¤§ï¼Œçµæ´»æ€§é™ä½ï¼Œæ— æ³•æä¾›å®šåˆ¶æœåŠ¡ï¼Œç»™æ•´ä½“é¡¹ç›®å¸¦æ¥æ— æ³•é¢„æ–™çš„é£é™©ã€‚</li>
<li>ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£è¿˜èƒ½å¤Ÿä½“ç°å¯¹è±¡çš„å±‚æ¬¡ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡æ¥å£çš„ç»§æ‰¿ï¼Œå®ç°å¯¹æ€»æ¥å£çš„å®šä¹‰ã€‚</li>
<li>èƒ½å‡å°‘é¡¹ç›®å·¥ç¨‹ä¸­çš„ä»£ç å†—ä½™ã€‚è¿‡å¤§çš„å¤§æ¥å£é‡Œé¢é€šå¸¸æ”¾ç½®è®¸å¤šä¸ç”¨çš„æ–¹æ³•ï¼Œå½“å®ç°è¿™ä¸ªæ¥å£çš„æ—¶å€™ï¼Œè¢«è¿«è®¾è®¡å†—ä½™çš„ä»£ç ã€‚</li>
</ol>
<p>åœ¨å…·ä½“åº”ç”¨æ¥å£éš”ç¦»åŸåˆ™æ—¶ï¼Œåº”è¯¥æ ¹æ®ä»¥ä¸‹å‡ ä¸ªè§„åˆ™æ¥è¡¡é‡ã€‚</p>
<ul>
<li>æ¥å£å°½é‡å°ï¼Œä½†æ˜¯è¦æœ‰é™åº¦ã€‚ä¸€ä¸ªæ¥å£åªæœåŠ¡äºä¸€ä¸ªå­æ¨¡å—æˆ–ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>ä¸ºä¾èµ–æ¥å£çš„ç±»å®šåˆ¶æœåŠ¡ã€‚åªæä¾›è°ƒç”¨è€…éœ€è¦çš„æ–¹æ³•ï¼Œå±è”½ä¸éœ€è¦çš„æ–¹æ³•ã€‚</li>
<li>äº†è§£ç¯å¢ƒï¼Œæ‹’ç»ç›²ä»ã€‚æ¯ä¸ªé¡¹ç›®æˆ–äº§å“éƒ½æœ‰é€‰å®šçš„ç¯å¢ƒå› ç´ ï¼Œç¯å¢ƒä¸åŒï¼Œæ¥å£æ‹†åˆ†çš„æ ‡å‡†å°±ä¸åŒæ·±å…¥äº†è§£ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>æé«˜å†…èšï¼Œå‡å°‘å¯¹å¤–äº¤äº’ã€‚ä½¿æ¥å£ç”¨æœ€å°‘çš„æ–¹æ³•å»å®Œæˆæœ€å¤šçš„äº‹æƒ…ã€‚</li>
</ul>
<h3 id="è¿ªç±³ç‰¹åŸåˆ™"><a href="#è¿ªç±³ç‰¹åŸåˆ™" class="headerlink" title="è¿ªç±³ç‰¹åŸåˆ™"></a>è¿ªç±³ç‰¹åŸåˆ™</h3><p>å¦‚æœä¸¤ä¸ªè½¯ä»¶å®ä½“æ— é¡»ç›´æ¥é€šä¿¡ï¼Œé‚£ä¹ˆå°±ä¸åº”å½“å‘ç”Ÿç›´æ¥çš„ç›¸äº’è°ƒç”¨ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹è½¬å‘è¯¥è°ƒç”¨ã€‚å…¶ç›®çš„æ˜¯é™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œæé«˜æ¨¡å—çš„ç›¸å¯¹ç‹¬ç«‹æ€§ã€‚</p>
<p>è¿‡åº¦ä½¿ç”¨è¿ªç±³ç‰¹æ³•åˆ™ä¼šä½¿ç³»ç»Ÿäº§ç”Ÿå¤§é‡çš„ä¸­ä»‹ç±»ï¼Œä»è€Œå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œä½¿æ¨¡å—ä¹‹é—´çš„é€šä¿¡æ•ˆç‡é™ä½ã€‚æ‰€ä»¥ï¼Œåœ¨é‡†ç”¨è¿ªç±³ç‰¹æ³•åˆ™æ—¶éœ€è¦åå¤æƒè¡¡ï¼Œç¡®ä¿é«˜å†…èšå’Œä½è€¦åˆçš„åŒæ—¶ï¼Œä¿è¯ç³»ç»Ÿçš„ç»“æ„æ¸…æ™°ã€‚</p>
<h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>æŒ‡ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è¯¥ç±»èƒ½è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹çš„ä¸€ç§æ¨¡å¼ã€‚</p>
<p>å•ä¾‹æ¨¡å¼æœ‰ 3 ä¸ªç‰¹ç‚¹ï¼š</p>
<ol>
<li>å•ä¾‹ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼›</li>
<li>è¯¥å•ä¾‹å¯¹è±¡å¿…é¡»ç”±å•ä¾‹ç±»è‡ªè¡Œåˆ›å»ºï¼›</li>
<li>å•ä¾‹ç±»å¯¹å¤–æä¾›ä¸€ä¸ªè®¿é—®è¯¥å•ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚</li>
</ol>
<p>å•ä¾‹æ¨¡å¼å¯ä»¥ä¿è¯åœ¨ä¸€ä¸ª JVM ä¸­åªå­˜åœ¨å•ä¸€å®ä¾‹ã€‚å•ä¾‹æ¨¡å¼çš„åº”ç”¨åœºæ™¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>éœ€è¦é¢‘ç¹åˆ›å»ºçš„ä¸€äº›ç±»ï¼Œä½¿ç”¨å•ä¾‹å¯ä»¥é™ä½ç³»ç»Ÿçš„å†…å­˜å‹åŠ›ï¼Œå‡å°‘ GCã€‚</li>
<li>æŸç±»åªè¦æ±‚ç”Ÿæˆä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚ä¸€ä¸ªç­ä¸­çš„ç­é•¿ã€æ¯ä¸ªäººçš„èº«ä»½è¯å·ç­‰ã€‚</li>
<li>æŸäº›ç±»åˆ›å»ºå®ä¾‹æ—¶å ç”¨èµ„æºè¾ƒå¤šï¼Œæˆ–å®ä¾‹åŒ–è€—æ—¶è¾ƒé•¿ï¼Œä¸”ç»å¸¸ä½¿ç”¨ã€‚</li>
<li>æŸç±»éœ€è¦é¢‘ç¹å®ä¾‹åŒ–ï¼Œè€Œåˆ›å»ºçš„å¯¹è±¡åˆé¢‘ç¹è¢«é”€æ¯çš„æ—¶å€™ï¼Œå¦‚å¤šçº¿ç¨‹çš„çº¿ç¨‹æ± ã€ç½‘ç»œè¿æ¥æ± ç­‰ã€‚</li>
<li>é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ã€‚</li>
<li>å¯¹äºä¸€äº›æ§åˆ¶ç¡¬ä»¶çº§åˆ«çš„æ“ä½œï¼Œæˆ–è€…ä»ç³»ç»Ÿä¸Šæ¥è®²åº”å½“æ˜¯å•ä¸€æ§åˆ¶é€»è¾‘çš„æ“ä½œï¼Œå¦‚æœæœ‰å¤šä¸ªå®ä¾‹ï¼Œåˆ™ç³»ç»Ÿä¼šå®Œå…¨ä¹±å¥—ã€‚</li>
<li>å½“å¯¹è±¡éœ€è¦è¢«å…±äº«çš„åœºåˆã€‚ç”±äºå•ä¾‹æ¨¡å¼åªå…è®¸åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå…±äº«è¯¥å¯¹è±¡å¯ä»¥èŠ‚çœå†…å­˜ï¼Œå¹¶åŠ å¿«å¯¹è±¡è®¿é—®é€Ÿåº¦ã€‚å¦‚ Web ä¸­çš„é…ç½®å¯¹è±¡ã€æ•°æ®åº“çš„è¿æ¥æ± ç­‰ã€‚</li>
</ul>
<p>ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonMode</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> SingletonMode instance = <span class="keyword">new</span> SingletonMode();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SingletonMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SingletonMode <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonMode</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> SingletonMode singletonMode = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SingletonMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SingletonMode <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (singletonMode == <span class="keyword">null</span>) &#123;</span><br><span class="line">            singletonMode = <span class="keyword">new</span> SingletonMode();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> singletonMode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h3><p>å®šä¹‰ä¸€ä¸ªåˆ›å»ºäº§å“å¯¹è±¡çš„å·¥å‚æ¥å£ï¼Œå°†äº§å“å¯¹è±¡çš„å®é™…åˆ›å»ºå·¥ä½œæ¨è¿Ÿåˆ°å…·ä½“å­å·¥å‚ç±»å½“ä¸­ã€‚è¿™æ»¡è¶³åˆ›å»ºå‹æ¨¡å¼ä¸­æ‰€è¦æ±‚çš„â€œåˆ›å»ºä¸ä½¿ç”¨ç›¸åˆ†ç¦»â€çš„ç‰¹ç‚¹ã€‚</p>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ol>
<li>å·¥å‚ç±»åŒ…å«å¿…è¦çš„é€»è¾‘åˆ¤æ–­ï¼Œå¯ä»¥å†³å®šåœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºå“ªä¸€ä¸ªäº§å“çš„å®ä¾‹ã€‚å®¢æˆ·ç«¯å¯ä»¥å…é™¤ç›´æ¥åˆ›å»ºäº§å“å¯¹è±¡çš„èŒè´£ï¼Œå¾ˆæ–¹ä¾¿çš„åˆ›å»ºå‡ºç›¸åº”çš„äº§å“ã€‚å·¥å‚å’Œäº§å“çš„èŒè´£åŒºåˆ†æ˜ç¡®ï¼›</li>
<li>å®¢æˆ·ç«¯æ— éœ€çŸ¥é“æ‰€åˆ›å»ºå…·ä½“äº§å“çš„ç±»åï¼Œåªéœ€çŸ¥é“å‚æ•°å³å¯ï¼›</li>
<li>ä¹Ÿå¯ä»¥å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œåœ¨ä¸ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹æ›´æ¢å’Œæ·»åŠ æ–°çš„å…·ä½“äº§å“ç±»ã€‚</li>
</ol>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ol>
<li>ç®€å•å·¥å‚æ¨¡å¼çš„å·¥å‚ç±»å•ä¸€ï¼Œè´Ÿè´£æ‰€æœ‰äº§å“çš„åˆ›å»ºï¼ŒèŒè´£è¿‡é‡ï¼Œä¸€æ—¦å¼‚å¸¸ï¼Œæ•´ä¸ªç³»ç»Ÿå°†å—å½±å“ã€‚ä¸”å·¥å‚ç±»ä»£ç ä¼šéå¸¸è‡ƒè‚¿ï¼Œè¿èƒŒé«˜èšåˆåŸåˆ™ï¼›</li>
<li>ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ä¼šå¢åŠ ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°ï¼ˆå¼•å…¥æ–°çš„å·¥å‚ç±»ï¼‰ï¼Œå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦å’Œç†è§£éš¾åº¦ï¼›</li>
<li>ç³»ç»Ÿæ‰©å±•å›°éš¾ï¼Œä¸€æ—¦å¢åŠ æ–°äº§å“ä¸å¾—ä¸ä¿®æ”¹å·¥å‚é€»è¾‘ï¼Œåœ¨äº§å“ç±»å‹è¾ƒå¤šæ—¶ï¼Œå¯èƒ½é€ æˆé€»è¾‘è¿‡äºå¤æ‚ï¼›</li>
<li>ç®€å•å·¥å‚æ¨¡å¼ä½¿ç”¨äº† static å·¥å‚æ–¹æ³•ï¼Œé€ æˆå·¥å‚è§’è‰²æ— æ³•å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showInfo</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductA</span> <span class="keyword">implements</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;A product&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductB</span> <span class="keyword">implements</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B product&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeProduct</span><span class="params">(Product product)</span> </span>&#123;</span><br><span class="line">        product.showInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductFactoryTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ProductFactory productFactory = <span class="keyword">new</span> ProductFactory();</span><br><span class="line">        productFactory.makeProduct(<span class="keyword">new</span> ProductA());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><p>ç®€å•å·¥å‚æ¨¡å¼è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼Œè€Œâ€œå·¥å‚æ–¹æ³•æ¨¡å¼â€æ˜¯å¯¹ç®€å•å·¥å‚æ¨¡å¼çš„è¿›ä¸€æ­¥æŠ½è±¡åŒ–ï¼Œå…¶å¥½å¤„æ˜¯å¯ä»¥ä½¿ç³»ç»Ÿåœ¨ä¸ä¿®æ”¹åŸæ¥ä»£ç çš„æƒ…å†µä¸‹å¼•è¿›æ–°çš„äº§å“ï¼Œå³æ»¡è¶³å¼€é—­åŸåˆ™ã€‚</p>
<h4 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h4><ul>
<li>ç”¨æˆ·åªéœ€è¦çŸ¥é“å…·ä½“å·¥å‚çš„åç§°å°±å¯å¾—åˆ°æ‰€è¦çš„äº§å“ï¼Œæ— é¡»çŸ¥é“äº§å“çš„å…·ä½“åˆ›å»ºè¿‡ç¨‹ã€‚</li>
<li>çµæ´»æ€§å¢å¼ºï¼Œå¯¹äºæ–°äº§å“çš„åˆ›å»ºï¼Œåªéœ€å¤šå†™ä¸€ä¸ªç›¸åº”çš„å·¥å‚ç±»ã€‚</li>
<li>å…¸å‹çš„è§£è€¦æ¡†æ¶ã€‚é«˜å±‚æ¨¡å—åªéœ€è¦çŸ¥é“äº§å“çš„æŠ½è±¡ç±»ï¼Œæ— é¡»å…³å¿ƒå…¶ä»–å®ç°ç±»ï¼Œæ»¡è¶³è¿ªç±³ç‰¹æ³•åˆ™ã€ä¾èµ–å€’ç½®åŸåˆ™å’Œé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚</li>
</ul>
<h4 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h4><ul>
<li>ç±»çš„ä¸ªæ•°å®¹æ˜“è¿‡å¤šï¼Œå¢åŠ å¤æ‚åº¦</li>
<li>å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦</li>
<li>æŠ½è±¡äº§å“åªèƒ½ç”Ÿäº§ä¸€ç§äº§å“ï¼Œæ­¤å¼Šç«¯å¯ä½¿ç”¨<a href="http://c.biancheng.net/view/1351.html">æŠ½è±¡å·¥å‚æ¨¡å¼</a>è§£å†³ã€‚</li>
</ul>
<h4 id="åº”ç”¨åœºæ™¯ï¼š"><a href="#åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ï¼š"></a>åº”ç”¨åœºæ™¯ï¼š</h4><ul>
<li>å®¢æˆ·åªçŸ¥é“åˆ›å»ºäº§å“çš„å·¥å‚åï¼Œè€Œä¸çŸ¥é“å…·ä½“çš„äº§å“åã€‚å¦‚ TCL ç”µè§†å·¥å‚ã€æµ·ä¿¡ç”µè§†å·¥å‚ç­‰ã€‚</li>
<li>åˆ›å»ºå¯¹è±¡çš„ä»»åŠ¡ç”±å¤šä¸ªå…·ä½“å­å·¥å‚ä¸­çš„æŸä¸€ä¸ªå®Œæˆï¼Œè€ŒæŠ½è±¡å·¥å‚åªæä¾›åˆ›å»ºäº§å“çš„æ¥å£ã€‚</li>
<li>å®¢æˆ·ä¸å…³å¿ƒåˆ›å»ºäº§å“çš„ç»†èŠ‚ï¼Œåªå…³å¿ƒäº§å“çš„å“ç‰Œ</li>
</ul>
<h4 id="æ¨¡å¼çš„ç»“æ„"><a href="#æ¨¡å¼çš„ç»“æ„" class="headerlink" title="æ¨¡å¼çš„ç»“æ„"></a>æ¨¡å¼çš„ç»“æ„</h4><p>å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ï¼š</p>
<ol>
<li>æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œè°ƒç”¨è€…é€šè¿‡å®ƒè®¿é—®å…·ä½“å·¥å‚çš„å·¥å‚æ–¹æ³• newProduct() æ¥åˆ›å»ºäº§å“ã€‚</li>
<li>å…·ä½“å·¥å‚ï¼ˆConcreteFactoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚</li>
<li>æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚</li>
<li>å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´ä¸€ä¸€å¯¹åº”ã€‚</li>
</ol>
<h3 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h3><p>æ˜¯ä¸€ç§ä¸ºè®¿é—®ç±»æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç»„ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œä¸”è®¿é—®ç±»æ— é¡»æŒ‡å®šæ‰€è¦äº§å“çš„å…·ä½“ç±»å°±èƒ½å¾—åˆ°åŒæ—çš„ä¸åŒç­‰çº§çš„äº§å“çš„æ¨¡å¼ç»“æ„ã€‚</p>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚</p>
<ol>
<li>æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œå®ƒåŒ…å«å¤šä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³• newProduct()ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒç­‰çº§çš„äº§å“ã€‚</li>
<li>å…·ä½“å·¥å‚ï¼ˆConcrete Factoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚</li>
<li>æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªæŠ½è±¡äº§å“ã€‚</li>
<li>å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ã€‚</li>
</ol>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼çš„ç»“æ„åŒå·¥å‚æ–¹æ³•æ¨¡å¼çš„ç»“æ„ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯å…¶äº§å“çš„ç§ç±»ä¸æ­¢ä¸€ä¸ªï¼Œæ‰€ä»¥åˆ›å»ºäº§å“çš„æ–¹æ³•ä¹Ÿä¸æ­¢ä¸€ä¸ªã€‚</p>
<p><img src="http://c.biancheng.net/uploads/allimg/181114/3-1Q11416002NW.gif"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductTypeA</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductTypeB</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductA</span> <span class="keyword">implements</span> <span class="title">ProductTypeA</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;product a&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductB</span> <span class="keyword">implements</span> <span class="title">ProductTypeB</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;product b&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductFacotry</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">ProductTypeA <span class="title">productA</span><span class="params">(ProductTypeA productTypeA)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ProductTypeB <span class="title">productB</span><span class="params">(ProductTypeB productTypeB)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FacotryA</span> <span class="keyword">implements</span> <span class="title">ProductFacotry</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProductTypeA <span class="title">productA</span><span class="params">(ProductTypeA productTypeA)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;a product&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProductTypeB <span class="title">productB</span><span class="params">(ProductTypeB productTypeB)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;b product&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h3><p>æŒ‡å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„é€ ä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºï¼Œè¿™æ ·çš„<a href="http://c.biancheng.net/design_pattern/">è®¾è®¡æ¨¡å¼</a>è¢«ç§°ä¸ºå»ºé€ è€…æ¨¡å¼ã€‚å®ƒæ˜¯å°†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡åˆ†è§£ä¸ºå¤šä¸ªç®€å•çš„å¯¹è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥æ„å»ºè€Œæˆã€‚å®ƒå°†å˜ä¸ä¸å˜ç›¸åˆ†ç¦»ï¼Œå³äº§å“çš„ç»„æˆéƒ¨åˆ†æ˜¯ä¸å˜çš„ï¼Œä½†æ¯ä¸€éƒ¨åˆ†æ˜¯å¯ä»¥çµæ´»é€‰æ‹©çš„ã€‚</p>
<p>è¯¥æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°è£…æ€§å¥½ï¼Œæ„å»ºå’Œè¡¨ç¤ºåˆ†ç¦»ã€‚</li>
<li>æ‰©å±•æ€§å¥½ï¼Œå„ä¸ªå…·ä½“çš„å»ºé€ è€…ç›¸äº’ç‹¬ç«‹ï¼Œæœ‰åˆ©äºç³»ç»Ÿçš„è§£è€¦ã€‚</li>
<li>å®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚ï¼Œå»ºé€ è€…å¯ä»¥å¯¹åˆ›å»ºè¿‡ç¨‹é€æ­¥ç»†åŒ–ï¼Œè€Œä¸å¯¹å…¶å®ƒæ¨¡å—äº§ç”Ÿä»»ä½•å½±å“ï¼Œä¾¿äºæ§åˆ¶ç»†èŠ‚é£é™©ã€‚</li>
</ol>
<p>å…¶ç¼ºç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>äº§å“çš„ç»„æˆéƒ¨åˆ†å¿…é¡»ç›¸åŒï¼Œè¿™é™åˆ¶äº†å…¶ä½¿ç”¨èŒƒå›´ã€‚</li>
<li>å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œå¦‚æœäº§å“å†…éƒ¨å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å»ºé€ è€…ä¹Ÿè¦åŒæ­¥ä¿®æ”¹ï¼ŒåæœŸç»´æŠ¤æˆæœ¬è¾ƒå¤§ã€‚</li>
</ol>
<p>å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚</p>
<ol>
<li>äº§å“è§’è‰²ï¼ˆProductï¼‰ï¼šå®ƒæ˜¯åŒ…å«å¤šä¸ªç»„æˆéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡ï¼Œç”±å…·ä½“å»ºé€ è€…æ¥åˆ›å»ºå…¶å„ä¸ªé›¶éƒ¨ä»¶ã€‚</li>
<li>æŠ½è±¡å»ºé€ è€…ï¼ˆBuilderï¼‰ï¼šå®ƒæ˜¯ä¸€ä¸ªåŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œé€šå¸¸è¿˜åŒ…å«ä¸€ä¸ªè¿”å›å¤æ‚äº§å“çš„æ–¹æ³• getResult()ã€‚</li>
<li>å…·ä½“å»ºé€ è€…(Concrete Builderï¼‰ï¼šå®ç° Builder æ¥å£ï¼Œå®Œæˆå¤æ‚äº§å“çš„å„ä¸ªéƒ¨ä»¶çš„å…·ä½“åˆ›å»ºæ–¹æ³•ã€‚</li>
<li>æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰ï¼šå®ƒè°ƒç”¨å»ºé€ è€…å¯¹è±¡ä¸­çš„éƒ¨ä»¶æ„é€ ä¸è£…é…æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œåœ¨æŒ‡æŒ¥è€…ä¸­ä¸æ¶‰åŠå…·ä½“äº§å“çš„ä¿¡æ¯ã€‚</li>
</ol>
<p><img src="http://c.biancheng.net/uploads/allimg/181114/3-1Q1141H441X4.gif"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String partA;</span><br><span class="line">    <span class="keyword">private</span> String partB;</span><br><span class="line">    <span class="keyword">private</span> String partC;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPartA</span><span class="params">(String partA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.partA = partA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPartB</span><span class="params">(String partB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.partB = partB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPartC</span><span class="params">(String partC)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.partC = partC;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Product product = <span class="keyword">new</span> Product();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">buildPartA</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">buildPartB</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">buildPartC</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Product <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteBuilder</span> <span class="keyword">extends</span> <span class="title">Builder</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildPartA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        product.setPartA(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildPartB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        product.setPartB(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildPartC</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        product.setPartC(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Director</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Builder builder;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Director</span><span class="params">(Builder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.builder = builder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Product <span class="title">construct</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        builder.buildPartA();</span><br><span class="line">        builder.buildPartB();</span><br><span class="line">        builder.buildPartC();</span><br><span class="line">        <span class="keyword">return</span> builder.getResult();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h3><p>ç”±äºæŸäº›åŸå› éœ€è¦ç»™æŸå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚è¿™æ—¶ï¼Œè®¿é—®å¯¹è±¡ä¸é€‚åˆæˆ–è€…ä¸èƒ½ç›´æ¥å¼•ç”¨ç›®æ ‡å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡ä½œä¸ºè®¿é—®å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´çš„ä¸­ä»‹ã€‚</p>
<p>ä»£ç†æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹æœ‰ï¼š</p>
<ul>
<li>ä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨å’Œä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨ï¼›</li>
<li><strong>ä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½</strong>ï¼›</li>
<li>ä»£ç†æ¨¡å¼èƒ½å°†å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡åˆ†ç¦»ï¼Œåœ¨ä¸€å®šç¨‹åº¦ <strong>é™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œå¢åŠ äº†ç¨‹åºçš„å¯æ‰©å±•æ€§</strong>ã€‚</li>
</ul>
<p>å…¶ä¸»è¦ç¼ºç‚¹æ˜¯ï¼š</p>
<ul>
<li>ä»£ç†æ¨¡å¼ä¼šé€ æˆç³»ç»Ÿè®¾è®¡ä¸­ç±»çš„æ•°é‡å¢åŠ ï¼›</li>
<li>åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´å¢åŠ ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä¼šé€ æˆè¯·æ±‚å¤„ç†é€Ÿåº¦å˜æ…¢ï¼›</li>
<li><strong>å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦</strong>ã€‚</li>
</ul>
<p>ä»£ç†æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚</p>
<ol>
<li>æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰ç±»ï¼šé€šè¿‡æ¥å£æˆ–æŠ½è±¡ç±»å£°æ˜çœŸå®ä¸»é¢˜å’Œä»£ç†å¯¹è±¡å®ç°çš„ä¸šåŠ¡æ–¹æ³•ã€‚</li>
<li>çœŸå®ä¸»é¢˜ï¼ˆReal Subjectï¼‰ç±»ï¼šå®ç°äº†æŠ½è±¡ä¸»é¢˜ä¸­çš„å…·ä½“ä¸šåŠ¡ï¼Œæ˜¯ä»£ç†å¯¹è±¡æ‰€ä»£è¡¨çš„çœŸå®å¯¹è±¡ï¼Œæ˜¯æœ€ç»ˆè¦å¼•ç”¨çš„å¯¹è±¡ã€‚</li>
<li>ä»£ç†ï¼ˆProxyï¼‰ç±»ï¼šæä¾›äº†ä¸çœŸå®ä¸»é¢˜ç›¸åŒçš„æ¥å£ï¼Œå…¶å†…éƒ¨å«æœ‰å¯¹çœŸå®ä¸»é¢˜çš„å¼•ç”¨ï¼Œå®ƒå¯ä»¥è®¿é—®ã€æ§åˆ¶æˆ–æ‰©å±•çœŸå®ä¸»é¢˜çš„åŠŸèƒ½ã€‚</li>
</ol>
<p><img src="http://c.biancheng.net/uploads/allimg/181115/3-1Q115093011523.gif"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">request</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çœŸå®ä¸»é¢˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> RealSubject realSubject;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (realSubject == <span class="keyword">null</span>) &#123;</span><br><span class="line">            realSubject = <span class="keyword">new</span> RealSubject();</span><br><span class="line">        &#125;</span><br><span class="line">        preRequest();</span><br><span class="line">        realSubject.request();</span><br><span class="line">        postRequest();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preRequest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¿é—®ä¹‹å‰çš„å¤„ç†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postRequest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¿é—®ä¹‹åçš„å¤„ç†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Proxy proxy = <span class="keyword">new</span> Proxy();</span><br><span class="line">        proxy.request();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h3><p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œã€‚é€‚é…å™¨æ¨¡å¼åˆ†ä¸ºç±»ç»“æ„å‹æ¨¡å¼å’Œå¯¹è±¡ç»“æ„å‹æ¨¡å¼ä¸¤ç§ï¼Œå‰è€…ç±»ä¹‹é—´çš„è€¦åˆåº¦æ¯”åè€…é«˜ï¼Œä¸”è¦æ±‚ç¨‹åºå‘˜äº†è§£ç°æœ‰ç»„ä»¶åº“ä¸­çš„ç›¸å…³ç»„ä»¶çš„å†…éƒ¨ç»“æ„ï¼Œæ‰€ä»¥åº”ç”¨ç›¸å¯¹è¾ƒå°‘äº›ã€‚</p>
<p>è¯¥æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨å¯ä»¥é€æ˜åœ°è°ƒç”¨ç›®æ ‡æ¥å£ã€‚</li>
<li><strong>å¤ç”¨äº†ç°å­˜çš„ç±»</strong>ï¼Œç¨‹åºå‘˜ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ä»£ç è€Œé‡ç”¨ç°æœ‰çš„é€‚é…è€…ç±»ã€‚</li>
<li>å°†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»è§£è€¦ï¼Œè§£å†³äº†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»æ¥å£ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li>
<li>åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ç¬¦åˆå¼€é—­åŸåˆ™ã€‚</li>
</ul>
<p>å…¶ç¼ºç‚¹æ˜¯ï¼š</p>
<ul>
<li>é€‚é…å™¨ç¼–å†™è¿‡ç¨‹éœ€è¦ç»“åˆä¸šåŠ¡åœºæ™¯å…¨é¢è€ƒè™‘ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</li>
<li>å¢åŠ ä»£ç é˜…è¯»éš¾åº¦ï¼Œé™ä½ä»£ç å¯è¯»æ€§ï¼Œè¿‡å¤šä½¿ç”¨é€‚é…å™¨ä¼šä½¿ç³»ç»Ÿä»£ç å˜å¾—å‡Œä¹±ã€‚</li>
</ul>
<p>ç±»é€‚é…å™¨ï¼š</p>
<p><img src="http://c.biancheng.net/uploads/allimg/181115/3-1Q1151045351c.gif"></p>
<p>å¯¹è±¡é€‚é…å™¨ï¼š</p>
<p><img src="http://c.biancheng.net/uploads/allimg/181115/3-1Q1151046105A.gif"></p>
<h3 id="è£…é¥°æ¨¡å¼"><a href="#è£…é¥°æ¨¡å¼" class="headerlink" title="è£…é¥°æ¨¡å¼"></a>è£…é¥°æ¨¡å¼</h3><p>æŒ‡åœ¨ä¸æ”¹å˜ç°æœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°ç»™è¯¥å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼ˆå³å¢åŠ å…¶é¢å¤–åŠŸèƒ½ï¼‰çš„æ¨¡å¼ï¼Œå®ƒå±äºå¯¹è±¡ç»“æ„å‹æ¨¡å¼ã€‚</p>
<p>è£…é¥°ï¼ˆDecoratorï¼‰æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹æœ‰ï¼š</p>
<ul>
<li>è£…é¥°å™¨æ˜¯ç»§æ‰¿çš„æœ‰åŠ›è¡¥å……ï¼Œæ¯”ç»§æ‰¿çµæ´»ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€çš„ç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½ï¼Œå³æ’å³ç”¨ï¼›</li>
<li>é€šè¿‡ä½¿ç”¨ä¸ç”¨è£…é¥°ç±»åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œå¯ä»¥å®ç°ä¸åŒæ•ˆæœï¼›</li>
<li>è£…é¥°å™¨æ¨¡å¼å®Œå…¨éµå®ˆå¼€é—­åŸåˆ™ï¼›</li>
</ul>
<p>å…¶ä¸»è¦ç¼ºç‚¹æ˜¯ï¼šè£…é¥°æ¨¡å¼ä¼šå¢åŠ è®¸å¤šå­ç±»ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šå¢åŠ ç¨‹åºå¾—å¤æ‚æ€§ã€‚</p>
<p>è£…é¥°æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ã€‚</p>
<ol>
<li>æŠ½è±¡æ„ä»¶ï¼ˆComponentï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ¥å£ä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ã€‚</li>
<li>å…·ä½“æ„ä»¶ï¼ˆConcreteComponentï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡æ„ä»¶ï¼Œé€šè¿‡è£…é¥°è§’è‰²ä¸ºå…¶æ·»åŠ ä¸€äº›èŒè´£ã€‚</li>
<li>æŠ½è±¡è£…é¥°ï¼ˆDecoratorï¼‰è§’è‰²ï¼šç»§æ‰¿æŠ½è±¡æ„ä»¶ï¼Œå¹¶åŒ…å«å…·ä½“æ„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å…¶å­ç±»æ‰©å±•å…·ä½“æ„ä»¶çš„åŠŸèƒ½ã€‚</li>
<li>å…·ä½“è£…é¥°ï¼ˆConcreteDecoratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è£…é¥°çš„ç›¸å…³æ–¹æ³•ï¼Œå¹¶ç»™å…·ä½“æ„ä»¶å¯¹è±¡æ·»åŠ é™„åŠ çš„è´£ä»»ã€‚</li>
</ol>
<p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteComponent</span> <span class="keyword">implements</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConcreteComponent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºå…·ä½“æ„ä»¶è§’è‰²&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨å…·ä½“æ„ä»¶è§’è‰²çš„æ–¹æ³•operation()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Decorator</span> <span class="keyword">implements</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Component component;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">(Component component)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.component = component;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        component.operation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteDecorator</span> <span class="keyword">extends</span> <span class="title">Decorator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConcreteDecorator</span><span class="params">(Component component)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(component);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">operation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.operation();</span><br><span class="line">        addFunction();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ·»åŠ åŠŸèƒ½&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Component component = <span class="keyword">new</span> ConcreteComponent();</span><br><span class="line">        component.operation();</span><br><span class="line">        Component component1 = <span class="keyword">new</span> ConcreteDecorator(component);</span><br><span class="line">        component1.operation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h3><p><strong>è¯¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¯¹ç®—æ³•è¿›è¡Œå°è£…ï¼ŒæŠŠä½¿ç”¨ç®—æ³•çš„è´£ä»»å’Œç®—æ³•çš„å®ç°åˆ†å‰²å¼€æ¥ï¼Œå¹¶å§”æ´¾ç»™ä¸åŒçš„å¯¹è±¡å¯¹è¿™äº›ç®—æ³•è¿›è¡Œç®¡ç†ã€‚</strong></p>
<p>åœ¨ç°å®ç”Ÿæ´»ä¸­å¸¸å¸¸é‡åˆ°å®ç°æŸç§ç›®æ ‡å­˜åœ¨å¤šç§ç­–ç•¥å¯ä¾›é€‰æ‹©çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼Œå‡ºè¡Œæ—…æ¸¸å¯ä»¥ä¹˜åé£æœºã€ä¹˜åç«è½¦ã€éª‘è‡ªè¡Œè½¦æˆ–è‡ªå·±å¼€ç§å®¶è½¦ç­‰ï¼Œè¶…å¸‚ä¿ƒé”€å¯ä»¥é‡†ç”¨æ‰“æŠ˜ã€é€å•†å“ã€é€ç§¯åˆ†ç­‰æ–¹æ³•ã€‚</p>
<p>å¦‚æœä½¿ç”¨å¤šé‡æ¡ä»¶è½¬ç§»è¯­å¥å®ç°ï¼ˆå³ç¡¬ç¼–ç ï¼‰ï¼Œä¸ä½†ä½¿æ¡ä»¶è¯­å¥å˜å¾—å¾ˆå¤æ‚ï¼Œè€Œä¸”å¢åŠ ã€åˆ é™¤æˆ–æ›´æ¢ç®—æ³•è¦ä¿®æ”¹åŸä»£ç ï¼Œä¸æ˜“ç»´æŠ¤ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ã€‚å¦‚æœé‡‡ç”¨ç­–ç•¥æ¨¡å¼å°±èƒ½å¾ˆå¥½è§£å†³è¯¥é—®é¢˜ã€‚</p>
<p>ç­–ç•¥æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¤šé‡æ¡ä»¶è¯­å¥ä¸æ˜“ç»´æŠ¤ï¼Œè€Œä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶è¯­å¥ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼æä¾›äº†ä¸€ç³»åˆ—çš„å¯ä¾›é‡ç”¨çš„ç®—æ³•æ—ï¼Œæ°å½“ä½¿ç”¨ç»§æ‰¿å¯ä»¥æŠŠç®—æ³•æ—çš„å…¬å…±ä»£ç è½¬ç§»åˆ°çˆ¶ç±»é‡Œé¢ï¼Œä»è€Œé¿å…é‡å¤çš„ä»£ç ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼å¯ä»¥æä¾›ç›¸åŒè¡Œä¸ºçš„ä¸åŒå®ç°ï¼Œå®¢æˆ·å¯ä»¥æ ¹æ®ä¸åŒæ—¶é—´æˆ–ç©ºé—´è¦æ±‚é€‰æ‹©ä¸åŒçš„ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼æä¾›äº†å¯¹å¼€é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸä»£ç çš„æƒ…å†µä¸‹ï¼Œçµæ´»å¢åŠ æ–°ç®—æ³•ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼æŠŠç®—æ³•çš„ä½¿ç”¨æ”¾åˆ°ç¯å¢ƒç±»ä¸­ï¼Œè€Œç®—æ³•çš„å®ç°ç§»åˆ°å…·ä½“ç­–ç•¥ç±»ä¸­ï¼Œå®ç°äº†äºŒè€…çš„åˆ†ç¦»ã€‚</li>
</ol>
<p>å…¶ä¸»è¦ç¼ºç‚¹å¦‚ä¸‹ã€‚</p>
<ol>
<li>å®¢æˆ·ç«¯å¿…é¡»ç†è§£æ‰€æœ‰ç­–ç•¥ç®—æ³•çš„åŒºåˆ«ï¼Œä»¥ä¾¿é€‚æ—¶é€‰æ‹©æ°å½“çš„ç®—æ³•ç±»ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼é€ æˆå¾ˆå¤šçš„ç­–ç•¥ç±»ã€‚</li>
</ol>
<p>ç­–ç•¥æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚</p>
<ol>
<li>æŠ½è±¡ç­–ç•¥ï¼ˆStrategyï¼‰ç±»ï¼šå®šä¹‰äº†ä¸€ä¸ªå…¬å…±æ¥å£ï¼Œå„ç§ä¸åŒçš„ç®—æ³•ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™ä¸ªæ¥å£ï¼Œç¯å¢ƒè§’è‰²ä½¿ç”¨è¿™ä¸ªæ¥å£è°ƒç”¨ä¸åŒçš„ç®—æ³•ï¼Œä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»å®ç°ï¼›</li>
<li>å…·ä½“ç­–ç•¥ï¼ˆConcrete Strategyï¼‰ç±»ï¼šå®ç°äº†æŠ½è±¡ç­–ç•¥å®šä¹‰çš„æ¥å£ï¼Œæä¾›å…·ä½“çš„ç®—æ³•å®ç°ã€‚</li>
<li>ç¯å¢ƒï¼ˆContextï¼‰ç±»ï¼šæŒæœ‰ä¸€ä¸ªç­–ç•¥ç±»çš„å¼•ç”¨ï¼Œæœ€ç»ˆç»™å®¢æˆ·ç«¯è°ƒç”¨ã€‚</li>
</ol>
<p><img src="http://c.biancheng.net/uploads/allimg/181116/3-1Q116103K1205.gif"></p>
<p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">strategyMethod</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteStrategyA</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strategyMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…·ä½“ç­–ç•¥A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteStrategyB</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strategyMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…·ä½“ç­–ç•¥B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Strategy strategy;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">strategyMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        strategy.strategyMethod();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Strategy <span class="title">getStrategy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> strategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStrategy</span><span class="params">(Strategy strategy)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.strategy = strategy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Context context = <span class="keyword">new</span> Context();</span><br><span class="line">        Strategy strategy = <span class="keyword">new</span> ConcreteStrategyA();</span><br><span class="line">        context.setStrategy(strategy);</span><br><span class="line">        context.strategyMethod();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----&quot;</span>);</span><br><span class="line">        Strategy strategy1 = <span class="keyword">new</span> ConcreteStrategyB();</span><br><span class="line">        context.setStrategy(strategy1);</span><br><span class="line">        context.strategyMethod();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>Jenkinsfile cdå‘½ä»¤ä¸ç”Ÿæ•ˆçš„é—®é¢˜</title>
    <url>/2021/06/05/Jenkinsfile-cd%E5%91%BD%E4%BB%A4%E4%B8%8D%E7%94%9F%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä»Šå¤©æ™šä¸Šç»™å‰ç«¯é¡¹ç›®é…ç½®Jenkinsæµæ°´çº¿çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šcd å‘½ä»¤ä¸ç”Ÿæ•ˆï¼Œ<code>shÂ 'cd ask_front'</code> è¿™ä¸ªè¯­å¥æ‰§è¡Œå‰å <code>pwd</code> çš„è¾“å‡ºæ˜¯ä¸€æ ·çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ pwd</span><br><span class="line">/home/jingh527/.jenkins/workspace/try-ask_master</span><br></pre></td></tr></table></figure>

<p>å»Jenkinsæœºå™¨ä¸Šçœ‹äº†ä¸Šé¢è¿™ä¸ªç›®å½•ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">try-ask_master</span><br><span class="line">-- ask</span><br><span class="line">-- ask_front</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>Jenkinsfileçš„å®šä¹‰ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent &#123;</span><br><span class="line">        docker &#123;</span><br><span class="line">            image <span class="string">&#x27;node:10&#x27;</span></span><br><span class="line">            args <span class="string">&#x27;-itd -p 9001:8080&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stages &#123;</span><br><span class="line">        stage (<span class="string">&quot;ç¼–è¯‘&quot;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo <span class="string">&quot;======== å¼€å§‹ç¼–è¯‘é¡¹ç›® ========&quot;</span></span><br><span class="line">                sh <span class="string">&quot;pwd&quot;</span></span><br><span class="line">                sh <span class="string">&quot;cd ask_front&quot;</span></span><br><span class="line">                sh <span class="string">&quot;npm uninstall *&quot;</span></span><br><span class="line">                sh <span class="string">&quot;rm -rf node_modules&quot;</span></span><br><span class="line">                sh <span class="string">&quot;rm -rf package-lock.json&quot;</span></span><br><span class="line">                sh <span class="string">&quot;npm cache clean --force&quot;</span></span><br><span class="line">                sh <span class="string">&quot;npm install&quot;</span></span><br><span class="line">                echo <span class="string">&quot;======== é¡¹ç›®ç¼–è¯‘ç»“æŸ ========&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stage (<span class="string">&quot;éƒ¨ç½²&quot;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo <span class="string">&quot;======== å¼€å§‹éƒ¨ç½²é¡¹ç›® ========&quot;</span></span><br><span class="line">                sh <span class="string">&quot;pwd&quot;</span></span><br><span class="line">                sh <span class="string">&quot;npm run dev&quot;</span></span><br><span class="line">                echo <span class="string">&quot;======== é¡¹ç›®æˆåŠŸéƒ¨ç½² ========&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ‰§è¡Œåˆ° npm å‘½ä»¤ç›¸å…³çš„åœ°æ–¹å°±å¼€å§‹æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ npm run dev</span><br><span class="line">npm ERR! code ENOENT</span><br><span class="line">npm ERR! syscall open</span><br><span class="line">npm ERR! path /home/jingh527/.jenkins/workspace/try-ask_master/package.json</span><br><span class="line">npm ERR! errno -2</span><br><span class="line">npm ERR! enoent ENOENT: no such file or directory, open &#x27;/home/jingh527/.jenkins/workspace/try-ask_master/package.json&#x27;</span><br><span class="line">npm ERR! enoent This is related to npm not being able to find a file.</span><br><span class="line">npm ERR! enoent </span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /home/node/.npm/_logs/2021-06-04T17_20_39_229Z-debug.log</span><br><span class="line">script returned exit code 254</span><br></pre></td></tr></table></figure>

<br>

<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¼šå„¿èµ„æ–™ï¼Œçœ‹åˆ°ä¸€ä¸ªå¸–å­ï¼š<a href="https://blog.csdn.net/liumiaocn/article/details/102632742">JenkinsåŸºç¡€ï¼šJenkinsfileæ³¨æ„äº‹é¡¹ï¼šæ¡ä»¶è·³è½¬ä¸å½“å‰è·¯å¾„</a></p>
<blockquote>
<p>cd demoã€npm installã€npm run buildè¿™æœ¬æ˜¯ä¸‰æ¡å‘½ä»¤ï¼Œå¼ºç¡¬åœ°ä½¿ç”¨&amp;&amp;å†™åœ¨äº†ä¸€èµ·ï¼Œä¸ºä»€ä¹ˆä¸èƒ½åˆ†å¼€ä½¿ç”¨ä¸‰ä¸ªsh â€˜â€™çš„åŸå› æ˜¯å› ä¸ºï¼Œåœ¨å…·ä½“çš„å®ç°çš„æ—¶å€™ï¼Œæ˜¾ç„¶æ‰§è¡Œå®Œè¿”å›å½“å‰ç›®å½•ä¼šæ¢å¤ä¸ºåŸå§‹çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å®¹æ˜“è¢«å¿˜è®°çš„é—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">stage(&#x27;Build Angular Project&#x27;) &#123; // build angular demo app</span><br><span class="line">    sh &#x27;cd demo &amp;&amp; npm install &amp;&amp; npm run build&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰ååº”è¿‡æ¥è„šæœ¬å†™å¾—æœ‰é—®é¢˜ï¼Œäºæ˜¯æ”¹äº†ä¸€ä¸‹ï¼Œå°†å¤šä¸ªæ“ä½œç”¨ &amp;&amp; è¿æ¥èµ·æ¥ï¼Œå°±éƒ¨ç½²æˆåŠŸäº†ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent &#123;</span><br><span class="line">        docker &#123;</span><br><span class="line">            image <span class="string">&#x27;node:10&#x27;</span></span><br><span class="line">            args <span class="string">&#x27;-itd -p 9001:8080&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stages &#123;</span><br><span class="line">        stage (<span class="string">&quot;ç¼–è¯‘&quot;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo <span class="string">&quot;======== å¼€å§‹ç¼–è¯‘é¡¹ç›® ========&quot;</span></span><br><span class="line">                sh <span class="string">&quot;pwd&quot;</span></span><br><span class="line">                sh <span class="string">&quot;cd ask_front &amp;&amp; npm uninstall * &amp;&amp; rm -rf node_modules &amp;&amp; rm -rf package-lock.json &amp;&amp; npm cache clean --force &amp;&amp; npm install&quot;</span></span><br><span class="line">                echo <span class="string">&quot;======== é¡¹ç›®ç¼–è¯‘ç»“æŸ ========&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stage (<span class="string">&quot;éƒ¨ç½²&quot;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                echo <span class="string">&quot;======== å¼€å§‹éƒ¨ç½²é¡¹ç›® ========&quot;</span></span><br><span class="line">                sh <span class="string">&quot;cd ask_front &amp;&amp; npm run dev&quot;</span></span><br><span class="line">                echo <span class="string">&quot;======== é¡¹ç›®æˆåŠŸéƒ¨ç½² ========&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Jenkins</category>
      </categories>
      <tags>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaé¢è¯•é¢˜</title>
    <url>/2020/10/29/Java%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨é¢è¯•ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œè™½ç„¶å¾ˆå¤šéƒ½æ˜¯æœ€æœ€åŸºç¡€çš„é—®é¢˜ï¼Œä½†æ˜¯å¾ˆå¤šé—®é¢˜è¦ä¹ˆæ˜¯æ²¡å›ç­”å‡ºæ¥è¦ä¹ˆæ˜¯è¯´çš„ä¸¢ä¸‰è½å››ã€‚ä½œä¸ºå·¥ä½œä¸¤å¹´çš„æˆ‘æ¥è¯´ï¼Œæ„Ÿè§‰å¾ˆä¸¢äººå•Šã€‚é¡ºä¾¿è®°ä¸‹æ¥ï¼Œç»™åæ¥äººåšä¸ªå‚è€ƒï¼Œæœ€è¿‘è‡ªå·±ä¹Ÿå¤šèŠ±ç‚¹æ—¶é—´æ‰“æ‰“åŸºç¡€ã€‚é¢˜ç›®é¡ºåºä¸åˆ†ç±»å‹å’Œå…ˆåã€‚</p>
<span id="more"></span>

<ol>
<li>byte,char,short,intå„å å‡ ä¸ªå­—èŠ‚ï¼Ÿ</li>
<li>charèƒ½å­˜ä¸‹ä¸€ä¸ªæ±‰å­—å—ï¼Ÿ</li>
<li>æ•°æ®åº“å¸¸åŠ å“ªäº›ç´¢å¼•ï¼Ÿä¸å¸¸ç”¨å“ªäº›ç´¢å¼•ï¼Ÿ</li>
<li>SpringBootå¯åŠ¨ç±»æ³¨è§£éƒ½æœ‰å“ªäº›ï¼Ÿ</li>
<li>SpringBootæ€ä¹ˆåŠ è½½é…ç½®æ–‡ä»¶ï¼Ÿ</li>
<li>å®ç°å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Ÿ</li>
<li>start() æ–¹æ³•å’Œrun() çš„æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ</li>
<li>jdkæœ‰å‡ ç§çº¿ç¨‹æ± ï¼ŸnewSingleThreadPoolæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</li>
<li>ThreadPoolExecurorç±»çš„å‡ ä¸ªæ„é€ å‚æ•°åŠå…¶å«ä¹‰ï¼Ÿæ‹’ç»ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</li>
<li>Stringï¼ŒStringBufferï¼ŒStringBuilderçš„å¼‚åŒï¼Ÿ</li>
<li>Stringç±»ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ</li>
<li>MySQLæœ‰å“ªäº›ç±»å‹çš„ç´¢å¼•ï¼Ÿ</li>
<li>å¤§æ¦‚è¯´ä¸€ä¸‹ä½ å¯¹SpringMVCçš„ç†è§£ï¼Ÿ</li>
</ol>
<hr>
<ol>
<li>Integer a = 123;<br>Integer b = Integer.valueOf(123);</li>
</ol>
<p>Integer a = 300;<br>Integer b = Integer.valueOf(300);<br>ï¼ˆ-128åˆ°127 IntegerCacheï¼‰</p>
<p>è¯´ä¸€è¯´ä»¥ä¸Šä»£ç æ‰§è¡Œçš„ç»†èŠ‚ï¼Ÿè¯´è¯´æ‹†è£…ç®±çš„ç»†èŠ‚ï¼Ÿ</p>
<ol start="2">
<li><p>ä»€ä¹ˆæ—¶å€™éœ€è¦é‡å†™hashCode()æ–¹æ³•å’Œequals()æ–¹æ³•ï¼Ÿä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰hashcodeä¸€å®šç›¸ç­‰å—ï¼Ÿ</p>
</li>
<li><p>è¯´ä¸€è¯´HashMapçš„å®ç°åŸç†ï¼Ÿå½“æˆ‘putä¸€ä¸ªå·²ç»å­˜åœ¨çš„é”®å€¼å¯¹æ—¶æ€ä¹ˆæ›´æ–°å€¼çš„ï¼Ÿ</p>
</li>
<li><p>Springä¸­@Autowiredå’Œ@Resourceçš„åŒºåˆ«ï¼Ÿ</p>
</li>
<li><p>ThreadPoolExecurorç±»çš„å‡ ä¸ªæ„é€ å‚æ•°åŠå…¶å«ä¹‰ï¼Ÿ</p>
</li>
<li><p>MySQLåˆ†é¡µæœ€åçš„é¡µç‰¹åˆ«æ…¢ï¼Œè¯´ä¸€è¯´ä¼˜åŒ–ç­–ç•¥ï¼Ÿ</p>
</li>
<li><p>Javaä¸­çš„é”æœ‰äº†è§£å—ï¼Ÿsynchronizedå’ŒLockçš„åŒºåˆ«ï¼Ÿè¯´ä¸€è¯´synchronizedçš„å®ç°ï¼Ÿ</p>
</li>
</ol>
<hr>
<ol>
<li>Stringç±»æ˜¯å¯å˜çš„å—ï¼Ÿåº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ</li>
<li>ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿ</li>
<li>HashMapçš„å®ç°åŸç†ï¼Ÿæ„é€ æ–¹æ³•åŠå‚æ•°çš„å«ä¹‰ï¼Ÿåˆå§‹å®¹é‡æ˜¯å¤šå¤§ï¼Ÿæ‰©å®¹ç­–ç•¥ï¼Ÿ</li>
<li>æœ‰äº†è§£è¿‡B+æ ‘å—ï¼Ÿ</li>
<li>è¯´ä¸€è¯´ä½ å¯¹IOCå’ŒAOPçš„ç†è§£ï¼Ÿ</li>
<li>è¯´ä¸€è¯´ä½ å¯¹åå°„ä»¥åŠåŠ¨æ€ä»£ç†çš„ç†è§£ï¼Ÿ</li>
<li>å¦‚ä½•å®ç°è¿›ç¨‹é—´é€šä¿¡ï¼Ÿ</li>
<li>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ</li>
<li>ä¸€æ¬¡Httpè¯·æ±‚çš„è¿‡ç¨‹ï¼ˆosiä¸ƒå±‚æ¨¡å‹ä»¥åŠä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Ÿä¸¤å°ä¸»æœºæ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼Ÿ</li>
<li>MySQLæœ‰å“ªäº›å­˜å‚¨å¼•æ“ï¼Œéƒ½åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ</li>
</ol>
<hr>
<ol>
<li>æœ‰ç”¨è¿‡dubboã€RabbitMQä¹‹ç±»çš„ä¸­é—´ä»¶å—ï¼Ÿ</li>
<li>Javaä¸­çš„é”æœ‰äº†è§£è¿‡å—ï¼Ÿ</li>
<li>HashSetå¦‚ä½•ä¿è¯æ•°æ®ä¸é‡å¤ï¼Ÿ</li>
<li>è¯´ä¸€è¯´ä½ å¯¹ConcurrentHashMapçš„ç†è§£ï¼Ÿ</li>
<li>concurrentåŒ…ä¸‹é¢æœ‰å“ªäº›å¸¸ç”¨çš„ç±»ï¼Ÿ</li>
<li>ä»€ä¹ˆå«å€¼ä¼ é€’ï¼Ÿä»€ä¹ˆå«å¼•ç”¨ä¼ é€’ï¼ŸJavaå±äºå“ªç§ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
<li>SpringCloudå¾®æœåŠ¡æœ‰äº†è§£å—ï¼Ÿ</li>
<li>æœ‰åšè¿‡LinuxæœåŠ¡å™¨ä¸Šçš„åº”ç”¨éƒ¨ç½²å—ï¼Ÿ</li>
<li>Apache poiå¦‚ä½•è¯»å–ç™¾ä¸‡è§„æ¨¡çš„æ•°æ®ï¼Ÿ</li>
<li>ä½ è§‰å¾—Javaå’Œå…¶ä»–è¯­è¨€æœ€æ˜¾è‘—çš„ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>åœ¨ä½ çš„é¡¹ç›®ç»å†ä¸­æœ‰æ²¡æœ‰å°è±¡ç‰¹åˆ«æ·±åˆ»çš„ç»å†ã€æœ‰æ²¡æœ‰è®©ä½ è§‰å¾—æˆé•¿å¾ˆè¿…é€Ÿçš„ç»å†ã€æœ‰æ²¡æœ‰è®©ä½ æ„Ÿè§‰å¾ˆæœ‰æˆå°±æ„Ÿçš„ç»å†ã€æœ‰æ²¡æœ‰æ›¾ç»ä¸ºé¡¹ç›®çªç ´ç“¶é¢ˆçš„ç»å†ï¼Ÿ</li>
<li>æœ‰ç”¨è¿‡redisç¼“å­˜å—ï¼Ÿ</li>
</ol>
<hr>
<ol>
<li>ä½ æœ‰æ¯”è¾ƒé•¿è¿œçš„èŒä¸šç”Ÿæ¶¯è§„åˆ’å—ï¼Ÿ</li>
<li>å¦‚æœå·¥ä½œéœ€è¦å­¦ä¹ æ¯”å¦‚å°ç¨‹åºå¼€å‘ä¹‹ç±»çš„ï¼Œä½ çš„æ€åº¦æ˜¯ä»€ä¹ˆæ ·ï¼Ÿ</li>
<li>ä½ å¯¹å¾…çš„åŠ ç­çš„æ€åº¦æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li>
</ol>
<hr>
<p>æš‚æ—¶å°±èƒ½æƒ³èµ·è¿™ä¹ˆå¤šäº†â€¦</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹3Sum</title>
    <url>/2019/01/03/LeetCode%E4%B9%8B3Sum/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®å†…å®¹"><a href="#é¢˜ç›®å†…å®¹" class="headerlink" title="é¢˜ç›®å†…å®¹"></a>é¢˜ç›®å†…å®¹</h2><p>è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œä¾‹å¦‚{-1 0 1 2 -1 -4}ï¼Œä»æ•°ç»„ä¸­æ‰¾ä¸‰ä¸ªæ•°ï¼ˆa,b,cï¼‰ï¼Œä½¿å¾—å…¶å’Œ0ï¼Œè¾“å‡ºæ‰€æœ‰çš„ï¼ˆa,b,cï¼‰ç»„åˆã€‚</p>
<p>è¦æ±‚abcä¸èƒ½é‡å¤ï¼Œå¹¶ä¸”a&lt;=b&lt;=cã€‚</p>
<p>ä¾‹ï¼š</p>
<p>S = {-1, 0, 1, 2, -1, -4}ï¼›</p>
<p>è¾“å‡ºï¼š</p>
<p>(-1, 0 ,1)</p>
<p>(-1, -1, 2)</p>
<span id="more"></span>



<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ä¸€çœ‹åˆ°é¢˜ç›®ï¼Œä¸é—®ä»£ç è¡Œæ•°ï¼Œä¸é—®æ—¶é—´å¤æ‚åº¦ï¼Œä¾¿æ’å‡ºä¸‰ä¸ªå¾ªç¯ã€‚ã€‚ä½†æ˜¯å¾ªç¯éå¸¸è€—æ—¶ï¼Œæ˜¾ç„¶ä¸æ˜¯é¢˜ç›®çš„æœ¬æ„ã€‚æƒ³äº†å¥½é•¿æ—¶é—´æ²¡æœ‰ä»€ä¹ˆè¿›å±•ã€‚</p>
<p>å…ˆå°†ç»™å®šæ•°ç»„æ’åºï¼Œç„¶åæŒ‡å®šä¸€ä¸ªæ•°ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾å‡ºä¸¤ä¸ªæ•°å¹¶ä¸”è¿™ä¸¤ä¸ªæ•°çš„å’Œæ˜¯ç›®æ ‡æ•°å€¼çš„ç›¸åæ•°ï¼š<a href="http://www.cnblogs.com/xcr1234/p/5285727.html">ã€LeetCodeã€‘3Sum è§£é¢˜æŠ¥å‘Š</a></p>
<p>åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ç¯‡æ¯”è¾ƒæœ‰æ–°æ„çš„æ–‡ç« ï¼š[<a href="https://www.cnblogs.com/xcr1234/p/5285727.html">3Sum algorithm - éå¸¸å®¹æ˜“ç†è§£çš„å®ç° ï¼ˆjava)</a>] ã€‚</p>
<hr>
<p>æœ€åå‘ç°ç»´åŸºç™¾ç§‘ä¸­å°±æœ‰æ”¶å½•ï¼š<a href="https://zh.wikipedia.org/zh-hans/3SUM">ç»´åŸºç™¾ç§‘â€”3SUM</a> ï¼Œè¿˜æœ‰æ›´ä¸€èˆ¬çš„æƒ…å½¢ N SUMã€‚</p>
<figure class="highlight pascal"><table><tr><td class="code"><pre><span class="line">sort(S);</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">0</span> <span class="keyword">to</span> n-<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">   a = S[i];</span><br><span class="line">   start = i+<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">end</span> = n-<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">while</span> (start &lt; <span class="keyword">end</span>) <span class="keyword">do</span></span><br><span class="line">      b = S[start]</span><br><span class="line">      c = S[<span class="keyword">end</span>];</span><br><span class="line">      <span class="keyword">if</span> (a+b+c == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">         output a, b, c;</span><br><span class="line">         <span class="comment">// Continue search for all triplet combinations summing to zero.</span></span><br><span class="line">          <span class="keyword">end</span> = <span class="keyword">end</span> - <span class="number">1</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (a+b+c &gt; <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">         <span class="keyword">end</span> = <span class="keyword">end</span> - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">         start = start + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>ä¼ªä»£ç è¿˜æŒºå®¹æ˜“ç†è§£çš„ã€‚</p>
<h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><p>å› ä¸ºçŸ¥ä¹ä¸Šæœ‰äººå®£ç§°è¯æ˜äº†å“¥å¾·å·´èµ«çŒœæƒ³çš„åŸå› ï¼Œè¿™ä¸¤å¤©è¿˜ç‰¹æ„äº†è§£äº†ä¸‹çŒœæƒ³è¯æ˜çš„å†å²ï¼Œâ€œ1+2â€ã€â€œ1+3â€ä¹‹ç±»çš„è¯æ˜ï¼Œè™½ç„¶ä¸€ç‚¹ä¹Ÿæ²¡çœ‹æ‡‚ã€‚æ„Ÿè§‰æ•°å­¦çœŸçš„å¾ˆæœ‰é­…åŠ›ï¼Œä¸¥è°¨æ¸…æ™°çš„é€»è¾‘ï¼Œç²¾å¦™å®Œç¾çš„ç»“è®ºï¼Œè‡ªç„¶ç•Œä¸­çš„ä¸€åˆ‡æ¯æ—¶æ¯åˆ»éƒ½åœ¨éµå¾ªç€å…¶ä¸­çš„è§„å¾‹è¿è¡Œï¼Œæ›´åŠ æ„Ÿæ…¨äºäººç±»çš„æ™ºæ…§ï¼Œéƒ½æ‰¾ä¸åˆ°åˆé€‚çš„èµç¾çš„è¯äº†ã€‚</p>
<p>â€œè¶…è¶Šæ•°â€ã€â€œé»„é‡‘åˆ†å‰²â€ã€â€œå“¥å¾·å·´èµ«çŒœæƒ³â€ã€â€œé»æ›¼çŒœæƒ³â€â€¦</p>
<p>åœä¸‹æ€ç»ªï¼Œå›åˆ°ç°å®ï¼š<strong>å½“ä½ ç†è§£å®ƒçš„æ—¶å€™ä½ è§‰å¾—è¿›å…¥äº†å¤©å ‚ï¼Œå½“ä½ ä¸ç†è§£å®ƒçš„æ—¶å€™ä½ ä»¿ä½›è¿›å…¥äº†åœ°ç‹±</strong>ï¼Œçœ‹å“­äº†â€¦</p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹Reverse Polish Notation</title>
    <url>/2018/11/24/LeetCode%E4%B9%8BReverse-Polish-Notation/</url>
    <content><![CDATA[<h3 id="1-å…³äºReverse-Polish-Notation"><a href="#1-å…³äºReverse-Polish-Notation" class="headerlink" title="1. å…³äºReverse Polish Notation"></a>1. å…³äºReverse Polish Notation</h3><p>æ‘˜è‡ª <a href="https://zh.wikipedia.org/zh-hans/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E7%A4%BA%E6%B3%95">ç»´åŸºç™¾ç§‘</a> çš„è§£é‡Šï¼š</p>
<blockquote>
<p><strong>é€†æ³¢å…°è¡¨ç¤ºæ³•</strong>ï¼ˆ<strong>Reverse Polish notation</strong>ï¼Œ<strong>RPN</strong>ï¼Œæˆ–<strong>é€†æ³¢å…°è®°æ³•</strong>ï¼‰ï¼Œæ˜¯ä¸€ç§æ˜¯ç”±<a href="https://zh.wikipedia.org/wiki/%E6%B3%A2%E5%85%B0" title="æ³¢å…°">æ³¢å…°</a><a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6%E5%AE%B6" title="æ•°å­¦å®¶">æ•°å­¦å®¶</a><a href="https://zh.wikipedia.org/wiki/%E6%89%AC%C2%B7%E6%AD%A6%E5%8D%A1%E8%B0%A2%E7%BB%B4%E5%A5%87" title="æ‰¬Â·æ­¦å¡è°¢ç»´å¥‡">æ‰¬Â·æ­¦å¡è°¢ç»´å¥‡</a>1920å¹´å¼•å…¥çš„æ•°å­¦è¡¨è¾¾å¼æ–¹å¼ï¼Œåœ¨é€†æ³¢å…°è®°æ³•ä¸­ï¼Œæ‰€æœ‰<a href="https://zh.wikipedia.org/w/index.php?title=%E6%93%8D%E4%BD%9C%E7%AC%A6&action=edit&redlink=1" title="æ“ä½œç¬¦ï¼ˆé¡µé¢ä¸å­˜åœ¨ï¼‰">æ“ä½œç¬¦</a>ç½®äº<a href="https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E6%95%B0" title="æ“ä½œæ•°">æ“ä½œæ•°</a>çš„åé¢ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸º<strong>åç¼€è¡¨ç¤ºæ³•</strong>ã€‚é€†æ³¢å…°è®°æ³•ä¸éœ€è¦æ‹¬å·æ¥æ ‡è¯†æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ã€‚</p>
</blockquote>
<span id="more"></span>



<h3 id="2-é¢˜ç›®å†…å®¹"><a href="#2-é¢˜ç›®å†…å®¹" class="headerlink" title="2. é¢˜ç›®å†…å®¹"></a>2. é¢˜ç›®å†…å®¹</h3><p>Evaluate the value of an arithmetic expression in <a href="http://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse Polish Notation</a>.</p>
<p>Valid operators are+,-,*,/. Each operand may be an integer or another expression.<br>Some examples:</p>
<p> [â€œ2â€, â€œ1â€, â€œ+â€, â€œ3â€, â€œ*â€] -&gt; ((2 + 1) * 3) -&gt; 9<br> [â€œ4â€, â€œ13â€, â€œ5â€, â€œ/â€œ, â€œ+â€] -&gt; (4 + (13 / 5)) -&gt; 6</p>
<h3 id="3-è§£é¢˜æ€è·¯"><a href="#3-è§£é¢˜æ€è·¯" class="headerlink" title="3. è§£é¢˜æ€è·¯"></a>3. è§£é¢˜æ€è·¯</h3><p>å¯¹äºä¸€ä¸ªåˆæ³•çš„å­—ç¬¦æ•°ç»„ï¼Œä¾æ¬¡æ‰«æè¯¥å­—ç¬¦æ•°ç»„ï¼š</p>
<ol>
<li> å¦‚æœè¯¥å­—ç¬¦æ˜¯â€+â€,â€-â€œ,â€*â€,â€/â€œä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œåˆ™å°†å…¶æ”¾å…¥æ ˆä¸­ï¼›</li>
<li> å¦‚æœè¯¥å­—ç¬¦æ˜¯æ“ä½œç¬¦ï¼Œåˆ™ä»æ ˆä¸­å–å‡ºä¸¤ä¸ªæ“ä½œæ•°æŒ‰ç…§é¡ºåºè¿›è¡Œè¿ç®—ï¼›</li>
<li> ç›´åˆ°æ‰«æå®Œæ¯•ï¼Œå–å‡ºæ ˆä¸­çš„æœ€åä¸€ä¸ªæ•°ï¼Œå³ä¸ºç»“æœã€‚</li>
</ol>
<h3 id="4-ä»£ç å®ç°"><a href="#4-ä»£ç å®ç°" class="headerlink" title="4. ä»£ç å®ç°"></a>4. ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; operators = <span class="keyword">new</span> ArrayList&lt;String&gt;() &#123;&#123;</span><br><span class="line">        add(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        add(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        add(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        add(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    &#125;&#125;;</span><br><span class="line">    Stack&lt;Integer&gt; tempValue = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> number1;</span><br><span class="line">    <span class="keyword">int</span> number2;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String token : tokens) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!operators.contains(token)) &#123;</span><br><span class="line">            tempValue.push((Integer.valueOf(token)));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            number1 = tempValue.pop();</span><br><span class="line">            number2 = tempValue.pop();</span><br><span class="line">            <span class="keyword">switch</span> (token) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                    result = number2 + number1;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                    result = number2 - number1;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                    result = number2 * number1;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                    result = number2 / number1;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            tempValue.push(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tempValue.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹äºŒå‰æ ‘éé€’å½’åç»­éå†</title>
    <url>/2018/11/17/LeetCode%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%A0%91%E9%9D%9E%E9%80%92%E5%BD%92%E5%90%8E%E7%BB%AD%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<p>å‘¨æœ«çªç„¶é™æ¸©ï¼Œå“ªå„¿ä¹Ÿå»ä¸äº†ï¼Œä¸å¦‚åœ¨å®¶åˆ·é¢˜ã€‚</p>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Given a binary tree, return the <em>postorder</em> traversal of its nodesâ€™ values.</p>
<p>For example:<br>Given binary tree{1,#,2,3},</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line"> /</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>return[3,2,1].</p>
<p><strong>Note:</strong> Recursive solution is trivial, could you do it iterativelyï¼Ÿ</p>
<p><strong>ä½¿ç”¨éé€’å½’æ–¹æ³•ååºéå†äºŒå‰æ ‘ã€‚</strong></p>
<span id="more"></span>



<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>äºŒå‰æ ‘ååºéå†å°±æ˜¯å¯¹æ¯ä¸ªèŠ‚ç‚¹æŒ‰ç…§å·¦ã€å³ã€ä¸­çš„é¡ºåºè¿›è¡Œéå†ã€‚</p>
<p>è¯¦ç»†çš„è§£æå‚è§ï¼š<a href="https://www.jianshu.com/p/456af5480cee">äºŒå‰æ ‘éå†(å…ˆåºã€ä¸­åºã€ååº)</a> ï¼Œè®²å¾—éå¸¸è¯¦ç»†æ˜“æ‡‚ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.postorder.raversal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ1:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">postorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        TreeNode pointer = root;</span><br><span class="line">        TreeNode lastVisit = root;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() || pointer != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (pointer != <span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(pointer);</span><br><span class="line">                pointer = pointer.left;</span><br><span class="line">            &#125;</span><br><span class="line">            pointer = stack.peek();</span><br><span class="line">            <span class="keyword">if</span> (pointer.right == <span class="keyword">null</span> || pointer.right == lastVisit) &#123;</span><br><span class="line">                list.add(pointer.val);</span><br><span class="line">                lastVisit = pointer;</span><br><span class="line">                stack.pop();</span><br><span class="line">                pointer = <span class="keyword">null</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pointer = pointer.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>æ˜¯æ—¶å€™å¥½å¥½é‡ä¿®ä¸€ä¸‹æ•°æ®ç»“æ„äº†ã€‚</p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹æ°´ä»™èŠ±æ•°</title>
    <url>/2018/11/11/LeetCode%E4%B9%8B%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/</url>
    <content><![CDATA[<h3 id="1-æ°´ä»™èŠ±æ•°"><a href="#1-æ°´ä»™èŠ±æ•°" class="headerlink" title="1. æ°´ä»™èŠ±æ•°"></a>1. æ°´ä»™èŠ±æ•°</h3><p>ä»¥ä¸‹æ˜¯æ‘˜è‡ª <a href="https://zh.wikipedia.org/zh-hans/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0">ç»´åŸºç™¾ç§‘</a> ä¸­çš„é‡Šä¹‰ï¼š</p>
<blockquote>
<p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E8%AE%BA" title="æ•°è®º">æ•°è®º</a>ä¸­ï¼Œ**<a href="https://zh.wikipedia.org/wiki/%E6%B0%B4%E4%BB%99%E8%8A%B1" title="æ°´ä»™èŠ±">æ°´ä»™èŠ±</a>æ•°<strong>ï¼ˆ</strong>Narcissistic number<strong>ï¼‰<sup><a href="https://zh.wikipedia.org/zh-hans/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0#cite_note-mw-1">[1]</a></sup><sup><a href="https://zh.wikipedia.org/zh-hans/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0#cite_note-moore-2">[2]</a></sup>ï¼Œä¹Ÿè¢«ç§°ä¸º</strong>è¶…å®Œå…¨æ•°å­—ä¸å˜æ•°<strong>ï¼ˆ</strong>pluperfect digital invariant, PPDI<strong>ï¼‰<sup><a href="https://zh.wikipedia.org/zh-hans/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0#cite_note-3">[3]</a></sup>ã€</strong><a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E6%88%80" title="è‡ªæ‹">è‡ªæ‹</a>æ•°<strong>ã€</strong>è‡ªå¹‚æ•°<strong>ã€</strong><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%A7%86%E6%96%AF%E5%A3%AF" title="é˜¿å§†æ–¯å£®">é˜¿å§†æ–¯å£®</a>æ•°<strong>æˆ–</strong>é˜¿å§†æ–¯ç‰¹æœ—æ•°<strong>ï¼ˆ</strong>Armstrong number<strong>ï¼‰<sup><a href="https://zh.wikipedia.org/zh-hans/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0#cite_note-4">[4]</a></sup> ï¼Œç”¨æ¥æè¿°ä¸€ä¸ª</strong>N<strong>ä½éè´Ÿæ•´æ•°ï¼Œå…¶å„ä½æ•°å­—çš„</strong>N**æ¬¡æ–¹å’Œç­‰äºè¯¥æ•°æœ¬èº«ã€‚</p>
</blockquote>
<p>è¿™é‡Œå®šä¹‰çš„N=3ã€‚</p>
<span id="more"></span>



<h3 id="2-é—®é¢˜æè¿°"><a href="#2-é—®é¢˜æè¿°" class="headerlink" title="2. é—®é¢˜æè¿°"></a>2. é—®é¢˜æè¿°</h3><p>æ˜¥å¤©æ˜¯é²œèŠ±çš„å­£èŠ‚ï¼Œæ°´ä»™èŠ±å°±æ˜¯å…¶ä¸­æœ€è¿·äººçš„ä»£è¡¨ï¼Œæ•°å­¦ä¸Šæœ‰ä¸ªæ°´ä»™èŠ±æ•°ï¼Œä»–æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š â€œæ°´ä»™èŠ±æ•°â€æ˜¯æŒ‡ä¸€ä¸ªä¸‰ä½æ•°ï¼Œå®ƒçš„å„ä½æ•°å­—çš„ç«‹æ–¹å’Œç­‰äºå…¶æœ¬èº«ï¼Œæ¯”å¦‚ï¼š153=1^3+5^3+3^3ã€‚ ç°åœ¨è¦æ±‚è¾“å‡ºæ‰€æœ‰åœ¨må’ŒnèŒƒå›´å†…çš„æ°´ä»™èŠ±æ•°ã€‚</p>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•å®ä¾‹ï¼Œè¦æ±‚è¾“å‡ºæ‰€æœ‰åœ¨ç»™å®šèŒƒå›´å†…çš„æ°´ä»™èŠ±æ•°ï¼Œå°±æ˜¯è¯´ï¼Œè¾“å‡ºçš„æ°´ä»™èŠ±æ•°å¿…é¡»å¤§äºç­‰äºm,å¹¶ä¸”å°äºç­‰äºnï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™è¦æ±‚ä»å°åˆ°å¤§æ’åˆ—åœ¨ä¸€è¡Œå†…è¾“å‡ºï¼Œä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€;<br>å¦‚æœç»™å®šçš„èŒƒå›´å†…ä¸å­˜åœ¨æ°´ä»™èŠ±æ•°ï¼Œåˆ™è¾“å‡ºno;<br>æ¯ä¸ªæµ‹è¯•å®ä¾‹çš„è¾“å‡ºå ä¸€è¡Œã€‚</p>
<p>è¾“å…¥ï¼š<br>100 120<br>300 380</p>
<p>è¾“å‡ºï¼š<br>no<br>370 371</p>
<h3 id="3-é—®é¢˜åˆ†æ"><a href="#3-é—®é¢˜åˆ†æ" class="headerlink" title="3. é—®é¢˜åˆ†æ"></a>3. é—®é¢˜åˆ†æ</h3><p>æˆ‘çš„è§£å†³æ€è·¯ï¼šå…ˆå°†ç»™å‡ºçš„æ•°å­—æŒ‰ç…§ä¸ªä½åä½ç™¾ä½çš„é¡ºåºæ‹†è§£ï¼Œç„¶åè®¡ç®—å„æ•°ä½ä¸‰æ¬¡æ–¹ä¹‹å’Œï¼Œå†å’ŒåŸæ•°è¿›è¡Œæ¯”è¾ƒæ¯”è¾ƒã€‚æ€è·¯æ¯”è¾ƒç®€å•ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.odd.number;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/3 ä¸‹åˆ12:58</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getNumbers</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; comps = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">double</span> num;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= end; i++) &#123;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">            comps.clear();</span><br><span class="line">            comps = getNumberComponent(i);</span><br><span class="line">            <span class="keyword">for</span> (Integer comp : comps) &#123;</span><br><span class="line">                num += Math.pow(comp, <span class="number">3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num == i) &#123;</span><br><span class="line">                result.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getNumberComponent</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> base = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> comp;</span><br><span class="line">        <span class="keyword">int</span> lastComp;</span><br><span class="line">        List&lt;Integer&gt; components = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (number % (base / <span class="number">10</span>) != number) &#123;</span><br><span class="line">            <span class="keyword">int</span> power = <span class="number">0</span>;</span><br><span class="line">            lastComp = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Integer index : components) &#123;</span><br><span class="line">                lastComp += index * Math.pow(<span class="number">10</span>, power);</span><br><span class="line">                power += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            comp = ((number - lastComp) % base) / (base / <span class="number">10</span>);</span><br><span class="line">            components.add(comp);</span><br><span class="line">            base *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> components;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result;</span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (input.hasNextLine()) &#123;</span><br><span class="line">            String str = input.nextLine();</span><br><span class="line">            String[] numbers = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> start = Integer.valueOf(numbers[i]);</span><br><span class="line">                <span class="keyword">int</span> end = Integer.valueOf(numbers[i + <span class="number">1</span>]);</span><br><span class="line">                result = getNumbers(start, end);</span><br><span class="line">                <span class="keyword">if</span> (result.isEmpty()) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">for</span> (Integer aResult : result) &#123;</span><br><span class="line">                        System.out.print(aResult + <span class="string">&quot; &quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»–å±±ä¹‹çŸ³"><a href="#ä»–å±±ä¹‹çŸ³" class="headerlink" title="ä»–å±±ä¹‹çŸ³"></a>ä»–å±±ä¹‹çŸ³</h3><p>è²Œä¼¼åœ¨è¯„è®ºåŒºé‡Œçœ‹åˆ°äº†æœ‰ç”¨pythonè§£å†³çš„ï¼š</p>
<p><img src="https://images2.imgbox.com/be/68/HnUhQ8il_o.png" alt="å›¾ç‰‡"></p>
<p>æ²¡å¤ªçœ‹æ‡‚ã€‚</p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹é“¾è¡¨æ’å…¥æ’åº</title>
    <url>/2018/11/16/LeetCode%E4%B9%8B%E9%93%BE%E8%A1%A8%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p><a href="https://www.nowcoder.com/practice/152bc6c5b14149e49bf5d8c46f53152b?tpId=46&tqId=29034&tPage=1&rp=1&ru=/ta/leetcode&qru=/ta/leetcode/question-ranking">é“¾è¡¨æ’å…¥æ’åº</a> æ˜¯ <a href="https://www.nowcoder.com/">ç‰›å®¢ç½‘</a> ä¸ŠLeetCodeåœ¨çº¿ç¼–ç¨‹çš„ä¸€é“é¢˜ã€‚</p>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Sort a linked list using insertion sort.</p>
<p>ä½¿ç”¨æ’å…¥æ’åºå¯¹é“¾è¡¨æ’åºï¼Œæ­¤å¤„ä¸ºå•é“¾è¡¨ã€‚</p>
<span id="more"></span>



<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p><strong>æ’å…¥æ’åº</strong>å°±æ˜¯ä¾æ¬¡å°†æœªæ’åºéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°å·²æ’åºéƒ¨åˆ†åˆé€‚çš„ä½ç½®ï¼Œä½¿å¾—å·²æ’åºéƒ¨åˆ†ä»ç„¶æœ‰åºã€‚</p>
<p>åˆ—è¡¨å¯ä»¥ç›´æ¥æ ¹æ®ä½ç½®ç´¢å¼•å…ƒç´ ï¼Œä½†æ˜¯é“¾è¡¨ä¸å¯ä»¥ç›´æ¥å–å¾—æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</p>
<p>æ ¹æ®æ’å…¥æ’åºçš„æ€è·¯ï¼šå°†æ•´ä¸ªé“¾è¡¨æŒ‰ç…§å·²æ’åºå’Œæœªæ’åºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæœªæ’åºéƒ¨åˆ†çš„é¦–ä¸ªå…ƒç´ å³ä¸ºå°†è¦è¢«æ’åºçš„å…ƒç´ ï¼Œé—®é¢˜å˜ä¸ºå°†ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­ä½¿å¾—è¯¥é“¾è¡¨ä»ç„¶æœ‰åºã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯åˆé€‚ä½ç½®åœ¨æœ‰åºé“¾è¡¨çš„éæœ«å°¾ï¼Œå¦ä¸€ç§æ˜¯åœ¨æœ‰åºé“¾è¡¨çš„æœ«å°¾ï¼Œç„¶åå…¶ä»–çš„é—®é¢˜å°±æ˜¯æ³¨æ„æ’å…¥æ—¶çš„èµ‹å€¼é¡ºåºã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">insertionSortList1</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode root = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode temp = root;</span><br><span class="line">        <span class="keyword">while</span> (temp.next != <span class="keyword">null</span> &amp;&amp; head.val &gt;= temp.next.val)</span><br><span class="line">            temp = temp.next;</span><br><span class="line">        <span class="keyword">if</span> (temp.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            temp.next = head;</span><br><span class="line">            head = head.next;</span><br><span class="line">            temp.next.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ListNode temp2 = temp.next;</span><br><span class="line">            temp.next = head;</span><br><span class="line">            head = head.next;</span><br><span class="line">            temp.next.next = temp2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="http://www.cnblogs.com/tonyluis/p/4579295.html">http://www.cnblogs.com/tonyluis/p/4579295.html</a></p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹äºŒå‰æ ‘éé€’å½’å‰åºéå†</title>
    <url>/2018/11/17/LeetCode%E5%AD%90%E4%BA%8C%E5%8F%89%E6%A0%91%E9%9D%9E%E9%80%92%E5%BD%92%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<h3 id="é—®é¢˜æè¿°ï¼š"><a href="#é—®é¢˜æè¿°ï¼š" class="headerlink" title="é—®é¢˜æè¿°ï¼š"></a>é—®é¢˜æè¿°ï¼š</h3><p>Given a binary tree, return the <em>preorder</em> traversal of its nodesâ€™ values.</p>
<p>For example:<br>Given binary tree{1,#,2,3},</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line"> /</span><br><span class="line">3</span><br></pre></td></tr></table></figure>



<p>return[1,2,3].</p>
<p><strong>Note:</strong> Recursive solution is trivial, could you do it iteratively?</p>
<p><strong>ä½¿ç”¨éé€’å½’çš„æ–¹æ³•å‰åºéå†äºŒå‰æ ‘ã€‚</strong></p>
<span id="more"></span>



<h3 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>å‰åºéå†å°±æ˜¯æŒ‰ç…§ä¸­ã€å·¦ã€å³çš„é¡ºåºå¯¹äºŒå‰æ ‘è¿›è¡Œéå†ã€‚</p>
<p>æ€è·¯å¾ˆç®€å•ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸æ–­éå†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æœ‰å³å­æ ‘çš„è¯ï¼Œå°†å…¶æ”¾å…¥æ ˆä¸­ä»¥ä¾¿åæœŸéå†å…¶å³å­æ ‘ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™å–å‡ºæ ˆé¡¶å…ƒç´ æŒ‰ç…§åŒæ ·çš„æ–¹å¼éå†å…¶å³å­æ ‘ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.postorder.raversal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ3:16</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PreOrderSolution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        TreeNode pointer = root;</span><br><span class="line">        <span class="keyword">while</span> (pointer != <span class="keyword">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (pointer != <span class="keyword">null</span>) &#123;</span><br><span class="line">                list.add(pointer.val);</span><br><span class="line">                <span class="keyword">if</span> (pointer.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    stack.push(pointer);</span><br><span class="line">                &#125;</span><br><span class="line">                pointer = pointer.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pointer = stack.pop();</span><br><span class="line">            pointer = pointer.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ç‰›å®¢ç½‘åšå¾—è¿˜ä¸é”™ï¼Œå°±æ˜¯ç°åœ¨è¿˜æ˜¯åªæ”¯æŒC++å’ŒJavaã€‚</p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCodeä¹‹å•é“¾è¡¨é‡æ’åº</title>
    <url>/2018/11/17/LeetCode%E5%AD%90%E5%8D%95%E9%93%BE%E8%A1%A8%E9%87%8D%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>Given a singly linked list <em>L</em>: <em>L</em> 0â†’<em>L</em> 1â†’â€¦â†’<em>L</em> <em>n</em>-1â†’<em>L</em> n,<br>reorder it to: <em>L</em> 0â†’<em>L</em> <em>n</em> â†’<em>L</em> 1â†’<em>L</em> <em>n</em>-1â†’<em>L</em> 2â†’<em>L</em> <em>n</em>-2â†’â€¦</p>
<p>You must do this in-place without altering the nodesâ€™ values.</p>
<p>For example,<br>Given{1,2,3,4}, reorder it to{1,4,2,3}.</p>
<span id="more"></span>



<h3 id="é¢˜ç›®è¦æ±‚"><a href="#é¢˜ç›®è¦æ±‚" class="headerlink" title="é¢˜ç›®è¦æ±‚"></a>é¢˜ç›®è¦æ±‚</h3><ul>
<li><p>æ—¶é—´é™åˆ¶ï¼š1ç§’</p>
</li>
<li><p>ç©ºé—´é™åˆ¶ï¼š32768K</p>
</li>
</ul>
<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>ä¸¤ä¸ªæ¸¸æ ‡ï¼šä¸€ä¸ªç”¨æ¥æŒ‡å‘ä¸‹ä¸€æ¬¡å°†è¦æ’å…¥å…ƒç´ çš„ä½ç½®ï¼Œå¦ä¸€ä¸ªç”¨æ¥éå†é“¾è¡¨ã€‚ä»æ ¹ç»“ç‚¹å¼€å§‹éå†ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„nextèŠ‚ç‚¹ä¸ä¸ºç©ºå¹¶ä¸”nextçš„nextèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å–æœ€åä¸€ä¸ªèŠ‚ç‚¹æ’å…¥åˆ°å½“å‰èŠ‚ç‚¹ä¹‹åï¼Œæ¸¸æ ‡ä¸€è·³ä¸¤ä¸ªä½ç½®ã€‚ç›´åˆ°æ¸¸æ ‡ä¸€èŠ‚ç‚¹çš„nextèŠ‚ç‚¹ä¸ºç©ºæˆ–è€…nextçš„nextèŠ‚ç‚¹ä¸ºç©ºã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.reorder.list;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sort.linkedlist.ListNode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ4:01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (head.next == <span class="keyword">null</span> || head.next.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode pt = head;</span><br><span class="line">        ListNode index = head;</span><br><span class="line">        ListNode preIndex = head;</span><br><span class="line">        <span class="keyword">while</span> (pt.next != <span class="keyword">null</span> &amp;&amp; pt.next.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (index.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">                preIndex = index;</span><br><span class="line">                index = index.next;</span><br><span class="line">            &#125;</span><br><span class="line">            preIndex.next = <span class="keyword">null</span>;</span><br><span class="line">            index.next = pt.next;</span><br><span class="line">            pt.next = index;</span><br><span class="line">            pt = pt.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è¿™ç§æ–¹æ³•å¯è¡Œï¼Œä½†æ˜¯æ¯æ’åºä¸€ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦éå†ä¸€æ¬¡é“¾è¡¨ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹å›¾ï¼Œè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œå ç”¨å†…å­˜å·²ç» <strong><font color="red">è¶…è¿‡ç©ºé—´é™åˆ¶</font></strong> äº†ã€‚</p>
<p><img src="https://image.youyou-2608.com/blog/leetcode1.png" alt="é“¾è¡¨é‡æ’åº"></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>çœ‹äº†ä¸€ä¸‹ç½‘ä¸Šç»™å‡ºçš„æ–¹æ¡ˆï¼Œå‡ ä¹éƒ½æ˜¯ä¸€æ ·çš„ï¼š</p>
<p>è¿™é“é“¾è¡¨é‡æ’åºé—®é¢˜å¯ä»¥æ‹†åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªå°é—®é¢˜ï¼š</p>
<ol>
<li><p>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ¥æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå¹¶å°†é“¾è¡¨ä»ä¸­ç‚¹å¤„æ–­å¼€ï¼Œå½¢æˆä¸¤ä¸ªç‹¬ç«‹çš„é“¾è¡¨ã€‚</p>
</li>
<li><p>å°†ç¬¬äºŒä¸ªé“¾ç¿»è½¬ã€‚</p>
</li>
<li><p>å°†ç¬¬äºŒä¸ªé“¾è¡¨çš„å…ƒç´ é—´éš”åœ°æ’å…¥ç¬¬ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚</p>
</li>
</ol>
<p>éƒ½æ˜¯å°†é“¾è¡¨æ‹†æˆä¸¤ä¸ªç‹¬ç«‹çš„é“¾è¡¨è¿›è¡Œé‡æ’åºã€‚</p>
<p>å‰½çªƒæ¥çš„ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;è¿™é“é“¾è¡¨é‡æ’åºé—®é¢˜å¯ä»¥æ‹†åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªå°é—®é¢˜ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1. ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ¥æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå¹¶å°†é“¾è¡¨ä»ä¸­ç‚¹å¤„æ–­å¼€ï¼Œå½¢æˆä¸¤ä¸ªç‹¬ç«‹çš„é“¾è¡¨ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2. å°†ç¬¬äºŒä¸ªé“¾ç¿»è½¬ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3. å°†ç¬¬äºŒä¸ªé“¾è¡¨çš„å…ƒç´ é—´éš”åœ°æ’å…¥ç¬¬ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!head || !head-&gt;next || !head-&gt;next-&gt;next) <span class="keyword">return</span>;</span><br><span class="line">        ListNode *fast = head;</span><br><span class="line">        ListNode *slow = head;</span><br><span class="line">        <span class="keyword">while</span> (fast-&gt;next &amp;&amp; fast-&gt;next-&gt;next) &#123;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">            fast = fast-&gt;next-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *mid = slow-&gt;next;</span><br><span class="line">        slow-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        ListNode *last = mid;</span><br><span class="line">        ListNode *pre = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span> (last) &#123;</span><br><span class="line">            ListNode *next = last-&gt;next;</span><br><span class="line">            last-&gt;next = pre;</span><br><span class="line">            pre = last;</span><br><span class="line">            last = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (head &amp;&amp; pre) &#123;</span><br><span class="line">            ListNode *next = head-&gt;next;</span><br><span class="line">            head-&gt;next = pre;</span><br><span class="line">            pre = pre-&gt;next;</span><br><span class="line">            head-&gt;next-&gt;next = next;</span><br><span class="line">            head = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>æ—¶é—´ç©ºé—´ä½¿ç”¨éƒ½å¾ˆå°‘ï¼Œæ€§èƒ½é—®é¢˜æ²¡äº†ã€‚</p>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>MacBook Pro 2020æŒ‡çº¹æ— ååº”</title>
    <url>/2021/05/09/MacBook-Pro-2020%E6%8C%87%E7%BA%B9%E6%97%A0%E5%8F%8D%E5%BA%94/</url>
    <content><![CDATA[<blockquote>
<p>è®°å¾—ä¸Šä¸ªæœˆé‡è£…äº†ä¸€æ¬¡ç³»ç»Ÿï¼Œç„¶åæŒ‡çº¹éƒ½è¢«æ¸…æ‰äº†ï¼Œé‡è£…å®Œç³»ç»Ÿä¹‹åå‘ç°æ— æ³•å½•å…¥æŒ‡çº¹ï¼ŒæŒ‰å‹æŒ‡çº¹æ²¡æœ‰ååº”ã€‚</p>
</blockquote>
<br>

<p>æ˜¨å¤©æ™šä¸Šå‘ç‰ˆï¼Œæœ‰ä¸€ä¸ªé…ç½®æ²¡æœ‰æäº¤ï¼Œå¯¼è‡´ä»Šå¤©æ—©ä¸Šâ˜€ï¸ç”Ÿäº§éƒ¨ç½²å¤±è´¥âš ï¸äº†ï¼Œä¸ƒç‚¹ä¸åˆ°â°å°±å»å…¬å¸ğŸ™å¤„ç†ã€‚æƒ³è¶ç€ä»Šå¤©åˆšå¥½å‘¨æœ«æœ‰æ—¶é—´ï¼Œå»å”®åï£¿çœ‹çœ‹ã€‚å¯æ˜¯å”®åäººğŸš¶å¤ªå¤šäº†ï¼Œç¬”è®°æœ¬ğŸ’»çš„å·éƒ½æ’å®Œäº†ï¼Œåªèƒ½é¢„çº¦ä¸‹å‘¨å…­ã€‚</p>
<p>å›æ¥ä¹‹åæ— æ„ä¹‹é—´æœäº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®ä¹‹å‰å°±æœ‰æœè¿‡å¾ˆå¤šå¸–å­ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯ã€‚ç¬¬ä¸€ä¸ªæœç´¢ç»“æœå¾ˆç†Ÿæ‚‰ï¼š<a href="https://discussionschinese.apple.com/thread/251698511">Macbook Pro 2020 æŒ‡çº¹è¯†åˆ«å¤±çµ æ— æ³•ä½¿ç”¨</a> ï¼Œå› ä¸ºä»¥å‰å°±çœ‹è¿‡ï¼Œä¸æŠ±å¸Œæœ›çš„ç‚¹è¿›å»çœ‹äº†ä¸€ä¸‹ï¼Œç»“æœå‘ç°ä¹‹å‰æ²¡ä»”ç»†çœ‹æè¿°ï¼š<strong>æ’ä¸Šç”µæº å¤§éƒ¨åˆ†æ—¶å€™å°±æ˜¯ä¸çµæ• å¼€å±è§£é”ï¼Œå¡«å……å¯†ç ç­‰éƒ½æ˜¯ï¼Œä¸æ’ç”µæºæ­£å¸¸ã€‚</strong> å›æƒ³äº†ä¸€ä¸‹ï¼Œå¥½åƒæˆ‘ç¡®å®ä¸€ç›´æ’ç€ç”µåœ¨ç”¨ï¼Œæˆ‘æŠŠç”µæºæ‹”æ‰ä¸€è¯•ï¼Œç«Ÿç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>ä½†æ˜¯æ¯æ¬¡ç”¨æŒ‡çº¹éƒ½è¦æ‹”æ‰ç”µæºå¾ˆéº»çƒ¦ï¼Œå¾€ä¸‹çœ‹åˆ°ä¸€ä¸ªæœ‰ç”¨ç­”æ¡ˆâ­ï¸ï¼š</p>
<blockquote>
<p>æˆ‘ä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ ç ”ç©¶äº†åŠå¤© æ„Ÿè§‰æ˜¯ç”µæºæ²¡æœ‰æ¥åœ°çš„åŸå›  æˆ‘åœ¨æ¥¼ä¸Šæ’ç€å……ç”µå™¨å°±ä¸èƒ½ç”¨æŒ‡çº¹ æ¥¼ä¸‹å°±èƒ½ å¥½æ— è¯­ğŸ˜“ ç„¶åæˆ‘å¶ç„¶é—´å‘ç°æ’ç€ç”µæºç”¨æŒ‡çº¹çš„æ—¶å€™æ‰‹æŒæ‰‹è‡‚å°½é‡æ¥è§¦ç”µè„‘çš„é‡‘å±è¡¨é¢ æŒ‡çº¹ä¹Ÿèƒ½é‡æ–°è¯†åˆ«ğŸ˜‚</p>
</blockquote>
<p><strong>åªè¦ç”¨æŒ‡çº¹çš„æ—¶å€™æ‰‹æŒæ¥è§¦æœºèº«å°±å¯ä»¥æ­£å¸¸è¯†åˆ«ã€‚</strong></p>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac OSä¸‹RIMEè¾“å…¥æ³•çš„é…ç½®</title>
    <url>/2019/11/09/Mac-OS%E4%B8%8BRIME%E8%BE%93%E5%85%A5%E6%B3%95%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>Mac OSä¸‹RIMEè¾“å…¥æ³•é…ç½®</p>
<p>ä¹‹å‰ä¸€ç›´ç”¨çš„æœç‹—è¾“å…¥æ³•ï¼Œä¸å¾—ä¸è¯´ï¼Œæœç‹—è¾“å…¥æ³•ç¡®å®åšå¾—å¾ˆä¸é”™ï¼Œç²¾å‡†å¿«é€Ÿã€‚ä½†æ˜¯æ¯•ç«Ÿæ˜¯å›½äº§è½¯ä»¶ï¼Œè”ç½‘ä¹‹åéšç§æ–¹é¢å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œè¿˜æ²¡å‘å¸ƒåˆ°ç½‘ç»œçš„æ–‡æœ¬å·²ç»æœ‰äººæå‰çŸ¥é“äº†ğŸ’¦ã€‚æœ¬æƒ³ç›´æ¥è®¾ç½®æˆå•æœºç‰ˆä»¥é¿å…è¾“å…¥æ³•ä¸Šä¼ è¾“å…¥è®°å½•ï¼Œä½†æ˜¯è²Œä¼¼é˜²ç«å¢™å’Œæ”¹hostsæ–‡ä»¶å¯¹æœç‹—éƒ½ä¸ç®¡ç”¨ã€‚äºæ˜¯åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼ŒçŸ¥é“äº† <strong>RIMEè¾“å…¥æ³•</strong> ã€‚</p>
<span id="more"></span>

<p>çœ‹åˆ°é…ç½®æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä¹Ÿæ˜¯çŠ¹è±«äº†åŠå¤©æ‰ä¸‹å®šå†³å¿ƒæä¸€ä¸‹çš„ã€‚è¿˜å·® emojiè¡¨æƒ…çš„è¾“å…¥ æ²¡æå®šï¼Œåªå¼„å¥½äº†åŸºç¡€çš„ä¸­æ–‡è¾“å…¥ä»¥åŠè¯åº“çš„æ‰©å±•ï¼Œä»¥åçœŸæ­£æœ‰éœ€è¦äº†å†é…ç½®å§ã€‚</p>
<p>æ¯”è¾ƒå¥½çš„å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><p><a href="https://github.com/rime/squirrel">GitHubä¸»é¡µ</a></p>
</li>
<li><p><a href="http://ju.outofmemory.cn/entry/178796">ç»™ Rime æ·»åŠ ç¬¬ä¸‰æ–¹è¯åº“</a></p>
</li>
<li><p><a href="https://lonelygo.github.io/2015-01-28-Rime_Input/">Rimeè¾“å…¥æ³•â€”Squirrelè¯åº“æ·»åŠ åŠé…ç½®</a> ï¼ˆè™½ç„¶æœ‰ç‚¹æ—§äº†ï¼Œä½†æ˜¯å¾ˆè¯¦ç»†ï¼Œæ¨èï¼‰</p>
</li>
</ul>
<p>å®‰è£…å®Œä½“éªŒäº†ä¸¤ä¸ªå°æ—¶ï¼Œè¾“å…¥ä½“éªŒå¾ˆä¸é”™ï¼Œæ²¡é‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œä»¥ååº”è¯¥ä¼šä¸€ç›´ç”¨ä¸‹å»ã€‚</p>
<p>å„ç§è½¯ä»¶è¿˜æ˜¯å»å›½äº§åŒ–å§ï¼Œå¯¹å¾…å›½äº§è½¯ä»¶ï¼Œæœ‰æ›¿ä»£åˆ™æ›¿ä»£ï¼Œèƒ½ä¸ç”¨åˆ™ä¸ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>Macç³»ç»Ÿä¸‹æ›´æ”¹MySQLå­—ç¬¦é›†</title>
    <url>/2019/12/31/Mac%E6%9B%B4%E6%94%B9MySQL%E5%AD%97%E7%AC%A6%E9%9B%86/</url>
    <content><![CDATA[<p>è§£å†³æ–¹æ¡ˆï¼š <a href="https://zhuanlan.zhihu.com/p/34655552">Macç¯å¢ƒä¸‹çš„MySQLç¼–ç è®¾ç½®</a></p>
<span id="more"></span>

<br>

<p>æ˜¨å¤©æ™šä¸Šé€ æµ‹è¯•æ•°æ®çš„æ—¶å€™ï¼Œæ— æ„é—´åŠ è¿›å»å‡ æ¡ä¸­æ–‡æ•°æ®ï¼Œç„¶ååœ¨ç»ˆç«¯é‡Œselectå‡ºæ¥ä¹‹åå‘ç°ä¸­æ–‡å…¨éƒ¨å˜æˆé—®å·äº†ã€‚ç„¶åå°±ä¸Šç½‘æœâ€œMacç³»ç»Ÿä¸‹ä¿®æ”¹MySQLå­—ç¬¦é›†â€ï¼Œå¾ˆå¤šæ•™ç¨‹çš„å†…å®¹æ˜¯ï¼š</p>
<ol>
<li><p>å» /etc ç›®å½•ä¸‹æ‰¾æ˜¯å¦æœ‰ my.cnf æ–‡ä»¶ï¼›</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰çš„è¯å» /usr/local/mysql/support-files æ–‡ä»¶å¤¹ä¸‹æ‰¾ my-default.cnf æ–‡ä»¶å¹¶å¤åˆ¶åˆ° /etc/my.cnf ï¼Œåœ¨[client]å’Œ[mysqld]æ ‡ç­¾ä¸‹åŠ ä¸Šï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">default-character-set</span> = <span class="string">utf8</span></span><br><span class="line"></span><br><span class="line"><span class="meta">default-storage-engine</span> = <span class="string">INNODB</span></span><br><span class="line"><span class="meta">character-set-server</span> = <span class="string">utf8</span></span><br><span class="line"><span class="meta">collation-server</span> = <span class="string">utf8_general_ci </span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä½†æ˜¯æˆ‘æœ¬åœ°çš„ /usr/local/mysql/support-files ç›®å½•ä¸‹å¹¶æ²¡æœ‰ .cnf æ–‡ä»¶ï¼Œåæ¥æ‰çŸ¥é“æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ï¼Œæˆ‘æœ¬åœ°è£…çš„ MySQL æ˜¯ 5.7.28 ï¼Œå·²ç»æ²¡æœ‰äº†è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<br>

<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>å…ˆåœ¨ç³»ç»Ÿåå¥½è®¾ç½®é‡Œåœæ‰ MySQL æœåŠ¡ï¼Œç„¶åè‡ªå·±åœ¨ /etc ä¸‹åˆ›å»ºä¸€ä¸ª my.cnf æ–‡ä»¶ï¼Œä¿å­˜ä¹‹åå†é‡å¯ MySQL å³å¯ã€‚</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Example MySQL config file for medium systems. </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># This is for a system with little memory (32M - 64M) where MySQL plays </span></span><br><span class="line"><span class="comment"># an important part, or systems up to 128M where MySQL is used together with </span></span><br><span class="line"><span class="comment"># other programs (such as a web server) </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># MySQL programs look for option files in a set of </span></span><br><span class="line"><span class="comment"># locations which depend on the deployment platform. </span></span><br><span class="line"><span class="comment"># You can copy this option file to one of those </span></span><br><span class="line"><span class="comment"># locations. For information about these locations, see: </span></span><br><span class="line"><span class="comment"># http://dev.mysql.com/doc/mysql/en/option-files.html </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># In this file, you can use all long options that a program supports. </span></span><br><span class="line"><span class="comment"># If you want to know which options a program supports, run the program </span></span><br><span class="line"><span class="comment"># with the &quot;--help&quot; option. </span></span><br><span class="line"><span class="comment"># The following options will be passed to all MySQL clients </span></span><br><span class="line"><span class="attr">[client]</span></span><br><span class="line"><span class="meta">default-character-set</span>=<span class="string">utf8</span></span><br><span class="line"><span class="comment">#password = your_password </span></span><br><span class="line"><span class="attr">port</span> = <span class="string">3306 </span></span><br><span class="line"><span class="attr">socket</span> = <span class="string">/tmp/mysql.sock </span></span><br><span class="line"><span class="comment"># Here follows entries for some specific programs </span></span><br><span class="line"><span class="comment"># The MySQL server </span></span><br><span class="line"><span class="attr">[mysqld]</span></span><br><span class="line"><span class="meta">character-set-server</span>=<span class="string">utf8</span></span><br><span class="line"><span class="attr">init_connect</span>=<span class="string">&#x27;SET NAMES utf8</span></span><br><span class="line"><span class="attr">port</span> = <span class="string">3306 </span></span><br><span class="line"><span class="attr">socket</span> = <span class="string">/tmp/mysql.sock </span></span><br><span class="line"><span class="meta">skip-external-locking</span> <span class="string"></span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="string">16M </span></span><br><span class="line"><span class="attr">max_allowed_packet</span> = <span class="string">1M </span></span><br><span class="line"><span class="attr">table_open_cache</span> = <span class="string">64 </span></span><br><span class="line"><span class="attr">sort_buffer_size</span> = <span class="string">512K </span></span><br><span class="line"><span class="attr">net_buffer_length</span> = <span class="string">8K </span></span><br><span class="line"><span class="attr">read_buffer_size</span> = <span class="string">256K </span></span><br><span class="line"><span class="attr">read_rnd_buffer_size</span> = <span class="string">512K </span></span><br><span class="line"><span class="attr">myisam_sort_buffer_size</span> = <span class="string">8M </span></span><br><span class="line"><span class="meta">character-set-server</span>=<span class="string">utf8 </span></span><br><span class="line"><span class="attr">init_connect</span>=<span class="string">&#x27;SET NAMES utf8&#x27; </span></span><br><span class="line"><span class="comment"># Don&#x27;t listen on a TCP/IP port at all. This can be a security enhancement, </span></span><br><span class="line"><span class="comment"># if all processes that need to connect to mysqld run on the same host. </span></span><br><span class="line"><span class="comment"># All interaction with mysqld must be made via Unix sockets or named pipes. </span></span><br><span class="line"><span class="comment"># Note that using this option without enabling named pipes on Windows </span></span><br><span class="line"><span class="comment"># (via the &quot;enable-named-pipe&quot; option) will render mysqld useless! </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment">#skip-networking</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Replication Master Server (default) </span></span><br><span class="line"><span class="comment"># binary logging is required for replication </span></span><br><span class="line"><span class="meta">log-bin</span>=<span class="string">mysql-bin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># binary logging format - mixed recommended </span></span><br><span class="line"><span class="attr">binlog_format</span>=<span class="string">mixed</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># required unique id between 1 and 2^32 - 1 </span></span><br><span class="line"><span class="comment"># defaults to 1 if master-host is not set </span></span><br><span class="line"><span class="comment"># but will not function as a master if omitted </span></span><br><span class="line"><span class="meta">server-id</span> = <span class="string">1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Replication Slave (comment out master section to use this) </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># To configure this host as a replication slave, you can choose between </span></span><br><span class="line"><span class="comment"># two methods : </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 1) Use the CHANGE MASTER TO command (fully described in our manual) - </span></span><br><span class="line"><span class="comment"># the syntax is: </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># CHANGE MASTER TO MASTER_HOST=&lt;host&gt;, MASTER_PORT=&lt;port&gt;, </span></span><br><span class="line"><span class="comment"># MASTER_USER=&lt;user&gt;, MASTER_PASSWORD=&lt;password&gt; ; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># where you replace &lt;host&gt;, &lt;user&gt;, &lt;password&gt; by quoted strings and </span></span><br><span class="line"><span class="comment"># &lt;port&gt; by the master&#x27;s port number (3306 by default). </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># Example: </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># CHANGE MASTER TO MASTER_HOST=&#x27;125.564.12.1&#x27;, MASTER_PORT=3306, </span></span><br><span class="line"><span class="comment"># MASTER_USER=&#x27;joe&#x27;, MASTER_PASSWORD=&#x27;secret&#x27;; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># OR </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 2) Set the variables below. However, in case you choose this method, then </span></span><br><span class="line"><span class="comment"># start replication for the first time (even unsuccessfully, for example </span></span><br><span class="line"><span class="comment"># if you mistyped the password in master-password and the slave fails to </span></span><br><span class="line"><span class="comment"># connect), the slave will create a master.info file, and any later </span></span><br><span class="line"><span class="comment"># change in this file to the variables&#x27; values below will be ignored and </span></span><br><span class="line"><span class="comment"># overridden by the content of the master.info file, unless you shutdown </span></span><br><span class="line"><span class="comment"># the slave server, delete master.info and restart the slaver server. </span></span><br><span class="line"><span class="comment"># For that reason, you may want to leave the lines below untouched </span></span><br><span class="line"><span class="comment"># (commented) and instead use CHANGE MASTER TO (see above) </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># required unique id between 2 and 2^32 - 1 </span></span><br><span class="line"><span class="comment"># (and different from the master) </span></span><br><span class="line"><span class="comment"># defaults to 2 if master-host is set </span></span><br><span class="line"><span class="comment"># but will not function as a slave if omitted </span></span><br><span class="line"><span class="comment">#server-id = 2 </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># The replication master for this slave - required </span></span><br><span class="line"><span class="comment">#master-host = &lt;hostname&gt; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># The username the slave will use for authentication when connecting </span></span><br><span class="line"><span class="comment"># to the master - required </span></span><br><span class="line"><span class="comment">#master-user = &lt;username&gt; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># The password the slave will authenticate with when connecting to </span></span><br><span class="line"><span class="comment"># the master - required </span></span><br><span class="line"><span class="comment">#master-password = &lt;password&gt; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># The port the master is listening on. </span></span><br><span class="line"><span class="comment"># optional - defaults to 3306 </span></span><br><span class="line"><span class="comment">#master-port = &lt;port&gt; </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># binary logging - not required for slaves, but recommended </span></span><br><span class="line"><span class="comment">#log-bin=mysql-bin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Uncomment the following if you are using InnoDB tables </span></span><br><span class="line"><span class="comment">#innodb_data_home_dir = /usr/local/mysql/data </span></span><br><span class="line"><span class="comment">#innodb_data_file_path = ibdata1:10M:autoextend </span></span><br><span class="line"><span class="comment">#innodb_log_group_home_dir = /usr/local/mysql/data </span></span><br><span class="line"><span class="comment"># You can set .._buffer_pool_size up to 50 - 80 % </span></span><br><span class="line"><span class="comment"># of RAM but beware of setting memory usage too high </span></span><br><span class="line"><span class="comment">#innodb_buffer_pool_size = 16M </span></span><br><span class="line"><span class="comment">#innodb_additional_mem_pool_size = 2M </span></span><br><span class="line"><span class="comment"># Set .._log_file_size to 25 % of buffer pool size </span></span><br><span class="line"><span class="comment">#innodb_log_file_size = 5M </span></span><br><span class="line"><span class="comment">#innodb_log_buffer_size = 8M </span></span><br><span class="line"><span class="comment">#innodb_flush_log_at_trx_commit = 1 </span></span><br><span class="line"><span class="comment">#innodb_lock_wait_timeout = 50</span></span><br><span class="line"></span><br><span class="line"><span class="meta">[mysqldump]</span> <span class="string"></span></span><br><span class="line"><span class="attr">quick</span> <span class="string"></span></span><br><span class="line"><span class="attr">max_allowed_packet</span> = <span class="string">16M</span></span><br><span class="line"></span><br><span class="line"><span class="meta">[mysql]</span> <span class="string"></span></span><br><span class="line"><span class="meta">no-auto-rehash</span> <span class="string"></span></span><br><span class="line"><span class="comment"># Remove the next comment character if you are not familiar with SQL </span></span><br><span class="line"><span class="comment">#safe-updates </span></span><br><span class="line"><span class="meta">default-character-set</span>=<span class="string">utf8</span></span><br><span class="line"></span><br><span class="line"><span class="meta">[myisamchk]</span> <span class="string"></span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="string">20M </span></span><br><span class="line"><span class="attr">sort_buffer_size</span> = <span class="string">20M </span></span><br><span class="line"><span class="attr">read_buffer</span> = <span class="string">2M </span></span><br><span class="line"><span class="attr">write_buffer</span> = <span class="string">2M</span></span><br><span class="line"></span><br><span class="line"><span class="meta">[mysqlhotcopy]</span> <span class="string"></span></span><br><span class="line"><span class="attr">interactive-timeout</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdownè¯­æ³•è¿›é˜¶</title>
    <url>/2020/10/16/Markdown%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6/</url>
    <content><![CDATA[<p>[TOC]</p>
<span id="more"></span>

<h1 id="æ–‡ç« ç›®å½•"><a href="#æ–‡ç« ç›®å½•" class="headerlink" title="æ–‡ç« ç›®å½•"></a>æ–‡ç« ç›®å½•</h1><p>ç”Ÿæˆæ–‡ç« ç›®å½•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[TOC]</span><br></pre></td></tr></table></figure>



<h1 id="å›¾å½¢"><a href="#å›¾å½¢" class="headerlink" title="å›¾å½¢"></a>å›¾å½¢</h1><h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph TB</span><br><span class="line">A[å¼€å§‹]--&gt;B(æ‰“å¼€å†°ç®±é—¨)</span><br><span class="line">B--&gt;C(æ”¾å…¥å¤§è±¡)</span><br><span class="line">C--&gt;D(å…‰ä¸Šå†°ç®±é—¨)</span><br><span class="line">D--&gt;E(ç»“æŸ)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph TB</span><br><span class="line">A[å¼€å§‹]--&gt;B(æ‰“å¼€å†°ç®±é—¨)</span><br><span class="line">B--&gt;C(æ”¾å…¥å¤§è±¡)</span><br><span class="line">C--&gt;D(å…‰ä¸Šå†°ç®±é—¨)</span><br><span class="line">D--&gt;E(ç»“æŸ)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">op1=&gt;operation: Identify objects</span><br><span class="line">op2=&gt;operation: Investigate business process</span><br><span class="line">op3=&gt;operation: Sketch</span><br><span class="line">op4=&gt;operation: Discuss</span><br><span class="line">cond=&gt;condition: Yes or No</span><br><span class="line">op5=&gt;operation: Draw a chart</span><br><span class="line">op6=&gt;operation: Modify</span><br><span class="line">e=&gt;end</span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;cond</span><br><span class="line">cond(yes)-&gt;op5-&gt;e</span><br><span class="line">cond(no)-&gt;op6-&gt;op3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">op1=&gt;operation: Identify objects</span><br><span class="line">op2=&gt;operation: Investigate business process</span><br><span class="line">op3=&gt;operation: Sketch</span><br><span class="line">op4=&gt;operation: Discuss</span><br><span class="line">cond=&gt;condition: Yes or No</span><br><span class="line">op5=&gt;operation: Draw a chart</span><br><span class="line">op6=&gt;operation: Modify</span><br><span class="line">e=&gt;end</span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;cond</span><br><span class="line">cond(yes)-&gt;op5-&gt;e</span><br><span class="line">cond(no)-&gt;op6-&gt;op3</span><br></pre></td></tr></table></figure>



<h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°ç¨‹åº -&gt;&gt; å°ç¨‹åº: wx.login()è·å–code</span><br><span class="line">å°ç¨‹åº -&gt;&gt; æœåŠ¡å™¨: wx.request()å‘é€code</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; å¾®ä¿¡æœåŠ¡å™¨: code + appid + secret</span><br><span class="line">å¾®ä¿¡æœåŠ¡å™¨ -&gt;&gt; æœåŠ¡å™¨: openid</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; æœåŠ¡å™¨: æ ¹æ®openidç¡®å®šç”¨æˆ·å¹¶ç”Ÿæˆtoken</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; å°ç¨‹åº: token</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°ç¨‹åº -&gt;&gt; å°ç¨‹åº: wx.login()è·å–code</span><br><span class="line">å°ç¨‹åº -&gt;&gt; æœåŠ¡å™¨: wx.request()å‘é€code</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; å¾®ä¿¡æœåŠ¡å™¨: code + appid + secret</span><br><span class="line">å¾®ä¿¡æœåŠ¡å™¨ -&gt;&gt; æœåŠ¡å™¨: openid</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; æœåŠ¡å™¨: æ ¹æ®openidç¡®å®šç”¨æˆ·å¹¶ç”Ÿæˆtoken</span><br><span class="line">æœåŠ¡å™¨ -&gt;&gt; å°ç¨‹åº: token</span><br></pre></td></tr></table></figure>

<h1 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[^keyword]:www.xxx.com</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<p>[^1]: some description</p>
<h1 id="å¾…åŠäº‹é¡¹"><a href="#å¾…åŠäº‹é¡¹" class="headerlink" title="å¾…åŠäº‹é¡¹"></a>å¾…åŠäº‹é¡¹</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- []</span><br><span class="line">- [x]</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled="" type="checkbox"> å¾…åŠäº‹é¡¹ä¸€</li>
<li><input disabled="" type="checkbox"> å¾…åŠäº‹é¡¹äºŒ</li>
<li><input checked="" disabled="" type="checkbox"> å·²å®Œæˆä¸€</li>
</ul>
<h1 id="Latexå…¬å¼"><a href="#Latexå…¬å¼" class="headerlink" title="Latexå…¬å¼"></a>Latexå…¬å¼</h1><p>$ è¡¨ç¤ºè¡Œå†…å…¬å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$x^2 + y^2 = 1$</span><br></pre></td></tr></table></figure>

<p>$x^2 + y^2 = 1$</p>
<p>$$ æ•´è¡Œå…¬å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$$ \sum_&#123;i=1&#125;^n a_i = 0 $$</span><br><span class="line">$$ f(x_1, x_x, \dots, x_n) = x_1^2 + x_2^2 + \dots + x_n^2 $$</span><br><span class="line">$$ \sum^&#123;j-1&#125;_&#123;k-0&#125;&#123;\widehat&#123;\gamma&#125;_&#123;kj&#125;&#123;z_k&#125;&#125; $$</span><br><span class="line">$ \sqrt&#123;3x-1&#125;+\sqrt[5]&#123;2y^5-4&#125; $</span><br><span class="line">$$ \cos (2\theta) = \cos^2 \theta - \sin^2 \theta $$</span><br><span class="line">è¾“å‡ºå¸¦æœ‰åˆ†å­åˆ†æ¯çš„åˆ†æ•°çš„è¯­æ³•ä¸º\frac&#123;åˆ†å­&#125;&#123;åˆ†æ¯&#125;ï¼Œä½¿ç”¨å¤§æ‹¬å·æŠŠåˆ†å­ã€åˆ†æ¯éƒ½å›´ä½ã€‚</span><br><span class="line">$$ \lim\limits_&#123;x \to \infty&#125; \exp(-x) = 0 $$</span><br><span class="line">$$ \frac&#123;n!&#125;&#123;k!&#123;n-k&#125;!&#125; = \binom&#123;n&#125;&#123;k&#125; $$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">	\begin&#123;matrix&#125;</span><br><span class="line">    1 &amp; 2 &amp; 3 \\</span><br><span class="line">    4 &amp; 5 &amp; 6 \\</span><br><span class="line">    7 &amp; 8 &amp; 9</span><br><span class="line">    \end&#123;matrix&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>

<p>$$ \sum_{i=1}^n a_i = 0  $$</p>
<p>$$ f(x_1, x_x, \dots, x_n) = x_1^2 + x_2^2 + \dots + x_n^2 $$</p>
<p>$$ \sum^{j-1}<em>{k-0}{\widehat{\gamma}</em>{kj}{z_k}} $$</p>
<p>$\sqrt{3x-1}+\sqrt[5]{2y^5-4}$</p>
<p>$$\cos (2\theta) = \cos^2 \theta - \sin^2 \theta$$</p>
<p>$$ \lim\limits_{x \to \infty} \exp(-x) = 0 $$</p>
<p>$$ \frac{n!}{k!{n-k}!} = \binom{n}{k} $$<br>$$<br>\begin{matrix}<br>1 &amp; 2 &amp; 3 \<br>4 &amp; 5 &amp; 6 \<br>7 &amp; 8 &amp; 9<br>\end{matrix}<br>$$</p>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>MongoDBå…¥é—¨</title>
    <url>/2021/03/16/MongoDB%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h2 id="MongoDBçš„å®‰è£…"><a href="#MongoDBçš„å®‰è£…" class="headerlink" title="MongoDBçš„å®‰è£…"></a>MongoDBçš„å®‰è£…</h2><ul>
<li><p><a href="https://www.mongodb.com/try/download/community">MongoDBå®˜ç½‘ä¸‹è½½åœ°å€</a> ä¸‹è½½å®‰è£…åŒ…å¹¶è§£å‹åˆ°mongo/</p>
</li>
<li><p>åˆ›å»ºmongo/dbç›®å½•å’Œ/mongo/log/mongodb.logæ–‡ä»¶</p>
</li>
<li><p>åˆ›å»ºé…ç½®æ–‡ä»¶mongo/mongodb.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æ•°æ®æ–‡ä»¶å­˜æ”¾ç›®å½•</span><br><span class="line">dbpath=/Users/youyou-2608/Downloads/mongodb/db</span><br><span class="line"># æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•</span><br><span class="line">logpath=/Users/youyou-2608/Downloads/mongodb/log/mongodb.log</span><br><span class="line"># ä»¥è¿½åŠ çš„æ–¹å¼è®°å½•æ—¥å¿—</span><br><span class="line">logappend=true</span><br><span class="line"># é»˜è®¤ç«¯å£27017</span><br><span class="line">port=27017</span><br><span class="line"># å¯¹è®¿é—®ipåœ°å€ä¸åšé™åˆ¶ï¼Œé»˜è®¤ä¸ºæœ¬åœ°åœ°å€</span><br><span class="line">bind_ip=0.0.0.0</span><br><span class="line"># ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯ç”¨ï¼Œå³åœ¨åå°è¿è¡Œ</span><br><span class="line">fork=true</span><br><span class="line"># é»˜è®¤å¼€å¯èº«ä»½è®¤è¯</span><br><span class="line">auth=true</span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<span id="more"></span>

<h2 id="é…ç½®ç¯å¢ƒå˜é‡åŠæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"><a href="#é…ç½®ç¯å¢ƒå˜é‡åŠæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡åŠæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"></a>é…ç½®ç¯å¢ƒå˜é‡åŠæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</h2><p>~/.bash_profileæ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH = mongo/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ sourcce ~/.bash_profile</p>
<p>å¯åŠ¨åŠåœæ­¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¯åŠ¨</span><br><span class="line">mongod -f mongo/mongodb.conf</span><br><span class="line"></span><br><span class="line"># åœæ­¢</span><br><span class="line">kill 9 -pid</span><br><span class="line"></span><br><span class="line">use amdin;</span><br><span class="line">db.shutdownServer();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<p>å…³é—­MongoDBæŠ¥é”™ï¼š</p>
<blockquote>
<p>Error: shutdownServer failed: {</p>
<p>â€‹    â€œokâ€ : 0,</p>
<p>â€‹    â€œerrmsgâ€ : â€œnot authorized on admin to execute command { shutdown: 1.0, lsid: { id: UUID(&quot;4d11f7c3-3b79-458d-b857-2aac4816cd17&quot;) }, $db: &quot;admin&quot; }â€,</p>
<p>â€‹    â€œcodeâ€ : 13,</p>
<p>â€‹    â€œcodeNameâ€ : â€œUnauthorizedâ€</p>
<p>}</p>
</blockquote>
<p>å› ä¸ºæ²¡æœ‰ hostManager æƒé™æ‰€ä»¥æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use admin;</span><br><span class="line">db.grantRolesToUser(&quot;uadd&quot;, [&#123;role: &quot;hostManager&quot;, db: &quot;admin&quot;&#125;]);</span><br><span class="line"></span><br><span class="line"># æˆæƒåå†æ‰§è¡Œ</span><br><span class="line">db.shutdownServer()</span><br></pre></td></tr></table></figure>

<br>

<h2 id="ç™»å½•è®¤è¯"><a href="#ç™»å½•è®¤è¯" class="headerlink" title="ç™»å½•è®¤è¯"></a>ç™»å½•è®¤è¯</h2><p>ç™»å½•åŠåˆ›å»ºç”¨æˆ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; use admin;</span><br><span class="line">&gt; db.auth(&quot;uadd&quot;, &quot;uadd&quot;)</span><br><span class="line"></span><br><span class="line">use admin;</span><br><span class="line"># åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·</span><br><span class="line">db.createUser(</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user&quot;: &quot;testuser&quot;,</span><br><span class="line">        &quot;pwd&quot;: &quot;123456&quot;,</span><br><span class="line">        &quot;roles&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;role&quot;: &quot;userAdminAnyDatabase&quot;,</span><br><span class="line">                &quot;db&quot;: &quot;admin&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºæ™®é€šç”¨æˆ·</span><br><span class="line">use test;</span><br><span class="line">db.createUser(</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user&quot;: &quot;testuser&quot;,</span><br><span class="line">        &quot;pwd&quot;: &quot;123456&quot;,</span><br><span class="line">        &quot;roles&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;role&quot;: &quot;readWrite&quot;,</span><br><span class="line">                &quot;db&quot;: &quot;test&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<br>

<h2 id="å¢åˆ æ”¹æŸ¥åŠå¸¸ç”¨å‘½ä»¤"><a href="#å¢åˆ æ”¹æŸ¥åŠå¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¢åˆ æ”¹æŸ¥åŠå¸¸ç”¨å‘½ä»¤"></a>å¢åˆ æ”¹æŸ¥åŠå¸¸ç”¨å‘½ä»¤</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use database;</span><br><span class="line">show dbs;</span><br><span class="line">show users;</span><br><span class="line"></span><br><span class="line">db.user.insert(&#123;&quot;name&quot;: &quot;zhangsan&quot;&#125;);</span><br><span class="line">db.user.insertMany([]);</span><br><span class="line">db.user.deleteOne(&#123;&quot;name&quot;: &quot;zhangsan&quot;&#125;)</span><br><span class="line">db.user.deleteMany(&quot;_id&quot;: &#123;&quot;$gte&quot;: 3&#125;)</span><br><span class="line">db.user.find(&quot;age&quot;: &#123;&quot;$gte&quot;: 3, &quot;$lte&quot;: 20&#125;)</span><br><span class="line"></span><br><span class="line">db.user.drop();</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenCV å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/2019/10/12/OpenCV-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<p><a href="https://zh.wikipedia.org/wiki/OpenCV">OpenCV â€” ç»´åŸºç™¾ç§‘</a> </p>
<p><strong>OpenCV</strong>çš„å…¨ç§°æ˜¯Open Source Computer Vision Libraryï¼Œæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89">è®¡ç®—æœºè§†è§‰</a>åº“ã€‚OpenCVæ˜¯ç”±<a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E7%89%B9%E5%B0%94">è‹±ç‰¹å°”å…¬å¸</a>å‘èµ·å¹¶å‚ä¸å¼€å‘ï¼Œä»¥<a href="https://zh.wikipedia.org/wiki/BSD%E8%AE%B8%E5%8F%AF%E8%AF%81">BSDè®¸å¯è¯</a>æˆæƒå‘è¡Œï¼Œå¯ä»¥åœ¨å•†ä¸šå’Œç ”ç©¶é¢†åŸŸä¸­å…è´¹ä½¿ç”¨ã€‚OpenCVå¯ç”¨äºå¼€å‘å®æ—¶çš„<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">å›¾åƒå¤„ç†</a>ã€<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89">è®¡ç®—æœºè§†è§‰</a>ä»¥åŠ<a href="https://zh.wikipedia.org/wiki/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB">æ¨¡å¼è¯†åˆ«</a>ç¨‹åºã€‚</p>
<span id="more"></span>



<h2 id="è¯»å–å’Œæ˜¾ç¤ºå›¾åƒ"><a href="#è¯»å–å’Œæ˜¾ç¤ºå›¾åƒ" class="headerlink" title="è¯»å–å’Œæ˜¾ç¤ºå›¾åƒ"></a>è¯»å–å’Œæ˜¾ç¤ºå›¾åƒ</h2><ul>
<li>cv2.imread()ï¼šè¯»å–</li>
<li>cv2.imwrite()ï¼šå†™å…¥</li>
<li>cv2.imshow()ï¼šæ˜¾ç¤º</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img = cv2.imread(img_path, <span class="number">0</span>)</span><br><span class="line">cv2.namedWindow(<span class="string">&quot;imview&quot;</span>, cv2.WINDOW_NORMAL)</span><br><span class="line">cv2.imshow(<span class="string">&quot;imview&quot;</span>, img)</span><br><span class="line">k = cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> k == <span class="built_in">ord</span>(<span class="string">&quot;s&quot;</span>):</span><br><span class="line">  cv2.imwrite(<span class="string">&quot;other.jpg&quot;</span>, img)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0620.25.17.png"></p>
<h2 id="è§†é¢‘çš„æ“ä½œ"><a href="#è§†é¢‘çš„æ“ä½œ" class="headerlink" title="è§†é¢‘çš„æ“ä½œ"></a>è§†é¢‘çš„æ“ä½œ</h2><h3 id="ä»æ‘„åƒå¤´è¯»å–è§†é¢‘"><a href="#ä»æ‘„åƒå¤´è¯»å–è§†é¢‘" class="headerlink" title="ä»æ‘„åƒå¤´è¯»å–è§†é¢‘"></a>ä»æ‘„åƒå¤´è¯»å–è§†é¢‘</h3><ul>
<li>cv2.VideoCapture(0).read()</li>
<li>cv2.cvtColor()</li>
<li>cv2.imshow()</li>
<li>cap.get(propId)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_video</span>():</span></span><br><span class="line">    cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ret, frame = cap.read()</span><br><span class="line">        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">        cv2.imshow(<span class="string">&quot;frame&quot;</span>, gray)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey() == <span class="built_in">ord</span>(<span class="string">&quot;q&quot;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    cap.release()</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">video</span>():</span></span><br><span class="line">    cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    fourcc = cv2.VideoWriter_fourcc(*<span class="string">&#x27;XVID&#x27;</span>)</span><br><span class="line">    out = cv2.VideoWriter(<span class="string">&quot;output.avi&quot;</span>, fourcc, <span class="number">20</span>, <span class="number">0</span>, (<span class="number">640</span>, <span class="number">480</span>))</span><br><span class="line">    <span class="keyword">while</span> (cap.isOpened()):</span><br><span class="line">        ret, frame = cap.read()</span><br><span class="line">        <span class="keyword">if</span> ret:</span><br><span class="line">            frame = cv2.flip(frame, <span class="number">0</span>)</span><br><span class="line">            out.write(frame)</span><br><span class="line">            cv2.imshow(<span class="string">&quot;video&quot;</span>, frame)</span><br><span class="line">            <span class="keyword">if</span> cv2.waitKey(<span class="number">0</span>) == <span class="built_in">ord</span>(<span class="string">&quot;q&quot;</span>):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    cap.release()</span><br><span class="line">    out.release()</span><br><span class="line">    cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>



<h3 id="ä»æ–‡ä»¶ä¸­è·å–è§†é¢‘"><a href="#ä»æ–‡ä»¶ä¸­è·å–è§†é¢‘" class="headerlink" title="ä»æ–‡ä»¶ä¸­è·å–è§†é¢‘"></a>ä»æ–‡ä»¶ä¸­è·å–è§†é¢‘</h3><p>cv2.VideoCapture(0)è¡¨ç¤ºæ‰“å¼€é»˜è®¤è®¾å¤‡ï¼Œå°†è®¾å¤‡ç´¢å¼•å·æ”¹æˆè§†é¢‘æ–‡ä»¶çš„åç§°å°±èƒ½ä»è§†é¢‘æ–‡ä»¶ä¸­è¯»å–è§†é¢‘ï¼Œä½¿ç”¨ waitKey()æ§åˆ¶æ’­æ”¾é€Ÿåº¦ï¼ˆé€šå¸¸25 msï¼‰ã€‚</p>
<h2 id="OpenCV-ä¸­çš„ç»˜å›¾å‡½æ•°"><a href="#OpenCV-ä¸­çš„ç»˜å›¾å‡½æ•°" class="headerlink" title="OpenCV ä¸­çš„ç»˜å›¾å‡½æ•°"></a>OpenCV ä¸­çš„ç»˜å›¾å‡½æ•°</h2><p>å­¦ä¼šä»¥ä¸‹å‡½æ•°çš„ä½¿ç”¨ï¼š</p>
<ul>
<li>cv2.line()</li>
<li>cv2.circle()</li>
<li>cv2.rectangle()</li>
<li>cv2.ellipse()</li>
<li>cv2.putText()</li>
</ul>
<p>å‚æ•°ï¼šä¸Šé¢æ‰€æœ‰çš„ç»˜å›¾å‡½æ•°éƒ½éœ€è¦çš„å‚æ•°ï¼š</p>
<ul>
<li>img ï¼šç”»å¸ƒ</li>
<li>color : æŒ‡å®šçš„é¢œè‰²ï¼ŒRGB-&gt;(255, 255, 0)</li>
<li>linetype : çº¿æ¡çš„ç±»å‹ï¼Œ8è¿æ¥ï¼ŒæŠ—é”¯é½¿ç­‰ã€‚lineType=cv2.LINE_AAï¼ˆæŠ—é”¯é½¿ï¼‰ã€‚</li>
</ul>
<h3 id="ç”»çº¿"><a href="#ç”»çº¿" class="headerlink" title="ç”»çº¿"></a>ç”»çº¿</h3><p>ç”»ä¸€æ¡ç›´çº¿éœ€è¦æŒ‡å®šç›´çº¿çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_line2</span>():</span></span><br><span class="line">    canvas = np.zeros((<span class="number">300</span>, <span class="number">300</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    green = (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">    cv2.line(canvas, (<span class="number">20</span>, <span class="number">20</span>), (<span class="number">150</span>, <span class="number">150</span>), color=green)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;green line&quot;</span>, canvas)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0620.40.01.png"></p>
<h3 id="ç”»çŸ©å½¢"><a href="#ç”»çŸ©å½¢" class="headerlink" title="ç”»çŸ©å½¢"></a>ç”»çŸ©å½¢</h3><p>ç»˜åˆ¶çŸ©å½¢éœ€è¦æŒ‡å®šä¸¤ä¸ªç‚¹çš„åæ ‡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_rectangle</span>():</span></span><br><span class="line">    canvas = np.zeros((<span class="number">300</span>, <span class="number">300</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    color = (<span class="number">126</span>, <span class="number">126</span>, <span class="number">126</span>)</span><br><span class="line">    cv2.rectangle(canvas, (<span class="number">80</span>, <span class="number">80</span>), (<span class="number">250</span>, <span class="number">270</span>), color=color)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;rectangle&quot;</span>, canvas)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0620.49.11.png"></p>
<h3 id="ç”»åœ†"><a href="#ç”»åœ†" class="headerlink" title="ç”»åœ†"></a>ç”»åœ†</h3><p>ç»˜åˆ¶åœ†å½¢éœ€è¦æŒ‡å®šåœ†å¿ƒåæ ‡å’ŒåŠå¾„å¤§å°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_circle</span>():</span></span><br><span class="line">    canvas = np.zeros((<span class="number">300</span>, <span class="number">300</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    color = (<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">    cv2.circle(canvas, (<span class="number">150</span>, <span class="number">140</span>), <span class="number">100</span>, color=color)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;circle&quot;</span>, canvas)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0620.53.40.png"></p>
<h3 id="ç”»æ¤­åœ†"><a href="#ç”»æ¤­åœ†" class="headerlink" title="ç”»æ¤­åœ†"></a>ç”»æ¤­åœ†</h3><p>ç»˜åˆ¶æ¤­åœ†éœ€è¦æŒ‡å®šçš„å‚æ•°ï¼š</p>
<ol>
<li>ä¸­å¿ƒç‚¹åæ ‡</li>
<li>é•¿è½´å’ŒçŸ­è½´</li>
<li>æ²¿é€†æ—¶é’ˆæ–¹å‘æ—‹è½¬çš„è§’åº¦</li>
<li>é¡ºæ—¶é’ˆæ–¹å‘èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_ellipse</span>():</span></span><br><span class="line">    canvas = np.zeros((<span class="number">400</span>, <span class="number">400</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    color = (<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">    cv2.ellipse(canvas, (<span class="number">200</span>, <span class="number">200</span>), (<span class="number">100</span>, <span class="number">150</span>), <span class="number">0</span>, <span class="number">0</span>, <span class="number">360</span>, color)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;ellipse&quot;</span>, canvas)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0620.59.20.png"></p>
<h3 id="åœ¨å›¾ç‰‡ä¸­æ·»åŠ æ–‡å­—"><a href="#åœ¨å›¾ç‰‡ä¸­æ·»åŠ æ–‡å­—" class="headerlink" title="åœ¨å›¾ç‰‡ä¸­æ·»åŠ æ–‡å­—"></a>åœ¨å›¾ç‰‡ä¸­æ·»åŠ æ–‡å­—</h3><p>æ‰€éœ€å‚æ•°ï¼š</p>
<ul>
<li>æ·»åŠ çš„æ–‡æœ¬</li>
<li>ç»˜åˆ¶çš„ä½ç½®</li>
<li>å­—ä½“ç±»å‹</li>
<li>å­—ä½“å¤§å°</li>
<li>æ–‡å­—çš„ä¸€èˆ¬å±æ€§ï¼ˆé¢œè‰²ï¼Œç²—ç»†ï¼Œçº¿æ¡ç±»å‹ç­‰ï¼‰</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">put_text</span>():</span></span><br><span class="line">    canvas = np.zeros((<span class="number">300</span>, <span class="number">600</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    font = cv2.FONT_HERSHEY_SIMPLEX</span><br><span class="line">    cv2.putText(canvas, <span class="string">&#x27;Kanna Makino&#x27;</span>, (<span class="number">10</span>, <span class="number">100</span>), font, <span class="number">2</span>, (<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>), <span class="number">2</span>)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;put text&quot;</span>, canvas)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0621.12.59.png"></p>
<h2 id="ç®€å•çš„é¼ æ ‡äº‹ä»¶"><a href="#ç®€å•çš„é¼ æ ‡äº‹ä»¶" class="headerlink" title="ç®€å•çš„é¼ æ ‡äº‹ä»¶"></a>ç®€å•çš„é¼ æ ‡äº‹ä»¶</h2><ul>
<li>å­¦ä¹ ä½¿ç”¨ OpenCV å¤„ç†é¼ æ ‡äº‹ä»¶</li>
<li>å‡½æ•°ï¼š<strong>cv2.setMouseCallback()</strong></li>
</ul>
<h3 id="ç®€å•ç¤ºä¾‹"><a href="#ç®€å•ç¤ºä¾‹" class="headerlink" title="ç®€å•ç¤ºä¾‹"></a>ç®€å•ç¤ºä¾‹</h3><p>é¼ æ ‡äº‹ä»¶å¯ä»¥è·å¾—äº‹ä»¶å¯¹åº”çš„åæ ‡å’Œäº‹ä»¶åç§°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_circle</span>(<span class="params">event, x, y, flags, params</span>):</span></span><br><span class="line">    <span class="keyword">if</span> event == cv2.EVENT_LBUTTONDBLCLK:</span><br><span class="line">        cv2.circle(img, (x, y), <span class="number">100</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), -<span class="number">1</span>, lineType=cv2.LINE_AA)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">cv2.namedWindow(<span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">cv2.setMouseCallback(<span class="string">&#x27;image&#x27;</span>, draw_circle)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;image&#x27;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">20</span>) &amp; <span class="number">0xFF</span> == <span class="number">27</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>



<p><img src="https://image.youyou-2608.com//blog/20191012/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A72019-10-0822.11.59.png"></p>
<h2 id="ç”¨æ»‘åŠ¨æ¡åšè°ƒè‰²æ¿"><a href="#ç”¨æ»‘åŠ¨æ¡åšè°ƒè‰²æ¿" class="headerlink" title="ç”¨æ»‘åŠ¨æ¡åšè°ƒè‰²æ¿"></a>ç”¨æ»‘åŠ¨æ¡åšè°ƒè‰²æ¿</h2><p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>å­¦ä¼šæŠŠæ»‘åŠ¨æ¡ç»‘å®šåˆ° OpenCV çš„çª—å£</li>
<li>cv2.getTrackbarPos()</li>
<li>cv2.createTrackbar()</li>
</ul>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_cdoing:utf-8_*_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nothing</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img = np.zeros((<span class="number">500</span>, <span class="number">312</span>, <span class="number">3</span>), dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">cv2.namedWindow(<span class="string">&quot;image&quot;</span>)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;R&quot;</span>, <span class="string">&quot;image&quot;</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;G&quot;</span>, <span class="string">&quot;image&quot;</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line">cv2.createTrackbar(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;image&quot;</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line"></span><br><span class="line">switch = <span class="string">&#x27;0:OFF\n1:ON&#x27;</span></span><br><span class="line">cv2.createTrackbar(switch, <span class="string">&quot;image&quot;</span>, <span class="number">0</span>, <span class="number">1</span>, nothing)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&quot;image&quot;</span>, img)</span><br><span class="line">    k = cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span></span><br><span class="line">    <span class="keyword">if</span> k == <span class="number">27</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    r = cv2.getTrackbarPos(<span class="string">&quot;R&quot;</span>, <span class="string">&quot;image&quot;</span>)</span><br><span class="line">    g = cv2.getTrackbarPos(<span class="string">&quot;G&quot;</span>, <span class="string">&quot;image&quot;</span>)</span><br><span class="line">    b = cv2.getTrackbarPos(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;image&quot;</span>)</span><br><span class="line">    s = cv2.getTrackbarPos(switch, <span class="string">&quot;image&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> s == <span class="number">0</span>:</span><br><span class="line">        img[:] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        img[:] = [r, g, b]</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h3><blockquote>
<p>åˆ›å»ºä¸€ä¸ªç”»æ¿ï¼Œå¯ä»¥é€‰æ‹©å„ç§é¢œè‰²çš„ç”»ç¬”è¿›è¡Œç»˜ç”»æ“ä½œã€‚</p>
</blockquote>
<p>ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_circle</span>(<span class="params">event, x, y, flag, params</span>):</span></span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="æ ¸å¿ƒæ“ä½œ"><a href="#æ ¸å¿ƒæ“ä½œ" class="headerlink" title="æ ¸å¿ƒæ“ä½œ"></a>æ ¸å¿ƒæ“ä½œ</h2><h2 id="å›¾åƒçš„åŸºç¡€æ“ä½œ"><a href="#å›¾åƒçš„åŸºç¡€æ“ä½œ" class="headerlink" title="å›¾åƒçš„åŸºç¡€æ“ä½œ"></a>å›¾åƒçš„åŸºç¡€æ“ä½œ</h2><p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>è·å–åƒç´ çš„å€¼å¹¶ä¿®æ”¹</li>
<li>è·å–å›¾åƒçš„å±æ€§ï¼ˆä¿¡æ¯ï¼‰</li>
<li>å›¾åƒçš„ ROIï¼ˆï¼‰</li>
<li>å›¾åƒé€šé“çš„æ‹†åˆ†ä¸åˆå¹¶</li>
</ul>
<h3 id="è·å–å›¾åƒçš„åƒç´ "><a href="#è·å–å›¾åƒçš„åƒç´ " class="headerlink" title="è·å–å›¾åƒçš„åƒç´ "></a>è·å–å›¾åƒçš„åƒç´ </h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&quot;/Users/youyou2608/Pictures/pi.png&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(img.item(<span class="number">10</span>, <span class="number">10</span>, <span class="number">2</span>))</span><br><span class="line">img.itemset((<span class="number">10</span>, <span class="number">10</span>, <span class="number">2</span>), <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(img.item(<span class="number">10</span>, <span class="number">10</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># å›¾åƒçš„å±æ€§ï¼šè¡Œï¼Œåˆ—ï¼Œé€šé“ï¼Œå›¾åƒæ•°æ®ç±»å‹ï¼Œåƒç´ æ•°ç›®ç­‰</span></span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="comment"># åƒç´ æ•°ç›®</span></span><br><span class="line"><span class="built_in">print</span>(img.size)</span><br><span class="line"><span class="comment"># å›¾åƒçš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="built_in">print</span>(img.dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment">####### è¾“å‡º ######</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">100</span></span><br><span class="line">(<span class="number">487</span>, <span class="number">423</span>, <span class="number">3</span>)</span><br><span class="line"><span class="number">618003</span></span><br><span class="line">uint8</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="å›¾åƒçš„-ROI"><a href="#å›¾åƒçš„-ROI" class="headerlink" title="å›¾åƒçš„ ROI"></a>å›¾åƒçš„ ROI</h3><p>æœ‰æ—¶å¯¹å›¾åƒçš„æŸä¸€ç‰¹å®šåŒºåŸŸè¿›è¡Œæœç´¢æ¯”åœ¨ä¸€å¼ å›¾åƒä¸­æœç´¢æœ‰æ›´é«˜çš„å‡†ç¡®æ€§å’Œæ€§èƒ½ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&quot;/Users/youyou2608/Pictures/pi.png&quot;</span>)</span><br><span class="line">temp = img[<span class="number">100</span>:<span class="number">300</span>, <span class="number">10</span>:<span class="number">100</span>]</span><br><span class="line">img[<span class="number">0</span>:<span class="number">200</span>, <span class="number">100</span>:<span class="number">190</span>] = temp</span><br><span class="line">cv2.imshow(<span class="string">&quot;image&quot;</span>, img)</span><br><span class="line">cv2.waitKey(<span class="number">100000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://image.youyou-2608.com//blog/20191012/QQ20191009-225749.png"></p>
<h3 id="æ‹†åˆ†åŠåˆå¹¶å›¾åƒé€šé“"><a href="#æ‹†åˆ†åŠåˆå¹¶å›¾åƒé€šé“" class="headerlink" title="æ‹†åˆ†åŠåˆå¹¶å›¾åƒé€šé“"></a>æ‹†åˆ†åŠåˆå¹¶å›¾åƒé€šé“</h3><p>å¯¹ BGR ä¸‰ä¸ªé€šé“åˆ†åˆ«è¿›è¡Œæ“ä½œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†å›¾ç‰‡æ‰€æœ‰å…±è‰²é€šé“å€¼éƒ½è®¾ç½®ä¸º0</span></span><br><span class="line">img = cv2.imread(<span class="string">&quot;/Users/youyou2608/Pictures/pi.png&quot;</span>)</span><br><span class="line">img[<span class="number">0</span>:<span class="number">300</span>, <span class="number">0</span>:<span class="number">200</span>, <span class="number">2</span>] = <span class="number">0</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;image&quot;</span>, img)</span><br></pre></td></tr></table></figure>





<h2 id="å›¾åƒä¸Šçš„ç®—æœ¯è¿ç®—"><a href="#å›¾åƒä¸Šçš„ç®—æœ¯è¿ç®—" class="headerlink" title="å›¾åƒä¸Šçš„ç®—æœ¯è¿ç®—"></a>å›¾åƒä¸Šçš„ç®—æœ¯è¿ç®—</h2><ul>
<li>å­¦ä¹ å›¾åƒä¸Šçš„åŠ æ³•ã€å‡æ³•å’Œä½è¿ç®—ç­‰</li>
<li>cv2.add()</li>
<li>cv2.addWeighted()</li>
</ul>
<h3 id="åŠ æ³•"><a href="#åŠ æ³•" class="headerlink" title="åŠ æ³•"></a>åŠ æ³•</h3><p>è¿›è¡ŒåŠ æ³•çš„ä¸¤å¹…å›¾åƒçš„å¤§å°ã€ç±»å‹å¿…é¡»ä¸€è‡´ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.uint([<span class="number">250</span>])</span><br><span class="line">y = np.uint([<span class="number">20</span>])</span><br><span class="line"><span class="built_in">print</span>(cv2.add(x, y))  <span class="comment"># [[255]]</span></span><br></pre></td></tr></table></figure>



<h3 id="å›¾åƒæ··åˆ"><a href="#å›¾åƒæ··åˆ" class="headerlink" title="å›¾åƒæ··åˆ"></a>å›¾åƒæ··åˆ</h3><p>å›¾åƒæ··åˆå…¶å®ä¹Ÿæ˜¯åŠ æ³•ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ä¸¤å¹…å›¾åƒçš„æƒé‡ä¸åŒã€‚</p>
<p>å‡½æ•°ï¼šcv2.addWeighted()</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img1 = cv2.read(<span class="string">&quot;img1.png&quot;</span>)</span><br><span class="line">img2 = cv2.read(<span class="string">&quot;img2.png&quot;</span>)</span><br><span class="line"></span><br><span class="line">dst = cv2.addWeighted(img1, <span class="number">0.7</span>, img2, <span class="number">0.3</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">cv2.imshow(<span class="string">&quot;image&quot;</span>, dst)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p><img src="https://image.youyou-2608.com//blog/20191012/2019-10-1217.13.11.png"></p>
<p>åç»­â€¦</p>
]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenCVâ€”â€”cv2.inRange()å‡½æ•°</title>
    <url>/2019/10/14/OpenCV%E2%80%94%E2%80%94cv2-inRange-%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<p>åœ¨å›¾åƒä¸­æå–ç›®æ ‡ç‰©æ—¶å¯ä»¥ç”¨è¯¥å‡½æ•°å»é™¤èƒŒæ™¯ã€‚</p>
<p>æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>hsv_imgï¼šé¢œè‰²ç©ºé—´ä¸º HSV çš„å›¾åƒï¼›</li>
<li>lowerï¼šä¸‹é˜ˆå€¼ï¼Œå›¾åƒä¸­ä½äºæ­¤å€¼çš„é¢œè‰²å€¼å˜ä¸º 0ï¼›</li>
<li>uppperï¼šä¸Šé˜ˆå€¼ï¼Œå›¾åƒä¸­é«˜äºæ­¤å€¼çš„é¢œè‰²å€¼å˜ä¸º 0ã€‚</li>
</ul>
<span id="more"></span>



<p>é¢œè‰²å€¼åœ¨æ­¤èŒƒå›´å†…çš„å…¨éƒ¨è®¾ç½®ä¸º255ï¼Œç„¶ååˆ©ç”¨å¾—åˆ°èƒŒæ™¯å’ŒåŸå›¾ç‰‡è¿›è¡Œä½æ“ä½œï¼Œå³å¯å¾—åˆ°åŸå›¾ä¸­ç›®æ ‡ã€‚</p>
<p>å¸¸ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img = cv2.imread(img_path, <span class="number">0</span>)</span><br><span class="line">img_hsv = cv2.cvtColor(img, cv2.COLOR_RGB2HSV)</span><br><span class="line">lower = [<span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>]</span><br><span class="line">uppper = [<span class="number">200</span>, <span class="number">255</span>, <span class="number">255</span>]</span><br><span class="line"><span class="comment"># åˆ©ç”¨ä¸Šä¸‹é˜ˆå€¼å»é™¤èƒŒæ™¯éƒ¨åˆ†</span></span><br><span class="line">mask = cv2.inRange(img_hsv, lower, upper)</span><br><span class="line"><span class="comment"># åˆ©ç”¨ä½è¿ç®—å¾—åˆ°ç›®æ ‡ç‰©ä½“</span></span><br><span class="line">target = cv2.bitwise_and(img, img, mask=mask)</span><br><span class="line">cv2.imshow(<span class="string">&quot;mask&quot;</span>, mask)</span><br><span class="line">cv2.imshow(<span class="string">&quot;target&quot;</span>, target)</span><br></pre></td></tr></table></figure>



<p>ä¸Šä¸‹é˜ˆå€¼çš„è·å–ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">color = np.array([[[xxx, xxx, xxx]]])</span><br><span class="line">hsv_color = cv2.cvtColor(color, cv2.COLOR_RGB2HSV)</span><br><span class="line"><span class="built_in">print</span>(hsv_color)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenCVä¸­çš„Cannyè¾¹ç¼˜æ£€æµ‹</title>
    <url>/2020/10/19/OpenCV%E4%B8%AD%E7%9A%84Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B/</url>
    <content><![CDATA[<p>[TOC]</p>
<h2 id="å™ªå£°å»é™¤"><a href="#å™ªå£°å»é™¤" class="headerlink" title="å™ªå£°å»é™¤"></a>å™ªå£°å»é™¤</h2><p>ç”±äºè¾¹ç¼˜æ£€æµ‹å¾ˆå®¹æ˜“å—åˆ°å™ªå£°å½±å“ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨ 5x5 çš„é«˜æ–¯æ»¤æ³¢å™¨å»é™¤å™ªå£°ã€‚</p>
<p>ç”¨åˆ°çš„å‡½æ•°ï¼šcv2.GaussianBlur()</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li>src: æºå›¾åƒ</li>
<li>ksize: å·ç§¯æ¡†</li>
<li>sigmaXï¼šè¡¨ç°åœ¨é«˜æ–¯æ›²çº¿ä¸Šå°±æ˜¯æ›²çº¿è¶Šé«˜è¶Šå°–ï¼Œè¡¨ç°åœ¨æ»¤æ³¢æ•ˆæœä¸Šå°±æ˜¯æ¨¡ç³Šç¨‹åº¦å°</li>
<li>sigmaYï¼šè¡¨ç°åœ¨é«˜æ–¯æ›²çº¿ä¸Šå°±æ˜¯æ›²çº¿è¶ŠçŸ®è¶Šå¹³ç¼“ï¼Œè¡¨ç°åœ¨æ»¤æ³¢æ•ˆæœä¸Šå°±æ˜¯æ¨¡ç³Šç¨‹åº¦å¤§</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cv2.GaussianBlur(img, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">70</span>, <span class="number">70</span>)</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="è®¡ç®—å›¾åƒæ¢¯åº¦"><a href="#è®¡ç®—å›¾åƒæ¢¯åº¦" class="headerlink" title="è®¡ç®—å›¾åƒæ¢¯åº¦"></a>è®¡ç®—å›¾åƒæ¢¯åº¦</h2><p>å¯¹å¹³æ»‘åçš„å›¾åƒä½¿ç”¨ Sobel ç®—å­è®¡ç®—æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘çš„ä¸€é˜¶å¯¼æ•°ï¼ˆå›¾ </p>
<p>åƒæ¢¯åº¦ï¼‰ï¼ˆGx å’Œ Gyï¼‰ã€‚æ ¹æ®å¾—åˆ°çš„è¿™ä¸¤å¹…æ¢¯åº¦å›¾ï¼ˆGx å’Œ Gyï¼‰æ‰¾åˆ°è¾¹ç•Œçš„æ¢¯ </p>
<p>åº¦å’Œæ–¹å‘ï¼Œå…¬å¼å¦‚ä¸‹ï¼š </p>
<p>$$ Edge Gradient(G) = \sqrt(G_x^2 + G_y^2) $$</p>
<p>$$ Angle(\theta) = tan^{-1} (\frac{G_x}{G_y} ) $$</p>
<p>($G_x, G_y$) æ¢¯åº¦çš„æ–¹å‘ä¸€èˆ¬æ€»æ˜¯ä¸è¾¹ç•Œå‚ç›´ã€‚æ¢¯åº¦æ–¹å‘è¢«å½’ä¸ºå››ç±»ï¼šå‚ç›´ï¼Œæ°´å¹³ï¼Œå’Œ ä¸¤ä¸ªå¯¹è§’çº¿ã€‚</p>
<h2 id="éæå¤§å€¼æŠ‘åˆ¶"><a href="#éæå¤§å€¼æŠ‘åˆ¶" class="headerlink" title="éæå¤§å€¼æŠ‘åˆ¶"></a>éæå¤§å€¼æŠ‘åˆ¶</h2><p>åœ¨è·å¾—æ¢¯åº¦çš„æ–¹å‘å’Œå¤§å°ä¹‹åï¼Œåº”è¯¥å¯¹æ•´å¹…å›¾åƒåšä¸€ä¸ªæ‰«æï¼Œå»é™¤é‚£äº›éè¾¹ç•Œä¸Šçš„ç‚¹ã€‚å¯¹æ¯ä¸€ä¸ªåƒç´ è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹è¿™ä¸ªçš„æ¢¯åº¦æ˜¯ä¸æ˜¯å‘¨å›´å…·æœ‰ç›¸åŒæ¢¯åº¦æ–¹å‘çš„ç‚¹ä¸­æœ€å¤§çš„ã€‚</p>
<p><img src="https://images2.imgbox.com/75/ee/RxuqU0tS_o.png"></p>
<h2 id="æ»åé˜ˆå€¼"><a href="#æ»åé˜ˆå€¼" class="headerlink" title="æ»åé˜ˆå€¼"></a>æ»åé˜ˆå€¼</h2><p>ç°åœ¨è¦ç¡®å®šé‚£äº›è¾¹ç•Œæ‰æ˜¯çœŸæ­£çš„è¾¹ç•Œã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸¤ä¸ªé˜ˆå€¼ï¼šminVal å’Œ maxValã€‚å½“å›¾åƒçš„ç°åº¦æ¢¯åº¦é«˜äº maxValæ—¶è¢«è®¤ä¸ºæ˜¯çœŸçš„è¾¹ç•Œï¼Œé‚£äº›ä½äº minVal çš„è¾¹ç•Œä¼šè¢«æŠ›å¼ƒã€‚å¦‚æœä»‹äºä¸¤è€…ä¹‹é—´çš„è¯ï¼Œå°±è¦çœ‹è¿™ä¸ªç‚¹æ˜¯å¦ä¸æŸä¸ªè¢«ç¡®å®šä¸ºçœŸæ­£çš„è¾¹ç•Œç‚¹ç›¸è¿ï¼Œå¦‚æœæ˜¯å°±è®¤ä¸ºå®ƒä¹Ÿæ˜¯è¾¹ç•Œç‚¹ï¼Œå¦‚æœä¸æ˜¯å°±æŠ›å¼ƒã€‚</p>
<p><img src="https://images2.imgbox.com/a3/09/Pt2LMJDg_o.png"></p>
<h2 id="OpenCVä¸­çš„Cannyç®—æ³•"><a href="#OpenCVä¸­çš„Cannyç®—æ³•" class="headerlink" title="OpenCVä¸­çš„Cannyç®—æ³•"></a>OpenCVä¸­çš„Cannyç®—æ³•</h2><p>åœ¨ OpenCV ä¸­åªéœ€è¦ä¸€ä¸ªå‡½æ•°ï¼šcv2.Canny()ï¼Œå°±å¯ä»¥å®Œæˆä»¥ä¸Šå‡ æ­¥ã€‚è®©æˆ‘ä»¬çœ‹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥å›¾åƒã€‚ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªåˆ†åˆ«æ˜¯ minVal å’Œ maxValã€‚ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ç½®ç”¨æ¥è®¡ç®—å›¾åƒæ¢¯åº¦çš„ Sobelå·ç§¯æ ¸çš„å¤§å°ï¼Œé»˜è®¤å€¼ä¸º 3ã€‚æœ€åä¸€ä¸ªå‚æ•°æ˜¯ L2gradientï¼Œå®ƒå¯ä»¥ç”¨æ¥è®¾å®šæ±‚æ¢¯åº¦å¤§å°çš„æ–¹ç¨‹ã€‚å¦‚æœè®¾ä¸º Trueï¼Œå°±ä¼šä½¿ç”¨æˆ‘ä»¬ä¸Šé¢æåˆ°è¿‡çš„æ–¹ç¨‹ï¼Œå¦åˆ™ä½¿ç”¨æ–¹ç¨‹ï¼š</p>
<p>$$ Edege Gradient(G) = |G_x^2| + |G_y^2| $$</p>
<p>ä»£æ›¿ï¼Œé»˜è®¤å€¼ä¸º Falseã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../imgs/test.jpeg&quot;</span>)</span><br><span class="line"></span><br><span class="line">cv2.namedWindow(<span class="string">&#x27;image&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_nothing</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cv2.createTrackbar(<span class="string">&#x27;minVal&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="number">0</span>, <span class="number">500</span>, do_nothing)</span><br><span class="line">cv2.createTrackbar(<span class="string">&#x27;maxVal&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="number">0</span>, <span class="number">500</span>, do_nothing)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    minVal = cv2.getTrackbarPos(<span class="string">&#x27;minVal&#x27;</span>, <span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">    maxVal = cv2.getTrackbarPos(<span class="string">&#x27;maxVal&#x27;</span>, <span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> minVal &gt; maxVal:</span><br><span class="line">        cv2.setTrackbarPos(<span class="string">&#x27;minVal&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, maxVal)</span><br><span class="line">    dst = cv2.Canny(img, minVal, maxVal)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;image&#x27;</span>, dst)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">5</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p>åŸå›¾ï¼š</p>
<p><img src="https://images2.imgbox.com/53/f9/B6zaHYEb_o.jpeg"></p>
<p>ç»“æœï¼šï¼ˆå¯ä»¥é€šè¿‡è°ƒèŠ‚æ»‘åŠ¨æ¡æ¥è®¾ç½®é˜ˆå€¼ minVal å’Œ maxVal è¿›è€Œæ¥è¿›è¡Œ Canny è¾¹ç•Œæ£€æµ‹ã€‚ï¼‰</p>
<p><img src="https://images2.imgbox.com/0d/cb/jUxo9bif_o.png"></p>
]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenCVå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
    <url>/2020/10/17/OpenCV%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<ul>
<li>ç§»åŠ¨</li>
<li>æ—‹è½¬</li>
<li>ä»¿å°„å˜æ¢</li>
<li>ç”¨åˆ°çš„å‡½æ•°ï¼šcv2.getPerspectiveTransform()</li>
</ul>
<span id="more"></span>

<h2 id="æ‰©å±•å’Œç¼©æ”¾"><a href="#æ‰©å±•å’Œç¼©æ”¾" class="headerlink" title="æ‰©å±•å’Œç¼©æ”¾"></a>æ‰©å±•å’Œç¼©æ”¾</h2><h3 id="cv2-resize-å‡½æ•°ç”¨æ³•"><a href="#cv2-resize-å‡½æ•°ç”¨æ³•" class="headerlink" title="cv2.resize()å‡½æ•°ç”¨æ³•"></a>cv2.resize()å‡½æ•°ç”¨æ³•</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">void resize(InputArray src, OutputArray dst, Size dsize, double fx=<span class="number">0</span>, double fy=<span class="number">0</span>, <span class="built_in">int</span> interpolation=INTER_LINEAR )</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">srcï¼šè¾“å…¥ï¼ŒåŸå›¾åƒï¼Œå³å¾…æ”¹å˜å¤§å°çš„å›¾åƒï¼›</span><br><span class="line">dstï¼šè¾“å‡ºï¼Œæ”¹å˜å¤§å°ä¹‹åçš„å›¾åƒï¼Œè¿™ä¸ªå›¾åƒå’ŒåŸå›¾åƒå…·æœ‰ç›¸åŒçš„å†…å®¹ï¼Œåªæ˜¯å¤§å°å’ŒåŸå›¾åƒä¸ä¸€æ ·è€Œå·²ï¼›</span><br><span class="line">dsizeï¼šè¾“å‡ºå›¾åƒçš„å¤§å°ã€‚å¦‚æœè¿™ä¸ªå‚æ•°ä¸ä¸º0ï¼Œé‚£ä¹ˆå°±ä»£è¡¨å°†åŸå›¾åƒç¼©æ”¾åˆ°è¿™ä¸ªSize(widthï¼Œheight)æŒ‡å®šçš„å¤§å°ï¼›å¦‚æœè¿™ä¸ªå‚æ•°ä¸º0ï¼Œé‚£ä¹ˆåŸå›¾åƒç¼©æ”¾ä¹‹åçš„å¤§å°å°±è¦é€šè¿‡ä¸‹é¢çš„å…¬å¼æ¥è®¡ç®—ï¼š</span><br><span class="line">       dsize = Size(round(fx*src.cols), round(fy*src.rows))</span><br><span class="line"></span><br><span class="line">       å…¶ä¸­ï¼Œfxå’Œfyå°±æ˜¯ä¸‹é¢è¦è¯´çš„ä¸¤ä¸ªå‚æ•°ï¼Œæ˜¯å›¾åƒwidthæ–¹å‘å’Œheightæ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ã€‚</span><br><span class="line"></span><br><span class="line">fxï¼šwidthæ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå¦‚æœå®ƒæ˜¯0ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæŒ‰ç…§(double)dsize.width/src.colsæ¥è®¡ç®—ï¼›</span><br><span class="line">fyï¼šheightæ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå¦‚æœå®ƒæ˜¯0ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæŒ‰ç…§(double)dsize.height/src.rowsæ¥è®¡ç®—ï¼›</span><br><span class="line">interpolationï¼šè¿™ä¸ªæ˜¯æŒ‡å®šæ’å€¼çš„æ–¹å¼ï¼Œå›¾åƒç¼©æ”¾ä¹‹åï¼Œè‚¯å®šåƒç´ è¦è¿›è¡Œé‡æ–°è®¡ç®—çš„ï¼Œå°±é è¿™ä¸ªå‚æ•°æ¥æŒ‡å®šé‡æ–°è®¡ç®—åƒç´ çš„æ–¹å¼ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</span><br><span class="line">      INTER_NEAREST - æœ€é‚»è¿‘æ’å€¼</span><br><span class="line">      INTER_LINEAR - åŒçº¿æ€§æ’å€¼ï¼Œå¦‚æœæœ€åä¸€ä¸ªå‚æ•°ä½ ä¸æŒ‡å®šï¼Œé»˜è®¤ä½¿ç”¨è¿™ç§æ–¹æ³•</span><br><span class="line">      INTER_AREA -åŒºåŸŸæ’å€¼ resampling using pixel area relation. It may be a preferred method for image decimation, as it gives moireâ€™-free results. But when the image is zoomed, it is similar to the INTER_NEAREST method.</span><br><span class="line">      INTER_CUBIC - 4x4åƒç´ é‚»åŸŸå†…çš„åŒç«‹æ–¹æ’å€¼</span><br><span class="line">      INTER_LANCZOS4 - 8x8åƒç´ é‚»åŸŸå†…çš„Lanczosæ’å€¼</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä½¿ç”¨cv2.resize()å¯ä»¥å®ç°å¯¹å›¾ç‰‡çš„å¤§å°è°ƒæ•´ã€‚</p>
<p>ä¸‰ç§æ’å€¼æ–¹æ³•ï¼š</p>
<ol>
<li>cv2.INTER_AREA</li>
<li>cv2.INTER_LINEER</li>
<li>cv2.INTER_CUBIC</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../imgs/pi.png&quot;</span>)</span><br><span class="line">result1 = cv2.resize(img, <span class="literal">None</span>, fx=<span class="number">0.5</span>, fy=<span class="number">0.5</span>, interpolation=cv2.INTER_CUBIC)</span><br><span class="line">result2 = cv2.resize(img, <span class="literal">None</span>, fx=<span class="number">0.5</span>, fy=<span class="number">0.5</span>, interpolation=cv2.INTER_AREA)</span><br><span class="line">result3 = cv2.resize(img, <span class="literal">None</span>, fx=<span class="number">0.5</span>, fy=<span class="number">0.5</span>, interpolation=cv2.INTER_LINEAR)</span><br><span class="line"><span class="comment"># height, width = img.shape[0:2]</span></span><br><span class="line"><span class="comment"># result = cv2.resize(img, (2 * width, 2 * height), interpolation=cv2.INTER_CUBIC)</span></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;INTER_CUBIC&#x27;</span>, result1)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;INTER_AREA&#x27;</span>, result2)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;INTER_LINEAR&#x27;</span>, result3)</span><br><span class="line">    <span class="comment"># cv2.imshow(&#x27;image&#x27;, img)</span></span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">4</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://images2.imgbox.com/8c/39/GHMN9Lih_o.png"></p>
<p>-&gt;&gt;<a href="https://blog.csdn.net/guyuealian/article/details/85097633">OpenCVå›¾åƒç¼©æ”¾resizeå„ç§æ’å€¼æ–¹å¼çš„æ¯”è¾ƒ</a></p>
<h2 id="å›¾åƒçš„å¹³ç§»"><a href="#å›¾åƒçš„å¹³ç§»" class="headerlink" title="å›¾åƒçš„å¹³ç§»"></a>å›¾åƒçš„å¹³ç§»</h2><p>ä½¿ç”¨cv2.wrapAffine()å®ç°å›¾åƒçš„å¹³ç§»ã€‚</p>
<p>å‡½æ•° cv2.warpAffine() çš„ç¬¬ä¸‰ä¸ªå‚æ•°çš„æ˜¯è¾“å‡ºå›¾åƒçš„å¤§å°ï¼Œå®ƒçš„æ ¼å¼<br>åº”è¯¥æ˜¯å›¾åƒçš„ï¼ˆå®½ï¼Œé«˜ï¼‰ã€‚åº”è¯¥è®°ä½çš„æ˜¯å›¾åƒçš„å®½å¯¹åº”çš„æ˜¯åˆ—æ•°ï¼Œé«˜å¯¹åº”çš„æ˜¯è¡Œ<br>æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../imgs/pi.png&quot;</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">height, width = img.shape</span><br><span class="line"><span class="comment"># å¹³ç§»çŸ©é˜µ 100x50</span></span><br><span class="line">M = np.float32([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">100</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">50</span>]])</span><br><span class="line">result = cv2.warpAffine(img, M, (width, height), dst=<span class="literal">None</span>, borderMode=cv2.BORDER_REFLECT, borderValue=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;result&#x27;</span>, result)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;image&#x27;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">0</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://images2.imgbox.com/7e/4f/MjuCKjWa_o.png"></p>
<h2 id="å›¾åƒçš„æ—‹è½¬"><a href="#å›¾åƒçš„æ—‹è½¬" class="headerlink" title="å›¾åƒçš„æ—‹è½¬"></a>å›¾åƒçš„æ—‹è½¬</h2><p>opencvä¸­å¯¹å›¾åƒçš„æ—‹è½¬ä¸»è¦æ˜¯å…ˆé€šè¿‡getRotationMatrix2Då‡½æ•°å¾—åˆ°å›¾åƒçš„æ—‹è½¬çŸ©é˜µï¼Œç„¶åå†é€šè¿‡ä»¿å°„å˜æ¢å‡½æ•°warpAffineå¾—åˆ°æ—‹è½¬åçš„å›¾åƒã€‚</p>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<p>getRotationMatrix2D:</p>
<ul>
<li>centerâ€“è¡¨ç¤ºæ—‹è½¬çš„ä¸­å¿ƒç‚¹</li>
<li>angleâ€“è¡¨ç¤ºæ—‹è½¬çš„è§’åº¦degrees</li>
<li>scaleâ€“å›¾åƒç¼©æ”¾å› å­</li>
</ul>
<p>warpAffine:</p>
<ul>
<li>src â€“ è¾“å…¥çš„å›¾åƒ</li>
<li>M â€“ 2 X 3 çš„å˜æ¢çŸ©é˜µ.</li>
<li>dsize â€“ è¾“å‡ºçš„å›¾åƒçš„sizeå¤§å°</li>
<li>dst â€“ è¾“å‡ºçš„å›¾åƒ</li>
<li>flags â€“ è¾“å‡ºå›¾åƒçš„æ’å€¼æ–¹æ³•</li>
<li>borderMode â€“ å›¾åƒè¾¹ç•Œçš„å¤„ç†æ–¹å¼</li>
<li>borderValue â€“ å½“å›¾åƒè¾¹ç•Œå¤„ç†æ–¹å¼ä¸º<code>BORDER_CONSTANT</code> æ—¶çš„å¡«å……å€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../imgs/pi.png&#x27;</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">height, width = img.shape</span><br><span class="line">M = cv2.getRotationMatrix2D((width / <span class="number">2</span>, height / <span class="number">2</span>), <span class="number">270</span>, <span class="number">0.8</span>)</span><br><span class="line">result = cv2.warpAffine(img, M, dsize=<span class="literal">None</span>, dst=<span class="literal">None</span>, flags=cv2.BORDER_CONSTANT, borderValue=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;result&#x27;</span>, result)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;image&#x27;</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">0</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<p><img src="https://images2.imgbox.com/05/48/8NwA8q5F_o.png"></p>
<h2 id="ä»¿å°„å˜æ¢"><a href="#ä»¿å°„å˜æ¢" class="headerlink" title="ä»¿å°„å˜æ¢"></a>ä»¿å°„å˜æ¢</h2><p>åœ¨ä»¿å°„å˜æ¢ä¸­ï¼ŒåŸå›¾ä¸­æ‰€æœ‰çš„å¹³è¡Œçº¿åœ¨ç»“æœå›¾åƒä¸­åŒæ ·å¹³è¡Œã€‚ä¸ºäº†åˆ›å»ºè¿™<br>ä¸ªçŸ©é˜µæˆ‘ä»¬éœ€è¦ä»åŸå›¾åƒä¸­æ‰¾åˆ°ä¸‰ä¸ªç‚¹ä»¥åŠä»–ä»¬åœ¨è¾“å‡ºå›¾åƒä¸­çš„ä½ç½®ã€‚ç„¶å<br>cv2.getAffineTransform ä¼šåˆ›å»ºä¸€ä¸ª 2x3 çš„çŸ©é˜µï¼Œæœ€åè¿™ä¸ªçŸ©é˜µä¼šè¢«ä¼ ç»™<br>å‡½æ•° cv2.warpAffineã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../imgs/pi.png&quot;</span>)</span><br><span class="line">rows, cols, ch = img.shape</span><br><span class="line">pts1 = np.float32([[<span class="number">50</span>, <span class="number">50</span>], [<span class="number">200</span>, <span class="number">50</span>], [<span class="number">50</span>, <span class="number">200</span>]])</span><br><span class="line">pts2 = np.float32([[<span class="number">10</span>, <span class="number">100</span>], [<span class="number">200</span>, <span class="number">50</span>], [<span class="number">100</span>, <span class="number">250</span>]])</span><br><span class="line"></span><br><span class="line">M = cv2.getAffineTransform(pts1, pts2)</span><br><span class="line">dst = cv2.warpAffine(img, M, (cols, rows))</span><br><span class="line">plt.subplot(<span class="number">121</span>, plt.imshow(img), plt.title(<span class="string">&#x27;Input&#x27;</span>))</span><br><span class="line">plt.subplot(<span class="number">121</span>, plt.imshow(img), plt.title(<span class="string">&#x27;Output&#x27;</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    cols = int(cols)</span><br><span class="line">TypeError: int() argument must be a string, a bytes-like object or a number, not &#x27;AxesImage&#x27;</span><br></pre></td></tr></table></figure>



<h2 id="å›¾åƒçš„ç¿»è½¬"><a href="#å›¾åƒçš„ç¿»è½¬" class="headerlink" title="å›¾åƒçš„ç¿»è½¬"></a>å›¾åƒçš„ç¿»è½¬</h2><p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li>src â€“ è¾“å…¥çš„å›¾åƒ</li>
<li>dst â€“ è¾“å‡ºçš„å›¾åƒ</li>
<li>flipCode â€“ ç¿»è½¬æ¨¡å¼ï¼ŒflipCode==0å‚ç›´ç¿»è½¬ï¼ˆæ²¿Xè½´ç¿»è½¬ï¼‰ï¼ŒflipCode&gt;0æ°´å¹³ç¿»è½¬ï¼ˆæ²¿Yè½´ç¿»è½¬ï¼‰ï¼ŒflipCode&lt;0æ°´å¹³å‚ç›´ç¿»è½¬ï¼ˆå…ˆæ²¿Xè½´ç¿»è½¬ï¼Œå†æ²¿Yè½´ç¿»è½¬ï¼Œç­‰ä»·äºæ—‹è½¬180Â°ï¼‰</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../imgs/pi.png&quot;</span>)</span><br><span class="line">flip_img = cv2.flip(img, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;image&#x27;</span>, img)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;flip_img&#x27;</span>, flip_img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">0</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<p><img src="https://images2.imgbox.com/42/8f/vV1TXa67_o.png"></p>
]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenCVæ‰“ä¸å¼€æ‘„åƒå¤´:Process finished with exit code 134</title>
    <url>/2019/12/29/OpenCV%E6%89%93%E4%B8%8D%E5%BC%80%E6%91%84%E5%83%8F%E5%A4%B4-Process-finished-with-exit-code-134/</url>
    <content><![CDATA[<p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Process finished with exit code 134 (interrupted by signal 6: SIGABRT)</span><br></pre></td></tr></table></figure>



<span id="more"></span>

<br>

<p>ä¸€ä¸ªåœ¨æ ‘è“æ´¾ä¸Šå®Œå…¨æ²¡æœ‰é—®é¢˜çš„æ‰“å¼€æ‘„åƒå¤´çš„è„šæœ¬ï¼Œåœ¨ç¬”è®°æœ¬ä¸Šè·‘æ—¶æŠ¥é”™ï¼Œæ‘„åƒå¤´æ— æ³•æ‰“å¼€ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_ coding:utf-8 _*_</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line">camera = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    ret, frame = camera.read()</span><br><span class="line">    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;frame&#x27;</span>, frame)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<p>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†å¾ˆä¹…ï¼Œå¤–ç½‘ä¸ŠæŸ¥äº†å¾ˆä¹…ä¹Ÿæ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚å› ä¸ºæ ‘è“æ´¾ä¸ŠæŒ‚äº†æ‘„åƒå¤´ï¼Œæ’æ‹”ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå¹¶ä¸”å…¬å¸çš„æ˜¾ç¤ºå™¨æ˜¯VGAæ¥å£ï¼Œæ‰€ä»¥ä»Šå¤©å‡ºé—¨æ²¡å¸¦æ ‘è“æ´¾ã€‚ä¸‹åˆæ‰“å¼€PyCharmæƒ³ç»§ç»­å­¦ä¹ ä¸€ä¸‹OpenCVï¼Œä½†æ˜¯åˆè¢«è¿™ä¸ªé”™ç»™æ‹¦ä½äº†ã€‚</p>
<p><img src="https://images2.imgbox.com/cc/da/H0fN8Zqp_o.png" alt="æŠ¥é”™ä¿¡æ¯"></p>
<p>æ— æ„é—´æƒ³åˆ°ä¼šä¸ä¼šæ˜¯Pythonæ²¡æœ‰æƒé™è°ƒç”¨ç³»ç»Ÿæ‘„åƒå¤´å¯¼è‡´çš„ï¼Œç„¶ååœ¨ç»ˆç«¯ç”¨ç®¡ç†å‘˜æƒé™è·‘ä¸€ä¸‹è¿™ä¸ªè„šæœ¬ï¼Œç„¶åç³»ç»Ÿå¼¹å‡ºä¸€ä¸ªå¼¹çª—ï¼Œå¤§æ¦‚æ„æ€æ˜¯è¯¢é—®<strong>â€œæ˜¯å¦å…è®¸Pythonè°ƒç”¨æ‘„åƒå¤´â€</strong>ï¼Œæˆ‘è¿˜æƒ³æ€è€ƒä¸€ä¼šå„¿ï¼Œç„¶åç»ˆç«¯å°±æŠ¥é”™äº†ï¼š</p>
<p><img src="https://images2.imgbox.com/7b/ae/F5xewqqb_o.png" alt="æŠ¥é”™ä¿¡æ¯"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Process finished with exit code 134 (interrupted by signal 6: SIGABRT)</span><br></pre></td></tr></table></figure>

<p>åŸæ¥ä¹‹å‰ä¸€ç›´éƒ½æ˜¯å› ä¸ºæƒé™çš„åŸå› ï¼Œç„¶åç‚¹äº†å…è®¸ï¼Œä¹‹åå°±ä¸æŠ¥é”™äº†ã€‚</p>
]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>@PreAuthorize and @PostAuthorize</title>
    <url>/2020/10/20/PreAuthrize-and-PostAuthrize/</url>
    <content><![CDATA[<p>@PreAuthorize å’Œ @PostAuthorizeæ˜¯SpringSecurityä¸­å¸¸ç”¨çš„ä¸¤ä¸ªæ³¨è§£ï¼Œç®€å•äº†è§£ä¸€ä¸‹ä»–ä»¬çš„ç”¨æ³•å§ï¼</p>
<span id="more"></span>

<h2 id="å¼€å¯éªŒè¯"><a href="#å¼€å¯éªŒè¯" class="headerlink" title="å¼€å¯éªŒè¯"></a>å¼€å¯éªŒè¯</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bill.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.password.PasswordEncoder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> :  zhulongkun20@gmail.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> :  10-20-2020 15:27:16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> :  SpringSecurityé…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> :  v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="meta">@EnableGlobalMethodSecurity(prePostEnabled = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// åŸºäºå†…å­˜çš„æ–¹å¼æ„å»ºä¸¤ä¸ªç”¨æˆ·ï¼Œuser/123456ï¼Œadmin/123456</span></span><br><span class="line">        auth.inMemoryAuthentication()</span><br><span class="line">                .passwordEncoder(passwordEncoder())</span><br><span class="line">                .withUser(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">                .password(passwordEncoder().encode(<span class="string">&quot;123456&quot;</span>))</span><br><span class="line">                .roles(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        auth.inMemoryAuthentication()</span><br><span class="line">                .passwordEncoder(passwordEncoder())</span><br><span class="line">                .withUser(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">                .password(passwordEncoder().encode(<span class="string">&quot;123456&quot;</span>))</span><br><span class="line">                .roles(<span class="string">&quot;normal&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="PreAuthorizeæ³¨è§£"><a href="#PreAuthorizeæ³¨è§£" class="headerlink" title="@PreAuthorizeæ³¨è§£"></a>@PreAuthorizeæ³¨è§£</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bill.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.access.prepost.PreAuthorize;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> :  zhulongkun20@gmail.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> :  10-20-2020 15:22:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> :  HomeController</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> :  v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, spring security.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/helloNormal&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;hasAnyRole(&#x27;normal&#x27;)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">helloNormal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, normal.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/helloAdmin&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;hasAnyRole(&#x27;admin&#x27;)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">helloAdmin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, admin&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å½“@EnableGlobalMethodSecurity(prePostEnabled = true)å¼€å¯çš„æ—¶å€™ï¼Œ@PreAuthorizeæ³¨è§£ç”Ÿæ•ˆï¼Œæ”¯æŒSpringELè¡¨è¾¾å¼ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åªè¦æœ‰å…¶ä¸­ä¸€ä¸ªæƒé™å³å¯è®¿é—®</span></span><br><span class="line"><span class="meta">@PreAuthorize(&quot;hasAnyRole(&quot;admin&quot;, &quot;normal&quot;)&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒæ—¶æ»¡è¶³æ¡ä»¶æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="meta">@PreAuthorize(&quot;hasRole(&#x27;admin&#x27;) AND hasRole(&#x27;normal&#x27;)&quot;)</span></span><br></pre></td></tr></table></figure>



<h2 id="PostAuthorize"><a href="#PostAuthorize" class="headerlink" title="@PostAuthorize"></a>@PostAuthorize</h2><p>@PostAuthorize æ³¨è§£ä½¿ç”¨å¹¶ä¸å¤šï¼Œåœ¨æ–¹æ³•æ‰§è¡Œåå†è¿›è¡Œæƒé™éªŒè¯ï¼Œé€‚åˆéªŒè¯å¸¦æœ‰è¿”å›å€¼çš„æƒé™ï¼ŒSpring EL æä¾›è¿”å›å¯¹è±¡èƒ½å¤Ÿåœ¨è¡¨è¾¾å¼è¯­è¨€ä¸­è·å–è¿”å›çš„å¯¹è±¡returnObjectã€‚</p>
<p>å½“@EnableGlobalMethodSecurity(prePostEnabled = true)çš„æ—¶å€™ï¼Œ@PostAuthorizeå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/helloUser&quot;)</span></span><br><span class="line"><span class="meta">@PostAuthorize(&quot;returnObject != null &amp;&amp;  returnObject.username == authentication.name&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">helloUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Object pricipal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();</span><br><span class="line">    User user;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;anonymousUser&quot;</span>.equals(pricipal)) &#123;</span><br><span class="line">        user = <span class="keyword">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        user = (User) pricipal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å†…ç½®è¡¨è¾¾å¼ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¡¨è¾¾å¼</th>
<th align="left">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left">hasRole([role])</td>
<td align="left">å¦‚æœæœ‰å½“å‰è§’è‰², åˆ™è¿”å› true(ä¼šè‡ªåŠ¨åŠ ä¸Š ROLE_ å‰ç¼€)</td>
</tr>
<tr>
<td align="left">hasAnyRole([role1, role2])</td>
<td align="left">å¦‚æœæœ‰ä»»ä¸€è§’è‰²å³å¯é€šè¿‡æ ¡éªŒ, è¿”å›true,(ä¼šè‡ªåŠ¨åŠ ä¸Š ROLE_ å‰ç¼€)</td>
</tr>
<tr>
<td align="left">hasAuthority([authority])</td>
<td align="left">å¦‚æœæœ‰æŒ‡å®šæƒé™, åˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">hasAnyAuthority([authority1, authority2])</td>
<td align="left">å¦‚æœæœ‰ä»»ä¸€æŒ‡å®šæƒé™, åˆ™è¿”å›true</td>
</tr>
<tr>
<td align="left">principal</td>
<td align="left">è·å–å½“å‰ç”¨æˆ·çš„ principal ä¸»ä½“å¯¹è±¡</td>
</tr>
<tr>
<td align="left">authentication</td>
<td align="left">è·å–å½“å‰ç”¨æˆ·çš„ authentication å¯¹è±¡,</td>
</tr>
<tr>
<td align="left">permitAll</td>
<td align="left">æ€»æ˜¯è¿”å› true, è¡¨ç¤ºå…¨éƒ¨å…è®¸</td>
</tr>
<tr>
<td align="left">denyAll</td>
<td align="left">æ€»æ˜¯è¿”å› false, ä»£è¡¨å…¨éƒ¨æ‹’ç»</td>
</tr>
<tr>
<td align="left">isAnonymous()</td>
<td align="left">å¦‚æœæ˜¯åŒ¿åè®¿é—®, è¿”å›true</td>
</tr>
<tr>
<td align="left">isRememberMe()</td>
<td align="left">å¦‚æœæ˜¯remember-me è‡ªåŠ¨è®¤è¯, åˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">isAuthenticated()</td>
<td align="left">å¦‚æœä¸æ˜¯åŒ¿åè®¿é—®, åˆ™è¿”å›true</td>
</tr>
<tr>
<td align="left">isFullAuthenticated()</td>
<td align="left">å¦‚æœä¸æ˜¯åŒ¿åè®¿é—®æˆ–remember-meè®¤è¯ç™»é™†, åˆ™è¿”å›true</td>
</tr>
<tr>
<td align="left">hasPermission(Object target, Object permission)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">hasPermission(Object target, String targetType, Object permission)</td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="Secured"><a href="#Secured" class="headerlink" title="@Secured"></a>@Secured</h2><p>å½“@EnableGlobalMethodSecurity(securedEnabled = true)çš„æ—¶å€™ï¼Œ@Securedå¯ä»¥ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/helloUser&quot;)</span></span><br><span class="line"><span class="meta">@Secured(&#123;&quot;ROLE_admin&quot;, &quot;ROLE_normal&quot;&#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">helloUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello, user&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‹¥æœ‰normalæˆ–è€…adminè§’è‰²çš„ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®helloUser()æ–¹æ³•ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œ <strong>åŒ¹é…çš„å­—ç¬¦ä¸²éœ€è¦æ·»åŠ å‰ç¼€â€œROLE_â€œ</strong>ï¼Œå¦‚æœæˆ‘ä»¬è¦æ±‚ï¼Œåªæœ‰åŒæ—¶æ‹¥æœ‰admin &amp; normalçš„ç”¨æˆ·æ‰èƒ½è®¿é—®helloUser()æ–¹æ³•ï¼Œè¿™æ—¶å€™@Securedå°±æ— èƒ½ä¸ºåŠ›äº†ã€‚</p>
]]></content>
      <categories>
        <category>SpringSecurity</category>
      </categories>
      <tags>
        <tag>SpringSecurity</tag>
      </tags>
  </entry>
  <entry>
    <title>Required request body is missing</title>
    <url>/2020/11/21/Required-request-body-is-missing/</url>
    <content><![CDATA[<p>ç”¨postmanæµ‹è¯•æ¥å£ä¸€ç›´æŠ¥é”™ï¼Œæç¤ºï¼šRequired request body is missingã€‚</p>
<p>ç”¨æµè§ˆå™¨è¯·æ±‚å’Œç”¨postman post + paramæ–¹å¼è¯·æ±‚éƒ½è¯´body missingï¼Œåå°æ¥å£åŠ äº†@RequestBodyæ³¨è§£ã€‚</p>
<p>ç½‘ä¸ŠæŸ¥äº†ä¸€ä¼šå„¿èµ„æ–™æ‰å‘ç°åŸæ¥æ˜¯è¯·æ±‚æ–¹å¼ä¸å¯¹ï¼Œå‚æ•°åº”è¯¥æ”¾åœ¨bodyä¸­å¹¶ä¸”ä»¥jsonæ–¹å¼ä¼ é€’ã€‚</p>
<p><img src="https://images2.imgbox.com/5a/72/iqBc5Okx_o.png" alt="image-20201121165917262"></p>
]]></content>
      <categories>
        <category>SpringMVC</category>
      </categories>
      <tags>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title>Reset Your IDE Eval Information</title>
    <url>/2021/05/01/Reset-Your-IDE-Eval-Information/</url>
    <content><![CDATA[<p>IDEAæ— é™è¯•ç”¨</p>
<br>

<blockquote>
<h1 id="Reset-Your-IDE-Eval-Information"><a href="#Reset-Your-IDE-Eval-Information" class="headerlink" title="Reset Your IDE Eval Information"></a>Reset Your IDE Eval Information</h1><ol>
<li><p>Download and install plugin from</p>
<p> Download Link: <a href="https://plugins.zhile.io/files/ide-eval-resetter-2.1.14-d2fedb86.zip">Download Link</a></p>
<ul>
<li>Alternative installation method:<ul>
<li>Add â€œCustom Plugin Repositoryâ€: <code>https://plugins.zhile.io</code> manually (<code>Settings/Preferences</code> -&gt; <code>Plugins</code>)</li>
<li>Search and install plugin: <code>IDE Eval Reset</code></li>
</ul>
</li>
</ul>
</li>
<li><p>Click <code>Help</code> or <code>Get Help</code> -&gt; <code>Eval Reset</code> menu.</p>
</li>
<li><p>Click <code>Reset</code> -&gt; <code>Yes</code> button.</p>
</li>
<li><p>Restart your IDE.</p>
</li>
<li><p>Now you have another 30 days eval time :)</p>
</li>
<li><p>For more information, visit <a href="https://zhile.io/2020/11/18/jetbrains-eval-reset-da33a93d.html">here</a>.</p>
</li>
</ol>
</blockquote>
<p>IDEAç‰ˆæœ¬ï¼š 2020.3</p>
<p>é¡¹ç›®åœ°å€ï¼š <a href="https://gitee.com/pengzhile/ide-eval-resetter">Reset Your IDE Eval Information</a></p>
]]></content>
      <categories>
        <category>IDEA</category>
      </categories>
      <tags>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°-ç¬¬ä¸€ç« -Springä¹‹æ—…</title>
    <url>/2018/11/14/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/</url>
    <content><![CDATA[<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šSpringçš„æ ¸å¿ƒ</p>
<ul>
<li><p>ç¬¬ä¸€ç« ï¼šSpringä¹‹æ—…</p>
<p>ä»‹ç»Springæ¡†æ¶ï¼ŒåŒ…æ‹¬Spring DIå’ŒAOPã€‚</p>
</li>
<li><p>ç¬¬äºŒç« ï¼šè£…é…Bean</p>
<p>Springçš„è‡ªåŠ¨é…ç½®ã€åŸºäºJavaçš„é…ç½®å’ŒXMLé…ç½®ã€‚</p>
</li>
<li><p>ç¬¬ä¸‰ç« ï¼šé«˜çº§è£…é…</p>
<p>Springçš„æ¡ä»¶åŒ–é…ç½®ï¼Œå¤„ç†è‡ªåŠ¨è£…é…æ—¶çš„æ­§ä¹‰æ€§ï¼Œä½œç”¨åŸŸä»¥åŠSpringè¡¨è¾¾å¼è¯­è¨€ã€‚</p>
</li>
<li><p>ç¬¬å››ç« ï¼šé¢å‘åˆ‡é¢çš„Spring</p>
<p>å±•ç¤ºå¦‚ä½•ä½¿ç”¨Springçš„AOPç‰¹æ€§æŠŠç³»ç»Ÿçº§æœåŠ¡ä»å®ƒä»¬æ‰€æœåŠ¡çš„å¯¹è±¡ä¸­è§£è€¦å‡ºæ¥ã€‚</p>
</li>
</ul>
<span id="more"></span>





<hr>
<p>ç¬¬ä¸€ç«  Springä¹‹æ—…</p>
<p>æœ¬ç« å†…å®¹ï¼š</p>
<ul>
<li>Springçš„Beanå®¹å™¨</li>
<li>ä»‹ç»Springçš„æ ¸å¿ƒæ¨¡å—</li>
<li>æ›´ä¸ºå¼ºå¤§çš„Springç”Ÿæ€ç³»ç»Ÿ</li>
<li>Springçš„æ–°åŠŸèƒ½</li>
</ul>
<p><strong>åˆ›å»ºSpringçš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥æ›¿ä»£æ›´åŠ é‡é‡çº§çš„ä¼ä¸šçº§JavaæŠ€æœ¯ï¼Œå°¤å…¶æ˜¯EJBã€‚</strong>ç›¸å½“äºEJBæ¥è¯´ï¼ŒSpringæä¾›äº†æ›´åŠ è½»é‡çº§å’Œæ›´åŠ ç®€å•çš„ç¼–ç¨‹æ¨¡å‹ã€‚</p>
<hr>
<h3 id="1-1-ç®€åŒ–Javaå¼€å‘"><a href="#1-1-ç®€åŒ–Javaå¼€å‘" class="headerlink" title="1.1 ç®€åŒ–Javaå¼€å‘"></a>1.1 ç®€åŒ–Javaå¼€å‘</h3><h4 id="1-1-1-Springçš„éä¾µå…¥å¼ç¼–ç¨‹"><a href="#1-1-1-Springçš„éä¾µå…¥å¼ç¼–ç¨‹" class="headerlink" title="1.1.1 Springçš„éä¾µå…¥å¼ç¼–ç¨‹"></a>1.1.1 Springçš„éä¾µå…¥å¼ç¼–ç¨‹</h4><p>åœ¨åŸºäºSpringæ„å»ºçš„åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ä¸ä¼šæœ‰ä»»ä½•ç—•è¿¹è¡¨æ˜ä½ ä½¿ç”¨äº†Springï¼Œæœ€åçš„åœºæ™¯æ˜¯åœ¨ä¸€ä¸ªç±»ä¸Šä½¿ç”¨äº†Springæ³¨è§£ï¼Œä½†æ˜¯è¿™ä¸ªç±»ä¾æ—§æ˜¯ä¸€ä¸ªPojoç±»ã€‚</p>
<p>Springçš„éä¾µå…¥å¼ç¼–ç¨‹æ¨¡å‹æ„å‘³ç€è¿™ä¸ªç±»åœ¨Springåº”ç”¨è¿˜æ˜¯åœ¨éSpringåº”ç”¨ä¸­éƒ½èƒ½å‘æŒ¥åŒæ ·çš„ä½œç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/14 ä¸‹åˆ9:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello world&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-1-2-ä¾èµ–æ³¨å…¥"><a href="#1-1-2-ä¾èµ–æ³¨å…¥" class="headerlink" title="1.1.2 ä¾èµ–æ³¨å…¥"></a>1.1.2 ä¾èµ–æ³¨å…¥</h4><p>åœ¨ä¸€ä¸ªåº”ç”¨ä¸­é€šå¸¸ä¼šæ¶‰åŠåˆ°å¾ˆå¤šç±»ï¼Œè¿™äº›ç±»éœ€è¦ç›¸äº’åä½œæ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½ï¼Œå¦‚æœè®©æ¯ä¸ªç±»ç®¡ç†ä¸è‡ªå·±åä½œçš„ç±»ï¼Œåˆ™ä¼šå¯¼è‡´åº”ç”¨é«˜åº¦è€¦åˆã€‚</p>
<blockquote>
<p> ä¾èµ–æ³¨å…¥å¸¦æ¥çš„æœ€å¤§å¥½å¤„å°±æ˜¯æ¾è€¦åˆã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡åªé€šè¿‡å€Ÿå£æ¥è¡¨æ˜ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆè¿™ç§ä¾èµ–å°±èƒ½å¤Ÿåœ¨å¯¹è±¡æ¯«ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç”¨ä¸åŒçš„å®ç°æ›¿æ¢ã€‚</p>
<p>å¯ä»¥è®©å¯¹å…¶ä»–çš„ç±»æœ‰ä¾èµ–çš„ç±»è‡ªåŠ¨è·å¾—å·²ç»å‡†å¤‡å¥½çš„ä¾èµ–ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªé€å¤–å–çš„è¿‡ç¨‹ï¼šå½“ä¸æ˜¯ç”¨DIçš„æ—¶å€™é€é¤å‘˜éœ€è¦è‡ªå·±å‡†å¤‡å¤–å–ï¼Œç„¶åå†é…é€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.clerk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.com.food.Dinner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/15 ä¸‹åˆ8:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeliveryWithoutDI</span> <span class="keyword">implements</span> <span class="title">Delivery</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Dinner dinner;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DeliveryWithoutDI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dinner = <span class="keyword">new</span> Dinner(<span class="string">&quot;rice&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delivery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delivery it on time.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å½“ä½¿ç”¨DIä¹‹åï¼Œå½“æœ‰å¤–å–éœ€è¦é…é€çš„æ—¶å€™ï¼Œåˆ†é…é€é¤å‘˜ï¼Œé€é¤å‘˜ä¼šè‡ªåŠ¨è·å¾—éœ€è¦é…é€çš„å¤–å–ï¼Œéœ€è¦åšçš„åªæ˜¯è´Ÿè´£é…é€ï¼Œè€Œä¸ç”¨å…³å¿ƒå…¶ä»–äº‹æƒ…ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.clerk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.com.food.Dinner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/15 ä¸‹åˆ8:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeliveryClerk</span> <span class="keyword">implements</span> <span class="title">Delivery</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Dinner dinner;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DeliveryClerk</span><span class="params">(Dinner dinner)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dinner = dinner;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delivery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delivery on time.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-1-3-åº”ç”¨åˆ‡é¢"><a href="#1-1-3-åº”ç”¨åˆ‡é¢" class="headerlink" title="1.1.3 åº”ç”¨åˆ‡é¢"></a>1.1.3 åº”ç”¨åˆ‡é¢</h4><blockquote>
<p>é¢å‘åˆ‡é¢ç¼–ç¨‹å…è®¸ä½ æŠŠéå¸ƒåº”ç”¨å„å¤„çš„åŠŸèƒ½åˆ†ç¦»å‡ºæ¥å½¢æˆå¯é‡ç”¨çš„ç»„ä»¶ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªç³»ç»Ÿæˆ–åº”ç”¨ç”±è®¸å¤šä¸åŒçš„ç»„ä»¶æ„æˆï¼Œä½†æ˜¯æ¯ä¸€ä¸ªç»„ä»¶åœ¨è´Ÿè´£è‡ªå·±çš„åŠŸèƒ½ä¹‹å¤–ï¼Œé€šå¸¸è¿˜è¦æ‰¿æ‹…é¢å¤–çš„è´£ä»»ã€‚ä¸€äº›ä¸æ ¸å¿ƒä¸šåŠ¡æ— å…³çš„ä»£ç ä¼šèå…¥åˆ°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸­ã€‚æ¯”å¦‚è½¬è´¦ï¼Œé™¤äº†å‘ç”Ÿé‡‘é’±çš„è½¬ç§»ä¹‹å¤–ï¼Œè¿˜è¦éªŒè¯èº«ä»½ã€è®°å½•è´¦å•ä»¥åŠç»™ç”¨æˆ·å‘é€é€šçŸ¥ã€‚è¿™äº›ä¼šè·¨è¶Šç³»ç»Ÿçš„ç»„ä»¶æˆä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å®ƒä»¬ä¼šä½¿æ ¸å¿ƒä¸šåŠ¡ä»£ç å˜å¾—å¤æ‚ã€‚</p>
<p><img src="https://image.youyou-2608.com/blog/AOP1.png" alt="Spring AOP"></p>
<p>é€šè¿‡AOPï¼Œå¯ä»¥å°†ä¸æ ¸å¿ƒä¸šåŠ¡æ— å…³çš„ä»£ç åˆ†ç¦»å‡ºæ¥ã€‚</p>
<h4 id="1-1-4-ä½¿ç”¨æ¨¡æ¿æ¶ˆé™¤æ ·æ¿å¼ä»£ç "><a href="#1-1-4-ä½¿ç”¨æ¨¡æ¿æ¶ˆé™¤æ ·æ¿å¼ä»£ç " class="headerlink" title="1.1.4 ä½¿ç”¨æ¨¡æ¿æ¶ˆé™¤æ ·æ¿å¼ä»£ç "></a>1.1.4 ä½¿ç”¨æ¨¡æ¿æ¶ˆé™¤æ ·æ¿å¼ä»£ç </h4><p>ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“ï¼Œä¼šäº§ç”Ÿå¤§é‡ä¸æŸ¥è¯¢è¯­å¥æ— å…³çš„ä»£ç ï¼Œè¿˜å¿…é¡»è¦æ•æ‰å¼‚å¸¸ï¼Œè™½ç„¶æ— æµäºäº‹ã€‚</p>
<p>Springæ—¨åœ¨é€šè¿‡æ¨¡æ¿å°è£…æ¥æ¶ˆé™¤æ ·æ¿å¼ä»£ç ã€‚</p>
<p><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html#spring-data-tier">Data Access with JDBC</a></p>
<h3 id="1-2-å®¹çº³ä½ çš„bean"><a href="#1-2-å®¹çº³ä½ çš„bean" class="headerlink" title="1.2 å®¹çº³ä½ çš„bean"></a>1.2 å®¹çº³ä½ çš„bean</h3><blockquote>
<p>åœ¨Springåº”ç”¨ä¸­ï¼Œä½ çš„åº”ç”¨å¯¹è±¡ç”Ÿå­˜äºSpringå®¹å™¨ä¸­ï¼ŒSpringå®¹å™¨è´Ÿè´£åˆ›å»ºå¯¹è±¡ï¼Œè£…é…å¹¶ç®¡ç†å®ƒä»¬çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p>
</blockquote>
<p>ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li>AnnotationConfigApplicationContextï¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºJavaçš„é…ç½®ç±»ä¸­åŠ è½½Springåº”ç”¨ä¸Šä¸‹æ–‡ã€‚</li>
<li>AnnotationConfigWebApplicationContextï¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºJavaçš„é…ç½®ç±»ä¸­åŠ è½½Spring Webåº”ç”¨ä¸Šä¸‹æ–‡ã€‚</li>
<li>ClassPathXmlApplicationContextï¼šä»ç±»è·¯å¾„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰ã€‚</li>
<li>FileSystemXmlApplicationContextï¼šä»æ–‡ä»¶ç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰ã€‚</li>
<li>XmlWebApplicationContextï¼šä»Webåº”ç”¨ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­è¿˜åœ¨ä¸Šä¸‹æ–‡å®šä¹‰ã€‚</li>
</ul>
<p>beançš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p><img src="https://image.youyou-2608.com/bean-lifecycle.png" alt="beançš„ç”Ÿå‘½å‘¨æœŸ"></p>
<p><img src="https://image.youyou-2608.com/bean2.png" alt="Beançš„ç”Ÿå‘½å‘¨æœŸ"></p>
<h3 id="1-3-ä¿¯ç°Springé£æ™¯çº¿"><a href="#1-3-ä¿¯ç°Springé£æ™¯çº¿" class="headerlink" title="1.3 ä¿¯ç°Springé£æ™¯çº¿"></a>1.3 ä¿¯ç°Springé£æ™¯çº¿</h3><p>Springçš„æ¨¡å—ï¼š</p>
<p><img src="https://image.youyou-2608.com/springmodel" alt="Springæ¨¡å—"></p>
<table>
<thead>
<tr>
<th><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/core.html#spring-core">Core</a></th>
<th>IoC container, Events, Resources, i18n, Validation, Data Binding, Type Conversion, SpEL, AOP.</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/testing.html#testing">Testing</a></td>
<td>Mock objects, TestContext framework, Spring MVC Test, WebTestClient.</td>
</tr>
<tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/data-access.html#spring-data-tier">Data Access</a></td>
<td>Transactions, DAO support, JDBC, ORM, Marshalling XML.</td>
</tr>
<tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web.html#spring-web">Web Servlet</a></td>
<td>Spring MVC, WebSocket, SockJS, STOMP messaging.</td>
</tr>
<tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web-reactive.html#spring-webflux">Web Reactive</a></td>
<td>Spring WebFlux, WebClient, WebSocket.</td>
</tr>
<tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/integration.html#spring-integration">Integration</a></td>
<td>Remoting, JMS, JCA, JMX, Email, Tasks, Scheduling, Cache.</td>
</tr>
<tr>
<td><a href="https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/languages.html#languages">Languages</a></td>
<td>Kotlin, Groovy, Dynamic languages.</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootåŸºç¡€å­¦ä¹ ç¬”è®°</title>
    <url>/2019/01/01/SpringBoot%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="å†…å®¹æ¦‚è¦"><a href="#å†…å®¹æ¦‚è¦" class="headerlink" title="å†…å®¹æ¦‚è¦"></a>å†…å®¹æ¦‚è¦</h2><ol>
<li>SpringBootå…¥é—¨</li>
<li>SpringBooté…ç½®</li>
<li>SpringBootä¸æ—¥å¿—</li>
<li>SpringBootä¸Webå¼€å‘</li>
<li>SpringBootä¸Docker</li>
<li>SpringBootä¸æ•°æ®è®¿é—®</li>
<li>SpringBootå¯åŠ¨é…ç½®åŸç†</li>
<li>SpringBootè‡ªå®šä¹‰Starters</li>
<li>SpringBootä¸ç¼“å­˜</li>
<li>SpringBootä¸æ¶ˆæ¯</li>
<li>SpringBootä¸æ£€ç´¢</li>
<li>SpringBootä¸ä»»åŠ¡</li>
<li>SpringBootä¸å®‰å…¨</li>
<li>SpringBootä¸åˆ†å¸ƒå¼</li>
<li>SpringBootä¸å¼€å‘çƒ­éƒ¨ç½²</li>
<li>SpringBootä¸ç›‘æ§ç®¡ç†</li>
</ol>
<h2 id="ç¬¬ä¸€ç« -SpringBootå…¥é—¨"><a href="#ç¬¬ä¸€ç« -SpringBootå…¥é—¨" class="headerlink" title="ç¬¬ä¸€ç«  SpringBootå…¥é—¨"></a>ç¬¬ä¸€ç«  SpringBootå…¥é—¨</h2><h3 id="1-1-SpringBootç®€ä»‹"><a href="#1-1-SpringBootç®€ä»‹" class="headerlink" title="1.1 SpringBootç®€ä»‹"></a>1.1 SpringBootç®€ä»‹</h3><p>ç‰¹ç‚¹ï¼šçº¦å®šå¤§äºé…ç½®ï¼›å»ç¹ä»ç®€ï¼›</p>
<span id="more"></span>



<p>èƒŒæ™¯ï¼š </p>
<p>J2EEç¬¨é‡çš„å¼€å‘ï¼›</p>
<p>ç¹å¤šçš„é…ç½®ï¼›</p>
<p>ä½ä¸‹çš„æ•ˆç‡ï¼›</p>
<p>å¤æ‚çš„éƒ¨ç½²ï¼›</p>
<p>ç¬¬ä¸‰æ–¹æŠ€æœ¯é›†æˆéš¾åº¦å¤§ï¼›</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>SpringBootï¼šä¸€ç«™å¼J2EEçš„è§£å†³æ–¹æ¡ˆï¼›</p>
<p>SpringCloudï¼šåˆ†å¸ƒå¼æ•´ä½“è§£å†³æ–¹æ¡ˆï¼›</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>å¿«é€Ÿåˆ›å»ºå¯ç‹¬ç«‹è¿è¡Œçš„Springé¡¹ç›®å¹¶ä¸ä¸»æµæ¡†æ¶é›†æˆï¼›</p>
<p>startersè‡ªåŠ¨ä¾èµ–ç®¡ç†åŠç‰ˆæœ¬æ§åˆ¶ï¼›</p>
<p>ä½¿ç”¨åµŒå…¥çš„Servletå®¹å™¨ï¼Œåº”ç”¨æ— éœ€æ‰“åŒ…ï¼›</p>
<p>å¤§é‡çš„è‡ªåŠ¨é…ç½®ï¼Œç®€åŒ–å¼€å‘ï¼Œä¹Ÿå¯ä¿®æ”¹é»˜è®¤å€¼ï¼›</p>
<p>æ— éœ€é…ç½®XMLï¼Œæ— ä»£ç ç”Ÿæˆï¼Œå¼€ç®±å³ç”¨ï¼›</p>
<p>å‡†ç”Ÿäº§ç¯å¢ƒçš„è¿è¡Œæ—¶åº”ç”¨ç›‘æ§ï¼›</p>
<p>æ˜¯å¯¹SpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªæ•´åˆã€‚</p>
<hr>
<h3 id="1-2-å¾®æœåŠ¡"><a href="#1-2-å¾®æœåŠ¡" class="headerlink" title="1.2 å¾®æœåŠ¡"></a>1.2 å¾®æœåŠ¡</h3><p>å•ä½“åº”ç”¨ï¼š å¼€å‘ï¼Œæµ‹è¯•ï¼Œéƒ¨ç½²ç®€å•ï¼›</p>
<p>å¾®æœåŠ¡ï¼šåŠŸèƒ½æ‹†åˆ†ï¼Œçµæ´»é…ç½®ï¼Œé€šä¿¡åä½œã€‚</p>
<p>SpringBootå®˜ç½‘ &gt; å¾®æœåŠ¡æ–‡æ¡£</p>
<hr>
<h3 id="1-3-å¼€å‘ç¯å¢ƒé…ç½®"><a href="#1-3-å¼€å‘ç¯å¢ƒé…ç½®" class="headerlink" title="1.3 å¼€å‘ç¯å¢ƒé…ç½®"></a>1.3 å¼€å‘ç¯å¢ƒé…ç½®</h3><ol>
<li>JDKç‰ˆæœ¬ï¼›</li>
<li>mavenç‰ˆæœ¬ï¼›</li>
<li>å¼€å‘å·¥å…·é€‰æ‹©ï¼›</li>
<li>æ¡†æ¶ç‰ˆæœ¬é€‰æ‹©ï¼›</li>
</ol>
<hr>
<h3 id="1-4-ç¬¬ä¸€ä¸ªåº”ç”¨ï¼šHelloWorld"><a href="#1-4-ç¬¬ä¸€ä¸ªåº”ç”¨ï¼šHelloWorld" class="headerlink" title="1.4 ç¬¬ä¸€ä¸ªåº”ç”¨ï¼šHelloWorld"></a>1.4 ç¬¬ä¸€ä¸ªåº”ç”¨ï¼šHelloWorld</h3><ol>
<li>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®ï¼›</li>
<li>å¯¼å…¥SpringBootç›¸å…³ä¾èµ–ï¼›</li>
<li>ç¼–å†™ä¸»ç¨‹åºï¼Œå¯åŠ¨SpringBootåº”ç”¨ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MainApp.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>ç¼–å†™ä¸šåŠ¡é€»è¾‘ï¼ŒæœåŠ¡ï¼›</li>
<li>è¿è¡Œä¸»ç¨‹åºæµ‹è¯•ï¼›</li>
<li>æ‰“åŒ…jaråŒ…ï¼š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿è¡ŒjaråŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -jar xxx.jar</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="1-5-HelloWorldåŸç†æ¢ç©¶"><a href="#1-5-HelloWorldåŸç†æ¢ç©¶" class="headerlink" title="1.5 HelloWorldåŸç†æ¢ç©¶"></a>1.5 HelloWorldåŸç†æ¢ç©¶</h3><p>POMæ–‡ä»¶ï¼š</p>
<ol>
<li>çˆ¶é¡¹ç›®ï¼š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">çˆ¶é¡¹ç›®ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>SpringBootçš„<strong>ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ</strong>ï¼Œå¯¼å…¥ä¾èµ–ä¸éœ€è¦å†™ç‰ˆæœ¬å·ã€‚</p>
<ol>
<li>å¯¼å…¥çš„ä¾èµ–ï¼š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>spring-boot-starter-webï¼š</p>
<p>åœºæ™¯å¯åŠ¨å™¨ï¼šå¸®æˆ‘ä»¬å¯¼å…¥webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€éœ€çš„ä¾èµ–çš„ç»„ä»¶ï¼›</p>
<p>å°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯æŠ½å–å‡ºæ¥ï¼Œåšæˆå¯åŠ¨å™¨ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­å¯¼å…¥ç›¸å…³çš„starterï¼Œæ‰€æœ‰çš„ä¾èµ–éƒ½ä¼šè¢«å¯¼å…¥ï¼Œç‰ˆæœ¬ç”±spring-bootè‡ªåŠ¨ç®¡ç†ã€‚</p>
<hr>
<h3 id="1-6-ä¸»ç¨‹åºç±»åŸç†æ¢ç©¶"><a href="#1-6-ä¸»ç¨‹åºç±»åŸç†æ¢ç©¶" class="headerlink" title="1.6 ä¸»ç¨‹åºç±»åŸç†æ¢ç©¶"></a>1.6 ä¸»ç¨‹åºç±»åŸç†æ¢ç©¶</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-9-9 ä¸‹åˆ2:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MainApp.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@SpringBootApplicationæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼ŒæŒ‡å®šSpringBootçš„ä¸»é…ç½®ç±»ï¼Œç”±è¿™ä¸ªç±»æ¥å¯åŠ¨SpringBootåº”ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan(</span></span><br><span class="line"><span class="meta">    excludeFilters = &#123;@Filter(</span></span><br><span class="line"><span class="meta">    type = FilterType.CUSTOM,</span></span><br><span class="line"><span class="meta">    classes = &#123;TypeExcludeFilter.class&#125;</span></span><br><span class="line"><span class="meta">), @Filter(</span></span><br><span class="line"><span class="meta">    type = FilterType.CUSTOM,</span></span><br><span class="line"><span class="meta">    classes = &#123;AutoConfigurationExcludeFilter.class&#125;</span></span><br><span class="line"><span class="meta">)&#125;</span></span><br></pre></td></tr></table></figure>

<p>@SpringBootConfigurationï¼šæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯SpringBootçš„é…ç½®ç±»ã€‚</p>
<p>@Configurationï¼šé…ç½®ç±»ä¸Šæ ‡æ³¨è¯¥ç±»ã€‚é…ç½®ç±»ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼š@Componentï¼›</p>
<p>@EnableAutoConfigurationï¼šå¼€å¯è‡ªåŠ¨é…ç½®ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">éœ€è¦é…ç½®çš„ä¸œè¥¿ç”±SpringBootè‡ªåŠ¨é…ç½®ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">@AutoConfigurationPackage</span><br><span class="line">@Import(&#123;AutoConfigurationImportSelector.class&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@AutoConfigurationPackageï¼šè‡ªåŠ¨é…ç½®åŒ…ï¼Œç»™å®¹å™¨å¯¼å…¥ä¸€ä¸ªç»„ä»¶ï¼Œå¯¼å…¥çš„ç»„ä»¶ç”±AutoConfigurationPackage.Registrarï¼›</span><br><span class="line"></span><br><span class="line">å°†ä¸»é…ç½®ç±»æ‰€åœ¨çš„åŠä»¥ä¸‹æ‰€æœ‰çš„å­åŒ…é‡Œçš„æ‰€æœ‰ç»„ä»¶æ·»åŠ åˆ°Springå®¹å™¨ä¸­ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;Registrar.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AutoConfigurationPackage &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Importï¼šç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼šAutoConfigurationImportSelectorï¼šé€‰æ‹©å“ªäº›ç»„ä»¶å¯¼å…¥ã€‚</span><br><span class="line"></span><br><span class="line">	ç»™å®¹å™¨ä¸­å¯¼å…¥è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼šç»™å®¹å™¨ä¸­å¯¼å…¥åœºæ™¯éœ€è¦çš„æ‰€æœ‰çš„ç»„ä»¶å¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://image.youyou-2608.com/springboot/20180909151509.png" alt="é…ç½®ç±»"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> List&lt;String&gt; <span class="title">getCandidateConfigurations</span><span class="params">(AnnotationMetadata metadata, AnnotationAttributes attributes)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(<span class="keyword">this</span>.getSpringFactoriesLoaderFactoryClass(), <span class="keyword">this</span>.getBeanClassLoader());</span><br><span class="line">    Assert.notEmpty(configurations, <span class="string">&quot;No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> configurations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>SpringBootå¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹META-INF/spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼ï¼Œå°†è¿™äº›å€¼å¯¼å…¥åˆ°Springå®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆã€‚</strong></p>
<p>éœ€è¦è‡ªå·±æŒ‡å®šçš„é…ç½®ï¼Œå·²ç»ç”±é…ç½®ç±»è‡ªåŠ¨é…ç½®å¥½ã€‚</p>
<p>org/springframework/boot/spring-boot-autoconfigure/2.0.4.RELEASE/spring-boot-autoconfigure-2.0.4.RELEASE.jar!/META-INF/spring.factories</p>
<p><img src="https://image.youyou-2608.com/springboot/google-chrome_20180909152808.png" alt="è‡ªåŠ¨é…ç½®ç±»"></p>
<hr>
<h3 id="1-7-SpringBooté¡¹ç›®åˆå§‹åŒ–å™¨"><a href="#1-7-SpringBooté¡¹ç›®åˆå§‹åŒ–å™¨" class="headerlink" title="1.7 SpringBooté¡¹ç›®åˆå§‹åŒ–å™¨"></a>1.7 SpringBooté¡¹ç›®åˆå§‹åŒ–å™¨</h3><p>SpringBooté¡¹ç›®å‘å¯¼ï¼š</p>
<p><strong>IDEA &gt; New Project &gt; Spring Initializer &gt; é¡¹ç›®è¯¦æƒ… &gt; å¯¼å…¥ç›¸å…³åœºæ™¯ä¾èµ–ã€‚</strong></p>
<p>@RestControlleræ³¨è§£ï¼š</p>
<p>@ResponseBodyå’Œ@RequestMappingæ³¨è§£ç»„åˆã€‚</p>
<ol>
<li>è‡ªåŠ¨ç”Ÿæˆä¸»ç¨‹åºï¼›</li>
<li>/resourcesä¸­ç›®å½•ç»“æ„ï¼š<ol>
<li>staticï¼šä¿å­˜é™æ€èµ„æºï¼›</li>
<li>templatesï¼šå­˜æ‰€æœ‰çš„æ¨¡æ¿é¡µé¢(ä½¿ç”¨åµŒå…¥çš„tomcatï¼Œä¸æ”¯æŒJSPé¡µé¢ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨æ¨¡æ¿å¼•æ“)ï¼›</li>
<li>application.propertiesï¼šSpringBootçš„é»˜è®¤é…ç½®æ–‡ä»¶ã€‚</li>
</ol>
</li>
</ol>
<hr>
<h2 id="ç¬¬äºŒç« -SpringBooté…ç½®æ–‡ä»¶"><a href="#ç¬¬äºŒç« -SpringBooté…ç½®æ–‡ä»¶" class="headerlink" title="ç¬¬äºŒç«  SpringBooté…ç½®æ–‡ä»¶"></a>ç¬¬äºŒç«  SpringBooté…ç½®æ–‡ä»¶</h2><h3 id="2-1-SpringBooté…ç½®æ–‡ä»¶"><a href="#2-1-SpringBooté…ç½®æ–‡ä»¶" class="headerlink" title="2.1 SpringBooté…ç½®æ–‡ä»¶"></a>2.1 SpringBooté…ç½®æ–‡ä»¶</h3><p>SpringBootä½¿ç”¨å…¨å±€é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ã€‚</p>
<ul>
<li>application.propertiesï¼›</li>
<li>application.ymlã€‚</li>
</ul>
<p>é…ç½®æ–‡ä»¶çš„ä½œç”¨ï¼š<strong>ä¿®æ”¹SpringBooté»˜è®¤é…ç½®ã€‚</strong></p>
<p>YAMLï¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼Œä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ¯”jsonå’Œxmlæ›´é€‚åˆåšé…ç½®æ–‡ä»¶ã€‚</p>
<p>YAMLï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">	<span class="attr">port:</span> <span class="number">8081</span></span><br></pre></td></tr></table></figure>





<hr>
<h3 id="2-2-YAMLåŸºæœ¬è¯­æ³•"><a href="#2-2-YAMLåŸºæœ¬è¯­æ³•" class="headerlink" title="2.2 YAMLåŸºæœ¬è¯­æ³•"></a>2.2 YAMLåŸºæœ¬è¯­æ³•</h3><p>key: value    è¡¨ç¤ºé”®å€¼å¯¹ï¼Œå†’å·ä¹‹åçš„ç©ºæ ¼å¿…é¡»æœ‰çš„ï¼Œä»¥ç©ºæ ¼æ¥æ§åˆ¶å±‚çº§å…³ç³»ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span> </span><br><span class="line">	<span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">	<span class="attr">path:</span> <span class="string">/hello</span></span><br></pre></td></tr></table></figure>

<p><strong>å±æ€§å’Œå€¼å¤§å°å†™æ•æ„Ÿã€‚</strong></p>
<p>å­—é¢é‡ï¼šå­—ç¬¦ä¸²é»˜è®¤ä¸åŠ å•å¼•å·å’ŒåŒå¼•å·ï¼Œ<strong>åŒå¼•å·ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</strong>ï¼Œ<strong>å•å¼•å·ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</strong>ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">k:</span> <span class="string">v</span></span><br></pre></td></tr></table></figure>



<p>å¯¹è±¡(å±æ€§å’Œå€¼)ï¼šæœ¬è´¨æ˜¯é”®å€¼å¯¹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">student:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">å¼ ä¸‰</span></span><br><span class="line">	<span class="attr">age:</span> <span class="number">14</span></span><br></pre></td></tr></table></figure>

<p>è¡Œå†…å†™æ³•ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">student:</span> &#123;<span class="attr">name:</span> <span class="string">å¼ ä¸‰</span>,<span class="attr">age:</span> <span class="number">15</span>&#125;</span><br></pre></td></tr></table></figure>



<p>æ•°ç»„(List, Set)ï¼š</p>
<p>ç”¨-è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pets:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">dog</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">pig</span></span><br></pre></td></tr></table></figure>

<p>è¡Œå†…å†™æ³•ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pets:</span> [<span class="string">cat</span>,<span class="string">dog</span>,<span class="string">pig</span>]</span><br></pre></td></tr></table></figure>



<h4 id="2-2-1é…ç½®æ–‡ä»¶æ³¨å…¥ï¼š"><a href="#2-2-1é…ç½®æ–‡ä»¶æ³¨å…¥ï¼š" class="headerlink" title="2.2.1é…ç½®æ–‡ä»¶æ³¨å…¥ï¼š"></a>2.2.1é…ç½®æ–‡ä»¶æ³¨å…¥ï¼š</h4><p>application.ymlæ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">å¼ ä¸‰</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">alive:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">2018</span><span class="string">/09/11</span></span><br><span class="line">  <span class="attr">classes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">v1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">v2</span></span><br><span class="line">  <span class="attr">map:</span></span><br><span class="line">    <span class="attr">k1:</span> <span class="string">v1</span></span><br><span class="line">    <span class="attr">k2:</span> <span class="string">v2</span></span><br><span class="line">  <span class="attr">dog:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">dog</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>JavaBeanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.po;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-9-11 ä¸‹åˆ8:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;person&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> alive;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; classes;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; map;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, alive=&quot;</span> + alive +</span><br><span class="line">                <span class="string">&quot;, birth=&quot;</span> + birth +</span><br><span class="line">                <span class="string">&quot;, classes=&quot;</span> + classes +</span><br><span class="line">                <span class="string">&quot;, map=&quot;</span> + map +</span><br><span class="line">                <span class="string">&quot;, dog=&quot;</span> + dog +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ä¹‹åï¼Œç¼–å†™é…ç½®æ–‡ä»¶æœ‰IDEæ™ºèƒ½æç¤ºã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>@ConfigurationProperties(prefix = â€œpersonâ€)è·å–é…ç½®æ–‡ä»¶çš„å€¼ã€‚</p>
<p><strong>application.propertiesä¹±ç é—®é¢˜ï¼šfile encodingå‹¾é€‰å°†propertiesé…ç½®æ–‡ä»¶è½¬æ¢æˆasciiç ã€‚</strong></p>
<p>é…ç½®æ–‡ä»¶çš„æ—§å†™æ³•ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;person&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;lastName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zhagsa&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2-2-2-Valueæ³¨å…¥å€¼"><a href="#2-2-2-Valueæ³¨å…¥å€¼" class="headerlink" title="2.2.2 @Valueæ³¨å…¥å€¼"></a>2.2.2 @Valueæ³¨å…¥å€¼</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;person.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Value(&quot;#&#123;11*2&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@Value(&quot;true&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> alive;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; classes;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; map;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-2-3-Valueå’Œ-ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒï¼š"><a href="#2-2-3-Valueå’Œ-ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒï¼š" class="headerlink" title="2.2.3 @Valueå’Œ@ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒï¼š"></a>2.2.3 @Valueå’Œ@ConfigurationPropertiesè·å–å€¼æ¯”è¾ƒï¼š</h4><table>
<thead>
<tr>
<th></th>
<th>@ConfigurationProperties</th>
<th>@Value</th>
</tr>
</thead>
<tbody><tr>
<td>åŠŸèƒ½</td>
<td>æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§</td>
<td>å•ä¸ªæŒ‡å®šå˜é‡çš„å€¼</td>
</tr>
<tr>
<td>æ¾æ•£ç»‘å®š</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>SpEL</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>JSR303æ•°æ®æ ¡éªŒ</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>å¤æ‚ç±»å‹å°è£…</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
</tbody></table>
<h4 id="2-2-4-Valueå’Œ-ConfigurationPropertiesçš„æ¯”è¾ƒ"><a href="#2-2-4-Valueå’Œ-ConfigurationPropertiesçš„æ¯”è¾ƒ" class="headerlink" title="2.2.4 @Valueå’Œ@ConfigurationPropertiesçš„æ¯”è¾ƒ"></a>2.2.4 @Valueå’Œ@ConfigurationPropertiesçš„æ¯”è¾ƒ</h4><p><strong>å¦‚æœåªæ˜¯åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦è·å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œé‚£å°±ç”¨@Valueï¼›å¦‚æœä¸“é—¨ç¼–å†™äº†Java beanå’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œå°±ç›´æ¥ä½¿ç”¨@ConfigurationPropertiesã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-9-12 ä¸‹åˆ9:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;person.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/demo.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="2-3-PropertySourceå’Œ-ImportSource"><a href="#2-3-PropertySourceå’Œ-ImportSource" class="headerlink" title="2.3 @PropertySourceå’Œ@ImportSource"></a>2.3 @PropertySourceå’Œ@ImportSource</h3><p><strong>@ConfigurationPropertiesé»˜è®¤ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼ã€‚</strong></p>
<h4 id="2-3-1-PropertySourceè·å–é…ç½®æ–‡ä»¶çš„å€¼ï¼š"><a href="#2-3-1-PropertySourceè·å–é…ç½®æ–‡ä»¶çš„å€¼ï¼š" class="headerlink" title="2.3.1 @PropertySourceè·å–é…ç½®æ–‡ä»¶çš„å€¼ï¼š"></a>2.3.1 @PropertySourceè·å–é…ç½®æ–‡ä»¶çš„å€¼ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@ConfigurationProperties(prefix = &quot;person&quot;)</span><br><span class="line">@PropertySource(value = &#123;&quot;classpath:person.properties&quot;&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="2-3-2-ImportSourceï¼šå¯¼å…¥Springé…ç½®æ–‡ä»¶ï¼Œæ˜¯é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ç”Ÿæ•ˆã€‚"><a href="#2-3-2-ImportSourceï¼šå¯¼å…¥Springé…ç½®æ–‡ä»¶ï¼Œæ˜¯é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ç”Ÿæ•ˆã€‚" class="headerlink" title="2.3.2 @ImportSourceï¼šå¯¼å…¥Springé…ç½®æ–‡ä»¶ï¼Œæ˜¯é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ç”Ÿæ•ˆã€‚"></a>2.3.2 @ImportSourceï¼šå¯¼å…¥Springé…ç½®æ–‡ä»¶ï¼Œæ˜¯é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ç”Ÿæ•ˆã€‚</h4><p>SpringBooté»˜è®¤æ²¡æœ‰åŠ è½½Springé…ç½®æ–‡ä»¶ï¼Œæ‰‹åŠ¨ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¹Ÿæ— æ³•è¯†åˆ«ï¼Œæƒ³è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œå°†@ImportSourceæ ‡æ³¨åœ¨ä¸»é…ç½®ç±»ä¸Šã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demoService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.demo.service.DemoService&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">demoServiceTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> hasDemoService = applicationContext.containsBean(<span class="string">&quot;demoService&quot;</span>);</span><br><span class="line">    System.out.println(hasDemoService);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-3-3-SpringBootæ¨èçš„æ·»åŠ ç»„ä»¶æ–¹å¼"><a href="#2-3-3-SpringBootæ¨èçš„æ·»åŠ ç»„ä»¶æ–¹å¼" class="headerlink" title="2.3.3 SpringBootæ¨èçš„æ·»åŠ ç»„ä»¶æ–¹å¼"></a>2.3.3 SpringBootæ¨èçš„æ·»åŠ ç»„ä»¶æ–¹å¼</h4><p>SpringBootæ¨èç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹å¼ï¼šä½¿ç”¨å…¨æ³¨è§£ï¼Œ@Configurationæ ‡æ³¨é…ç½®ç±»ã€‚</p>
<p>@Beanï¼š**<u>å°†æ–¹æ³•çš„è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œç»„ä»¶çš„é»˜è®¤idå°±æ˜¯æ–¹æ³•åã€‚</u>**</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.demo.service.DemoService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-9-12 ä¸‹åˆ9:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> å°†æ–¹æ³•çš„è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œç»„ä»¶çš„é»˜è®¤idå°±æ˜¯æ–¹æ³•å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DemoService <span class="title">demoService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DemoService();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="2-4-é…ç½®æ–‡ä»¶å ä½ç¬¦"><a href="#2-4-é…ç½®æ–‡ä»¶å ä½ç¬¦" class="headerlink" title="2.4 é…ç½®æ–‡ä»¶å ä½ç¬¦"></a>2.4 é…ç½®æ–‡ä»¶å ä½ç¬¦</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">å¼ ä¸‰$&#123;random.value&#125;</span></span><br><span class="line">  <span class="attr">age:</span> <span class="string">$&#123;random.int&#125;</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">2018</span><span class="string">/09/11</span></span><br><span class="line">  <span class="attr">map:</span></span><br><span class="line">    <span class="attr">k1:</span> <span class="string">$&#123;random.value&#125;</span></span><br><span class="line">    <span class="attr">k2:</span> <span class="string">v2</span></span><br><span class="line">  <span class="attr">dog:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">$&#123;person.hello:defau&#125;</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">alive:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">classes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">v1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">v2</span></span><br></pre></td></tr></table></figure>

<ol>
<li>éšæœºæ•°ï¼š</li>
</ol>
<p>${random.value}ï¼Œ${random.int}ï¼Œ${random.long}ï¼Œ${random.int(10)}ï¼Œ${random.int[1,10]}</p>
<ol>
<li>å ä½ç¬¦è·å–é…ç½®ä¹‹å‰çš„å€¼ï¼Œ${app.name:é»˜è®¤å€¼}</li>
</ol>
<hr>
<h3 id="2-5-Profileå¤šç¯å¢ƒæ”¯æŒ"><a href="#2-5-Profileå¤šç¯å¢ƒæ”¯æŒ" class="headerlink" title="2.5 Profileå¤šç¯å¢ƒæ”¯æŒ"></a>2.5 Profileå¤šç¯å¢ƒæ”¯æŒ</h3><blockquote>
<p>profileä¸ºä¸åŒç¯å¢ƒæä¾›ä¸åŒé…ç½®çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<ol>
<li><p>å¤šprofileæ–‡ä»¶çš„æ–¹å¼ï¼š</p>
<p>åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯application-{profile}.properties/application-{profile}.ymlï¼›</p>
<p>SpringBooté»˜è®¤ä½¿ç”¨å…¨å±€ç¯å¢ƒé…ç½®</p>
</li>
<li><p>æ¿€æ´»æŒ‡å®šprofileï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br></pre></td></tr></table></figure>

<p><strong>å‘½ä»¤è¡Œæ–¹å¼ï¼š</strong></p>
<p>â€“spring.profiles.active=dev/prod</p>
<p><strong>è™šæ‹Ÿæœºå‚æ•°ï¼š</strong></p>
<p>-Dspring.profiles.active=dev/prod</p>
</li>
<li><p>yamlæ”¯æŒæ–‡æ¡£å—çš„æ–¹å¼ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8083</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">dev</span></span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">     <span class="attr">port:</span> <span class="number">8084</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">prod</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>è§ä¸‹å›¾ï¼š<img src="https://image.youyou-2608.com/springboot/20180913201726.jpg" alt="å‰å®³äº†"></p>
<hr>
<h3 id="2-6-é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®"><a href="#2-6-é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®" class="headerlink" title="2.6 é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®"></a>2.6 é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®</h3><p>SpringBootå¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpringBootçš„é»˜è®¤é…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li>fileï¼š./config/</li>
<li>fileï¼š./</li>
<li>classpathï¼š/config/</li>
<li>classpathï¼š/</li>
</ul>
<p><strong>ä»¥ä¸Šä½ç½®ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ã€‚æ‰€æœ‰ä½ç½®çš„é…ç½®æ–‡ä»¶éƒ½ä¼šè¢«åŠ è½½ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œé«˜ä¼˜å…ˆçº§å’Œä½ä¼˜å…ˆçº§é…ç½®æ–‡ä»¶å½¢æˆäº’è¡¥é…ç½®ã€‚</strong></p>
<p>server.context-path=/config02 -&gt; <a href="http://localhost:8080/config02/hello.do">http://localhost:8080/config02/hello.do</a></p>
<p><strong>è¿˜å¯ä»¥é€šè¿‡spring.config.locationæ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®(é¡¹ç›®æ‰“åŒ…åå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼å¯åŠ¨é¡¹ç›®æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼ŒæŒ‡å®šçš„é…ç½®æ–‡ä»¶å’Œé»˜è®¤åŠ è½½çš„é…ç½®æ–‡ä»¶ä¼šå½¢æˆäº’è¡¥é…ç½®)ã€‚</strong></p>
<p>è§ä¸‹å›¾ï¼š</p>
<p><img src="https://image.youyou-2608.com/springboot/20180913202351.jpg" alt="å›¾ç‰‡ä¸¢å¤±"></p>
<hr>
<h3 id="2-7-å¤–éƒ¨é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº"><a href="#2-7-å¤–éƒ¨é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº" class="headerlink" title="2.7 å¤–éƒ¨é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº"></a>2.7 å¤–éƒ¨é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</h3><p>SpringBootä¹Ÿå¯ä»¥ä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®æ–‡ä»¶ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œ<strong>é«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œé«˜ä½ä¼˜å…ˆçº§çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®</strong>ã€‚</p>
<ol>
<li><a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#using-boot-devtools-globalsettings">Devtools global settings properties</a> on your home directory (<code>~/.spring-boot-devtools.properties</code> when devtools is active).</li>
<li><a href="https://docs.spring.io/spring/docs/5.0.9.RELEASE/javadoc-api/org/springframework/test/context/TestPropertySource.html"><code>@TestPropertySource</code></a> annotations on your tests.</li>
<li><a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/api/org/springframework/boot/test/context/SpringBootTest.html"><code>@SpringBootTest#properties</code></a> annotation attribute on your tests.</li>
<li>Command line arguments.</li>
<li>Properties from <code>SPRING_APPLICATION_JSON</code> (inline JSON embedded in an environment variable or system property).</li>
<li><code>ServletConfig</code> init parameters.</li>
<li><code>ServletContext</code> init parameters.</li>
<li>JNDI attributes from <code>java:comp/env</code>.</li>
<li>Java System properties (<code>System.getProperties()</code>).</li>
<li>OS environment variables.</li>
<li>A <code>RandomValuePropertySource</code> that has properties only in <code>random.*</code>.</li>
<li><a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-external-config-profile-specific-properties">Profile-specific application properties</a> outside of your packaged jar (<code>application-&#123;profile&#125;.properties</code> and YAML variants).</li>
<li><a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-external-config-profile-specific-properties">Profile-specific application properties</a> packaged inside your jar (<code>application-&#123;profile&#125;.properties</code> and YAML variants).</li>
<li>Application properties outside of your packaged jar (<code>application.properties</code> and YAML variants).</li>
<li>Application properties packaged inside your jar (<code>application.properties</code> and YAML variants).</li>
<li><a href="https://docs.spring.io/spring/docs/5.0.9.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySource.html"><code>@PropertySource</code></a> annotations on your <code>@Configuration</code> classes.</li>
<li>Default properties (specified by setting <code>SpringApplication.setDefaultProperties</code>).</li>
</ol>
<p>ç”±jaråŒ…å¤–å‘jaråŒ…å†…è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>å‘½ä»¤è¡Œå‚æ•°ï¼ˆå¤šä¸ªå‚æ•°ç”¨ç©ºæ ¼åˆ†å¼€ï¼‰ï¼›</p>
<ul>
<li>java -jar xxx.jar â€“server.port=8081 server.context.path=/ab</li>
</ul>
<p>ä¼˜å…ˆåŠ è½½å¸¦profileçš„é…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li>jaråŒ…å¤–çš„application-{profile}æˆ–application-{yml}æˆ–ä¸å¸¦spring.profileçš„é…ç½®æ–‡ä»¶ï¼›</li>
<li>jaråŒ…å†…çš„application-{profile}æˆ–application-{yml}æˆ–ä¸å¸¦spring.profileçš„é…ç½®æ–‡ä»¶ï¼›</li>
</ul>
<p>å†åŠ è½½å¸¦ä¸profileçš„é…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li>jaråŒ…å¤–çš„application-{profile}æˆ–application-{yml}æˆ–ä¸å¸¦spring.profileçš„é…ç½®æ–‡ä»¶ï¼›</li>
<li>jaråŒ…å†…çš„application-{profile}æˆ–application-{yml}æˆ–ä¸å¸¦spring.profileçš„é…ç½®æ–‡ä»¶ï¼›</li>
</ul>
<ul>
<li>@Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySourceï¼›</li>
<li>é€šè¿‡SpringApplication.setDefaultPropertiesæŒ‡å®šçš„é»˜è®¤å±æ€§ã€‚</li>
</ul>
<p>è¯¦ç»†å‚è§SpringBootå®˜ç½‘ï¼š<a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features">SpringBootå¤–éƒ¨é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</a></p>
<hr>
<h3 id="2-8-è‡ªåŠ¨é…ç½®åŸç†"><a href="#2-8-è‡ªåŠ¨é…ç½®åŸç†" class="headerlink" title="2.8 è‡ªåŠ¨é…ç½®åŸç†"></a>2.8 è‡ªåŠ¨é…ç½®åŸç†</h3><p>é…ç½®æ–‡ä»¶èƒ½å†™ä»€ä¹ˆï¼Œæ€ä¹ˆå†™ï¼Ÿ</p>
<p>è‡ªåŠ¨é…ç½®åŸç†ï¼š</p>
<ol>
<li>SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼š@EnableAutoConfigurationï¼›</li>
<li>@EnableAutoConfigurationçš„ä½œç”¨ï¼š<ol>
<li>åˆ©ç”¨@EnableAutoConfigurationImportSelectorç»™å®¹å™¨å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼›</li>
<li>å¯ä»¥æŸ¥çœ‹selectImportsä¸­çš„å†…å®¹ï¼›</li>
<li>List<String> configurations = getCandidateConfigurations(annotationMetadata, attributes) æ–¹æ³•ï¼›<ul>
<li>SpringFactoriesLoader.loadFactoryNames()ï¼›</li>
<li>æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹ï¼šMETA-INF/spring.factoriesï¼›</li>
<li>å°†æ‰«æåˆ°çš„æ–‡ä»¶å†…å®¹åŠ è½½åŒ…è£…æˆpropertieså¯¹è±¡ã€‚</li>
</ul>
</li>
</ol>
</li>
<li>æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡ŒåŠŸèƒ½çš„è‡ªåŠ¨é…ç½®ï¼›</li>
<li>æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½åœ¨xxxPropertiesç±»ä¸­é…ç½®ç€ï¼Œé…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆéƒ½å‚ç…§é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼›</li>
</ol>
<p>SpringBootçš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>SpringBootå¯åŠ¨æ—¶ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»ï¼›</li>
<li>çœ‹SpringBootæœ‰æ²¡æœ‰è‡ªåŠ¨é…ç½®ç±»ï¼›</li>
<li>å¦‚æœæœ‰ï¼Œä¸ç”¨è‡ªå·±å†å†™è‡ªåŠ¨é…ç½®ç±»ã€‚</li>
<li>ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è¯»å–æŸäº›å±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼ã€‚</li>
</ol>
<hr>
<h3 id="2-9-Conditionalè‡ªåŠ¨é…ç½®"><a href="#2-9-Conditionalè‡ªåŠ¨é…ç½®" class="headerlink" title="2.9 @Conditionalè‡ªåŠ¨é…ç½®"></a>2.9 @Conditionalè‡ªåŠ¨é…ç½®</h3><blockquote>
<p>è‡ªåŠ¨é…ç½®ç±»éœ€è¦åœ¨ä¸€å®šæ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
</blockquote>
<p>æ³¨è§£çš„ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰èƒ½ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆã€‚</p>
<table>
<thead>
<tr>
<th>@Conditionalæ‰©å±•</th>
<th>ä½œç”¨(åˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰æ¡ä»¶)</th>
</tr>
</thead>
<tbody><tr>
<td>@ConditionalOnJava</td>
<td>ç³»ç»Ÿçš„Javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚</td>
</tr>
<tr>
<td>@ConditionalOnBean</td>
<td>å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šçš„bean</td>
</tr>
<tr>
<td>@ConditionalOnMissingBean</td>
<td>å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šçš„bean</td>
</tr>
<tr>
<td>@ConditionalOnExpression</td>
<td>æ»¡è¶³SpELè¡¨è¾¾å¼</td>
</tr>
<tr>
<td>@ConditionalOnClass</td>
<td>å®¹å™¨ä¸­æœ‰æŒ‡å®šçš„ç±»</td>
</tr>
<tr>
<td>@ConditionalOnMissingClass</td>
<td>å®¹å™¨ä¸­æ²¡æœ‰æŒ‡å®šçš„ç±»</td>
</tr>
<tr>
<td>@ConditionalOnProperty</td>
<td>ç³»ç»Ÿä¸­æŒ‡å®šå±æ€§æ˜¯æœ‰æŒ‡å®šçš„å€¼</td>
</tr>
<tr>
<td>@ConditionalOnResource</td>
<td>ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶</td>
</tr>
<tr>
<td>@ConditionalOnWebApplication</td>
<td>å½“å‰æ˜¯webç¯å¢ƒ</td>
</tr>
<tr>
<td>@ConditionalOnNotWebApplication</td>
<td>å½“å‰ä¸æ˜¯webç¯å¢ƒ</td>
</tr>
<tr>
<td>@ConditionalOnJndi</td>
<td>JNDIå­˜åœ¨æŒ‡å®šé¡¹</td>
</tr>
<tr>
<td>@ConditionalOnSingleCandidate</td>
<td>å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„beanï¼Œæˆ–è€…è¿™ä¸ªbeanæ˜¯é¦–é€‰çš„bean</td>
</tr>
</tbody></table>
<p>è‡ªåŠ¨é…ç½®æ–‡ä»¶ï¼šorg/springframework/boot/spring-boot-autoconfigure/2.0.5.RELEASE/spring-boot-autoconfigure-2.0.5.RELEASE.jar!/META-INF/spring.factories</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Auto Configure</span></span><br><span class="line"><span class="meta">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span>=<span class="string">\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.cassandra.CassandraReactiveDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.cassandra.CassandraReactiveRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.couchbase.CouchbaseReactiveDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.couchbase.CouchbaseReactiveRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.http.codec.CodecsAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.influx.InfluxDbAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.reactor.core.ReactorCoreAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.servlet.SecurityRequestMatcherProviderAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.reactive.HttpHandlerAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.reactive.ReactiveWebServerFactoryAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.reactive.error.ErrorWebFluxAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.reactive.function.client.WebClientAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.websocket.reactive.WebSocketReactiveAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.websocket.servlet.WebSocketMessagingAutoConfiguration,\</span></span><br><span class="line"><span class="string">org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration</span></span><br></pre></td></tr></table></figure>



<p>å¼€å¯SpringBootçš„debugï¼Œå¯ä»¥é€šè¿‡debug=trueè®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Šï¼Œä¾¿å¯ä»¥æ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆäº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">============================</span><br><span class="line">CONDITIONS EVALUATION REPORT</span><br><span class="line">============================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Positive matches:</span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">   CodecsAutoConfiguration matched:</span><br><span class="line">      - @ConditionalOnClass found required class &#x27;org.springframework.http.codec.CodecConfigurer&#x27;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)</span><br><span class="line"></span><br><span class="line">   CodecsAutoConfiguration.JacksonCodecConfiguration matched:</span><br><span class="line">      - @ConditionalOnClass found required class &#x27;com.fasterxml.jackson.databind.ObjectMapper&#x27;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Negative matches:</span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">   ActiveMQAutoConfiguration:</span><br><span class="line">      Did not match:</span><br><span class="line">         - @ConditionalOnClass did not find required classes &#x27;javax.jms.ConnectionFactory&#x27;, &#x27;org.apache.activemq.ActiveMQConnectionFactory&#x27; (OnClassCondition)</span><br><span class="line"></span><br><span class="line">   AopAutoConfiguration:</span><br><span class="line">      Did not match:</span><br><span class="line">         - @ConditionalOnClass did not find required classes &#x27;org.aspectj.lang.annotation.Aspect&#x27;, &#x27;org.aspectj.lang.reflect.Advice&#x27;, &#x27;org.aspectj.weaver.AnnotatedElement&#x27; (OnClassCondition)</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h2 id="ç¬¬ä¸‰ç« -SpringBootä¸æ—¥å¿—"><a href="#ç¬¬ä¸‰ç« -SpringBootä¸æ—¥å¿—" class="headerlink" title="ç¬¬ä¸‰ç«  SpringBootä¸æ—¥å¿—"></a>ç¬¬ä¸‰ç«  SpringBootä¸æ—¥å¿—</h2><hr>
<h3 id="3-1-æ—¥å¿—æ¡†æ¶"><a href="#3-1-æ—¥å¿—æ¡†æ¶" class="headerlink" title="3.1 æ—¥å¿—æ¡†æ¶"></a>3.1 æ—¥å¿—æ¡†æ¶</h3><ul>
<li>System.out.println(â€œwelcome!â€);  ä¸åˆ©äºä»£ç ç»´æŠ¤ï¼›</li>
<li>ä½¿ç”¨æ—¥å¿—æ¡†æ¶ï¼›</li>
<li>åŠ å…¥å¼‚æ­¥ï¼Œè‡ªåŠ¨å½’æ¡£ç­‰åŠŸèƒ½ï¼›</li>
<li>ä¸ç¨‹åºè€¦åˆæ§åˆ¶ï¼›</li>
<li>ç»Ÿä¸€çš„æ¥å£å±‚ï¼šæ—¥å¿—é—¨é¢ã€‚</li>
</ul>
<p>å¸¸è§çš„æ—¥å¿—æ¡†æ¶ï¼š</p>
<ul>
<li>JULï¼ˆjava.util.loggingï¼‰ï¼›</li>
<li>JCLï¼›</li>
<li>jboss-loggingï¼›</li>
<li>logbackï¼›</li>
<li>log4jï¼›</li>
<li>log4j2ï¼›</li>
<li>slf4jï¼›</li>
</ul>
<p>æ—¥å¿—é—¨é¢ï¼šSLF4Jï¼›</p>
<p>æ—¥å¿—å®ç°ï¼šLogbackã€‚</p>
<p>SpringBootï¼šåº•å±‚æ˜¯Springæ¡†æ¶ï¼ŒSpringBootæ¡†æ¶é»˜è®¤æ˜¯JCL</p>
<p><strong>SpringBooté€‰ç”¨SLF4Jï¼ŒLogbackã€‚</strong></p>
<hr>
<h3 id="3-2-SLF4Jçš„ä½¿ç”¨"><a href="#3-2-SLF4Jçš„ä½¿ç”¨" class="headerlink" title="3.2 SLF4Jçš„ä½¿ç”¨"></a>3.2 SLF4Jçš„ä½¿ç”¨</h3><hr>
<h4 id="3-2-1-å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4J"><a href="#3-2-1-å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4J" class="headerlink" title="3.2.1 å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4J"></a>3.2.1 å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4J</h4><p>å¼€å‘çš„æ—¶å€™ï¼Œæ—¥å¿—è®°å½•çš„æ–¹æ³•è°ƒç”¨ï¼Œåº”è¯¥ç›´æ¥è°ƒç”¨æ—¥å¿—æŠ½è±¡å±‚é‡Œçš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ—¥å¿—çš„å®ç°ç±»ã€‚</p>
<p>ç»™ç³»ç»Ÿå¯¼å…¥slf4jçš„jarå’Œlogbackçš„å®ç°jarï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Logger logger = LoggerFactory.getLogger(HelloWorld.class);</span><br><span class="line">    logger.info(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å›¾ç¤ºï¼š</p>
<p><img src="https://image.youyou-2608.com/springboot/concrete-bindings.png" alt="å…·ä½“å…³ç³»"></p>
<p>æ¯ä¸€ä¸ªæ—¥å¿—æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨slf4jä»¥åï¼Œ<strong>é…ç½®æ–‡ä»¶è¿˜æ˜¯ä½œä¸ºæ—¥å¿—å®ç°æ¡†æ¶æœ¬èº«çš„é…ç½®æ–‡ä»¶ã€‚</strong></p>
<hr>
<h4 id="3-2-2-é—ç•™é—®é¢˜"><a href="#3-2-2-é—ç•™é—®é¢˜" class="headerlink" title="3.2.2 é—ç•™é—®é¢˜"></a>3.2.2 é—ç•™é—®é¢˜</h4><p>aï¼ˆslf4j + logbackï¼‰ï¼šSpring(commons-logging)ï¼ŒHibernate(jboss-logging)</p>
<p>ç»Ÿä¸€æ—¥å¿—è®°å½•ï¼Œå³ä¾¿æ˜¯åˆ«çš„æ¡†æ¶ä¹Ÿä½¿ç”¨åŒä¸€æ—¥å¿—æ¡†æ¶ã€‚</p>
<p><img src="https://image.youyou-2608.com/springboot/legacy.png"></p>
<p>å¦‚ä½•è®©ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ—¥å¿—éƒ½ç»Ÿä¸€åˆ°slf4jï¼š</p>
<ol>
<li><u>å°†ç³»ç»Ÿä¸­å…¶ä»–æ—¥å¿—æ¡†æ¶æ’é™¤åœ¨å¤–ï¼›</u></li>
<li><u>ç”¨ä¸­é—´é€‚é…å±‚åŒ…æ›¿æ¢åŸæœ‰æ—¥å¿—æ¡†æ¶ï¼›</u></li>
<li><u>å¯¼å…¥slf4jå…¶ä»–çš„å®ç°ã€‚</u></li>
</ol>
<hr>
<h3 id="3-3-SpringBootæ—¥å¿—å…³ç³»"><a href="#3-3-SpringBootæ—¥å¿—å…³ç³»" class="headerlink" title="3.3 SpringBootæ—¥å¿—å…³ç³»"></a>3.3 SpringBootæ—¥å¿—å…³ç³»</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>SpringBootçš„æ—¥å¿—åŠŸèƒ½ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>SpringBootåº•å±‚ä¾èµ–å…³ç³»ï¼ˆpom.xmlæ–‡ä»¶ï¼Œshow diagramæŸ¥çœ‹mavené¡¹ç›®ä¾èµ–å…³ç³»ï¼‰ï¼š</p>
<p><img src="https://image.youyou-2608.com/springboot/irei.png"></p>
<ol>
<li>SpringBootåº•å±‚ä¹Ÿæ˜¯ç”¨slf4j + logbackçš„æ–¹å¼è¿›è¡Œæ—¥å¿—è®°å½•ï¼›</li>
<li>SpringBootä¹ŸæŠŠå…¶ä»–çš„æ—¥å¿—éƒ½æ›¿æ¢æˆäº†slf4jï¼›</li>
<li>ä¸­é—´æ›¿æ¢åŒ…ï¼›</li>
<li>å¦‚æœè¦å¼•å…¥å…¶ä»–æ¡†æ¶ï¼Œä¸€å®šè¦æŠŠè¿™ä¸ªæ¡†æ¶çš„é»˜è®¤æ—¥å¿—ä¾èµ–ç§»é™¤ã€‚</li>
</ol>
<p><strong>SpringBootè‡ªåŠ¨é€‚åº”æ‰€æœ‰çš„æ—¥å¿—æ¡†æ¶ï¼Œè€Œä¸”åº•å±‚ä½¿ç”¨äº†slf4j + logbackçš„æ–¹å¼è®°å½•æ—¥å¿—ï¼Œå¼•å…¥å…¶ä»–æ¡†æ¶çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªæ¡†æ¶ä¾èµ–ç§»é™¤æ‰ã€‚</strong></p>
<hr>
<h3 id="3-4-SpringBooté»˜è®¤æ—¥å¿—é…ç½®"><a href="#3-4-SpringBooté»˜è®¤æ—¥å¿—é…ç½®" class="headerlink" title="3.4 SpringBooté»˜è®¤æ—¥å¿—é…ç½®"></a>3.4 SpringBooté»˜è®¤æ—¥å¿—é…ç½®</h3><p>æ—¥å¿—çš„çº§åˆ«ï¼Œç”±ä½åˆ°é«˜ï¼Œå¯ä»¥è°ƒæ•´æ—¥å¿—è¾“å‡ºçš„çº§åˆ«ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Logger logger = LoggerFactory.getLogger(getClass());</span><br><span class="line"><span class="comment">//æ—¥å¿—çš„çº§åˆ«ï¼Œç”±ä½åˆ°é«˜</span></span><br><span class="line">logger.trace(<span class="string">&quot;è¿™æ˜¯æ—¥å¿—...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;è¿™æ˜¯debugæ—¥å¿—...&quot;</span>);</span><br><span class="line">logger.info(<span class="string">&quot;è¿™æ˜¯Infoä¿¡æ¯...&quot;</span>);</span><br><span class="line">logger.warn(<span class="string">&quot;è¿™æ˜¯è­¦å‘Š...&quot;</span>);</span><br><span class="line">logger.error(<span class="string">&quot;è¿™æ˜¯é”™è¯¯ä¿¡æ¯...&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>SpringBooté»˜è®¤æ—¥å¿—è¾“å‡ºçº§åˆ«ä¸ºinfoã€‚</p>
<p>å¯ä»¥åœ¨application.ymlä¸­è‡ªå®šä¹‰æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼š logging.level.com.hape.nmsl=trace</p>
<p>åœ¨å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼šlogging.file=springboot.log</p>
<p>ä¸æŒ‡å®šè·¯å¾„åœ¨é¡¹ç›®è·¯å¾„ä¸‹ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ã€‚</p>
<p>logfileä¼˜å…ˆçº§é«˜äºlogpathã€‚</p>
<p>logpathï¼šæŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œé»˜è®¤æ–‡ä»¶åspring.logã€‚</p>
<p>logging.pattern.consoleï¼šæ§åˆ¶å°è¾“å‡ºæ—¥å¿—çš„æ ¼å¼ã€‚</p>
<p>logging.pattern.fileï¼šæ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼ã€‚</p>
<p>æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">%dï¼šè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="attr">%threadï¼šè¡¨ç¤ºçº¿ç¨‹å·ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="attr">%-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="attr">%logger&#123;50&#125;ï¼šè¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="attr">%msgï¼šæ—¥å¿—ä¿¡æ¯ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="attr">%nï¼šæ¢è¡Œç¬¦ã€‚</span></span><br></pre></td></tr></table></figure>

<p>æ—¥å¿—æ ¼å¼é…ç½®å®ä¾‹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">%d&#123;yyyy-MM-dd</span> <span class="string">HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n</span></span><br></pre></td></tr></table></figure>





<hr>
<h3 id="3-5-æŒ‡å®šæ—¥å¿—æ–‡ä»¶å’Œæ—¥å¿—profileåŠŸèƒ½"><a href="#3-5-æŒ‡å®šæ—¥å¿—æ–‡ä»¶å’Œæ—¥å¿—profileåŠŸèƒ½" class="headerlink" title="3.5 æŒ‡å®šæ—¥å¿—æ–‡ä»¶å’Œæ—¥å¿—profileåŠŸèƒ½"></a>3.5 æŒ‡å®šæ—¥å¿—æ–‡ä»¶å’Œæ—¥å¿—profileåŠŸèƒ½</h3><p>ç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æ¶è‡ªå·±é…ç½®æ–‡ä»¶å³å¯ï¼Œ</p>
<blockquote>
<p>Because the standard <code>logback.xml</code> configuration file is loaded too early, you cannot use extensions in it. You need to either use <code>logback-spring.xml</code> or define a <code>logging.config</code> property.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Logging System</th>
<th>Customization</th>
</tr>
</thead>
<tbody><tr>
<td>Logback</td>
<td><code>logback-spring.xml</code>, <code>logback-spring.groovy</code>, <code>logback.xml</code>, or <code>logback.groovy</code></td>
</tr>
<tr>
<td>Log4j2</td>
<td><code>log4j2-spring.xml</code> or <code>log4j2.xml</code></td>
</tr>
<tr>
<td>JDK (Java Util Logging)</td>
<td><code>logging.properties</code></td>
</tr>
</tbody></table>
<p>logback.xmlï¼šç›´æ¥è¢«æ—¥å¿—æ¡†æ¶è¯†åˆ«ï¼›</p>
<p><strong>logback-spring.xmlï¼šæ—¥å¿—æ¡†æ¶ä¸ç›´æ¥åŠ è½½é…ç½®é¡¹ï¼Œç”±SpringBootè§£ææ—¥å¿—é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨SpringBootçš„é«˜çº§åŠŸèƒ½profileã€‚</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">å¯ä»¥æŒ‡å®šæŸä¸€æ®µé…ç½®åªåœ¨æŸä¸ªç¯å¢ƒä¸‹ç”Ÿæ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;staging&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the &quot;staging&quot; profile is active --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;dev, staging&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the &quot;dev&quot; or &quot;staging&quot; profiles are active--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">&quot;!production&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the &quot;production&quot; profile is not active --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br></pre></td></tr></table></figure>







<hr>
<h3 id="3-6-åˆ‡æ¢æ—¥å¿—æ¡†æ¶"><a href="#3-6-åˆ‡æ¢æ—¥å¿—æ¡†æ¶" class="headerlink" title="3.6 åˆ‡æ¢æ—¥å¿—æ¡†æ¶"></a>3.6 åˆ‡æ¢æ—¥å¿—æ¡†æ¶</h3><p>å¯ä»¥æŒ‰ç…§slf4jé€‚é…å›¾è¿›è¡Œç›¸å…³çš„åˆ‡æ¢ã€‚</p>
<ol>
<li>æ’é™¤ä¸ä½¿ç”¨çš„åŒ…ï¼›</li>
<li>å¯¼å…¥ç›¸å…³çš„é€‚é…åŒ…ï¼›</li>
</ol>
<p>ä¸æ¨èæ›´æ¢SpringBooté»˜è®¤ä½¿ç”¨çš„æ—¥å¿—è®°å½•æ¡†æ¶ã€‚</p>
<hr>
<h2 id="ç¬¬å››ç« -SpringBootä¸Webå¼€å‘"><a href="#ç¬¬å››ç« -SpringBootä¸Webå¼€å‘" class="headerlink" title="ç¬¬å››ç«  SpringBootä¸Webå¼€å‘"></a>ç¬¬å››ç«  SpringBootä¸Webå¼€å‘</h2><p>ä½¿ç”¨SpringBootï¼š</p>
<ul>
<li>åˆ›å»ºSpringBootåº”ç”¨ï¼Œé€‰ä¸­éœ€è¦çš„æ¨¡å—ï¼›</li>
<li>SpringBootè‡ªåŠ¨é…ç½®å¥½åœºæ™¯ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®ï¼Œå³å¯è¿è¡Œç¨‹åºï¼›</li>
<li>ç¼–å†™ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p>ä¾èµ–äºSpringBootçš„è‡ªåŠ¨é…ç½®ã€‚</p>
<hr>
<h3 id="4-1-webjarä¸é™æ€èµ„æºæ˜ å°„è§„åˆ™"><a href="#4-1-webjarä¸é™æ€èµ„æºæ˜ å°„è§„åˆ™" class="headerlink" title="4.1 webjarä¸é™æ€èµ„æºæ˜ å°„è§„åˆ™"></a>4.1 webjarä¸é™æ€èµ„æºæ˜ å°„è§„åˆ™</h3><p>SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼šï¼ˆWebMvcAutoConfiguration.javaï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.resourceProperties.isAddMappings()) &#123;</span><br><span class="line">        logger.debug(<span class="string">&quot;Default resource handling disabled&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Duration cachePeriod = <span class="keyword">this</span>.resourceProperties.getCache().getPeriod();</span><br><span class="line">    CacheControl cacheControl = <span class="keyword">this</span>.resourceProperties.getCache()</span><br><span class="line">        .getCachecontrol().toHttpCacheControl();</span><br><span class="line">    <span class="keyword">if</span> (!registry.hasMappingForPattern(<span class="string">&quot;/webjars/**&quot;</span>)) &#123;</span><br><span class="line">        customizeResourceHandlerRegistration(registry</span><br><span class="line">                                             .addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>)</span><br><span class="line">                                             .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>)</span><br><span class="line">                                             .setCachePeriod(getSeconds(cachePeriod))</span><br><span class="line">                                             .setCacheControl(cacheControl));</span><br><span class="line">    &#125;</span><br><span class="line">    String staticPathPattern = <span class="keyword">this</span>.mvcProperties.getStaticPathPattern();</span><br><span class="line">    <span class="keyword">if</span> (!registry.hasMappingForPattern(staticPathPattern)) &#123;</span><br><span class="line">        customizeResourceHandlerRegistration(</span><br><span class="line">            registry.addResourceHandler(staticPathPattern)</span><br><span class="line">            .addResourceLocations(getResourceLocations(</span><br><span class="line">                <span class="keyword">this</span>.resourceProperties.getStaticLocations()))</span><br><span class="line">            .setCachePeriod(getSeconds(cachePeriod))</span><br><span class="line">            .setCacheControl(cacheControl));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>æ‰€æœ‰çš„/webjars/**ï¼Œéƒ½åˆ°classpath:/META-INF/resources/webjarsæ‰¾èµ„æºï¼›</p>
<p>webjarsä»¥jaråŒ…çš„æ–¹å¼å¼•å…¥é™æ€èµ„æºã€‚</p>
<p><img src="https://image.youyou-2608.com/springboot/webjars.png"></p>
</li>
</ul>
<p>åœ¨è®¿é—®çš„æ—¶å€™åªéœ€è¦å†™webjarsä¸‹çš„èµ„æºåç§°å³å¯ã€‚ï¼ˆ<a href="http://localhost:8080/webjars/jquery/3.3.1-1/jquery.js%EF%BC%89">http://localhost:8080/webjars/jquery/3.3.1-1/jquery.jsï¼‰</a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.webjars<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jquery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.1-1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><p>è®¿é—®å½“å‰é¡¹ç›®ä¸‹çš„ä»»ä½•èµ„æºï¼ˆé™æ€èµ„æºçš„æ–‡ä»¶å¤¹ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&quot;classpath:/META-INF/resources/&quot;, </span><br><span class="line">&quot;classpath:/resources/&quot;,</span><br><span class="line">&quot;classpath:/static/&quot;,</span><br><span class="line">&quot;classpath:/public/&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>é…ç½®æ¬¢è¿é¡µ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> WelcomePageHandlerMapping <span class="title">welcomePageHandlerMapping</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    ApplicationContext applicationContext)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> WelcomePageHandlerMapping(</span><br><span class="line">        <span class="keyword">new</span> TemplateAvailabilityProviders(applicationContext),</span><br><span class="line">        applicationContext, getWelcomePage(),</span><br><span class="line">        <span class="keyword">this</span>.mvcProperties.getStaticPathPattern());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™æ€æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰index.htmlé¡µé¢ï¼›</p>
<p>æ˜ å°„åˆ° private String staticPathPattern = â€œ/**â€;</p>
</li>
</ul>
<ul>
<li><p>é…ç½®å–œæ¬¢çš„å›¾æ ‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnProperty(value = &quot;spring.mvc.favicon.enabled&quot;, matchIfMissing = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">FaviconConfiguration</span> <span class="keyword">implements</span> <span class="title">ResourceLoaderAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ResourceProperties resourceProperties;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ResourceLoader resourceLoader;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FaviconConfiguration</span><span class="params">(ResourceProperties resourceProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.resourceProperties = resourceProperties;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ˜ å°„åˆ°**favicon.icoé™æ€èµ„æºæ–‡ä»¶å¤¹ã€‚</p>
</li>
</ul>
<hr>
<h3 id="4-2-å¼•å…¥Thymeleafæ¨¡æ¿å¼•æ“"><a href="#4-2-å¼•å…¥Thymeleafæ¨¡æ¿å¼•æ“" class="headerlink" title="4.2 å¼•å…¥Thymeleafæ¨¡æ¿å¼•æ“"></a>4.2 å¼•å…¥Thymeleafæ¨¡æ¿å¼•æ“</h3><blockquote>
<p>thymeleaf, jsp, freemaker, velocity</p>
</blockquote>
<p>SpringBootæ¨èçš„thymeleafï¼š</p>
<ol>
<li>å¼•å…¥thymeleafï¼›</li>
<li>è‡ªå®šä¹‰thymeleafç‰ˆæœ¬ã€‚</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">thymeleaf.version</span>&gt;</span>3.0.2.RELEASE<span class="tag">&lt;/<span class="name">thymeleaf.version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¸ƒå±€åŠŸèƒ½æ”¯æŒç¨‹åº  thymeleaf3  layout2ä»¥ä¸Šç‰ˆæœ¬é€‚é…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">thymeleaf.layout.dialect.version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">thymeleaf.layout.dialect.version</span>&gt;</span></span><br></pre></td></tr></table></figure>





<hr>
<h3 id="4-3-Thymeleafè¯­æ³•"><a href="#4-3-Thymeleafè¯­æ³•" class="headerlink" title="4.3 Thymeleafè¯­æ³•"></a>4.3 Thymeleafè¯­æ³•</h3><p>é»˜è®¤è¯·æ±‚è·¯å¾„ï¼šclasspath:templates/xxx.html</p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://www.thymeleaf.org/documentation.html">Thymeleafå‚è€ƒæ–‡æ¡£</a></p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>å¯¼å…¥Thymeleafåç§°ç©ºé—´ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http:y//www.thymeleaf.org&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨Thymeleafè¯­æ³•ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span>&gt;</span>æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>thymeleafè¯­æ³•è§„åˆ™ï¼š</p>
<ul>
<li><p>th:textï¼šæ”¹å˜textæ–‡æœ¬å€¼ï¼›</p>
</li>
<li><p>th:ä»»æ„å±æ€§éƒ½å¯ä»¥æ›¿æ¢ï¼›</p>
</li>
<li><p>æ–‡æ¡£ç¬¬åç« /Attributes/ä¼˜å…ˆçº§ï¼›</p>
<p><img src="https://image.youyou-2608.com/springboot/DeepinScreenshot_select-area_20181001125611.png"></p>
</li>
</ul>
</li>
<li><p>thymeleafè¡¨è¾¾å¼ï¼›</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">Simple</span> <span class="string">expressions:</span></span><br><span class="line">    <span class="attr">Variable</span> <span class="string">Expressions: $&#123;...&#125;</span></span><br><span class="line">    <span class="attr">Selection</span> <span class="string">Variable Expressions: *&#123;...&#125;</span></span><br><span class="line">    <span class="attr">Message</span> <span class="string">Expressions: #&#123;...&#125;</span></span><br><span class="line">    <span class="attr">Link</span> <span class="string">URL Expressions: @&#123;...&#125;</span></span><br><span class="line">    <span class="attr">Fragment</span> <span class="string">Expressions: ~&#123;...&#125;</span></span><br><span class="line"><span class="attr">Literals</span></span><br><span class="line">    <span class="attr">Text</span> <span class="string">literals: &#x27;one text&#x27; , &#x27;Another one!&#x27; ,...</span></span><br><span class="line">    <span class="attr">Number</span> <span class="string">literals: 0 , 34 , 3.0 , 12.3 ,...</span></span><br><span class="line">    <span class="attr">Boolean</span> <span class="string">literals: true , false</span></span><br><span class="line">    <span class="attr">Null</span> <span class="string">literal: null</span></span><br><span class="line">    <span class="attr">Literal</span> <span class="string">tokens: one , sometext , main ,...</span></span><br><span class="line"><span class="attr">Text</span> <span class="string">operations:</span></span><br><span class="line">    <span class="attr">String</span> <span class="string">concatenation: +</span></span><br><span class="line">    <span class="attr">Literal</span> <span class="string">substitutions: |The name is $&#123;name&#125;|</span></span><br><span class="line">    <span class="attr">Arithmetic</span> <span class="string">operations:</span></span><br><span class="line">    <span class="attr">Binary</span> <span class="string">operators: + , - , * , / , %</span></span><br><span class="line">    <span class="attr">Minus</span> <span class="string">sign (unary operator): -</span></span><br><span class="line"><span class="attr">Boolean</span> <span class="string">operations:</span></span><br><span class="line">    <span class="attr">Binary</span> <span class="string">operators: and , or</span></span><br><span class="line">    <span class="attr">Boolean</span> <span class="string">negation (unary operator): ! , not</span></span><br><span class="line"><span class="attr">Comparisons</span> <span class="string">and equality:</span></span><br><span class="line">    <span class="attr">Comparators</span>: <span class="string">&gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )</span></span><br><span class="line">    <span class="attr">Equality</span> <span class="string">operators: == , != ( eq , ne )</span></span><br><span class="line"><span class="attr">Conditional</span> <span class="string">operators:</span></span><br><span class="line">    <span class="meta">If-then</span>: <span class="string">(if) ? (then)</span></span><br><span class="line">    <span class="meta">If-then-else</span>: <span class="string">(if) ? (then) : (else)</span></span><br><span class="line">    <span class="attr">Default</span>: <span class="string">(value) ?: (defaultvalue)</span></span><br><span class="line"><span class="attr">Special</span> <span class="string">tokens:</span></span><br><span class="line">	<span class="attr">Page</span> <span class="string">17 of 106No-Operation: _</span></span><br></pre></td></tr></table></figure>

<p>å†…ç½®å¯¹è±¡ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ctx : the context object.</span></span><br><span class="line"><span class="comment">#vars: the context variables.</span></span><br><span class="line"><span class="comment">#locale : the context locale.</span></span><br><span class="line"><span class="comment">#request : (only in Web Contexts) the HttpServletRequest object.</span></span><br><span class="line"><span class="comment">#response : (only in Web Contexts) the HttpServletResponse object.</span></span><br><span class="line"><span class="comment">#session : (only in Web Contexts) the HttpSession object.</span></span><br><span class="line"><span class="comment">#servletContext : (only in Web Contexts) the ServletContext object.</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="4-4-SpringMVCè‡ªåŠ¨é…ç½®åŠŸèƒ½"><a href="#4-4-SpringMVCè‡ªåŠ¨é…ç½®åŠŸèƒ½" class="headerlink" title="4.4 SpringMVCè‡ªåŠ¨é…ç½®åŠŸèƒ½"></a>4.4 SpringMVCè‡ªåŠ¨é…ç½®åŠŸèƒ½</h3><p>SpringBootæ–‡æ¡£åœ°å€ï¼š<a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications">å®˜æ–¹æ–‡æ¡£åœ°å€</a></p>
<h4 id="4-4-1-SpringMVCè‡ªåŠ¨é…ç½®é¡¹"><a href="#4-4-1-SpringMVCè‡ªåŠ¨é…ç½®é¡¹" class="headerlink" title="4.4.1 SpringMVCè‡ªåŠ¨é…ç½®é¡¹"></a>4.4.1 SpringMVCè‡ªåŠ¨é…ç½®é¡¹</h4><p>SpringMVCè‡ªåŠ¨é…ç½®ï¼š</p>
<ul>
<li>Inclusion of <code>ContentNegotiatingViewResolver</code> and <code>BeanNameViewResolver</code> beans.</li>
<li>Support for serving static resources, including support for WebJars (covered <a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content">later in this document</a>)).</li>
<li>Automatic registration of <code>Converter</code>, <code>GenericConverter</code>, and <code>Formatter</code> beans.</li>
<li>Support for <code>HttpMessageConverters</code> (covered <a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-message-converters">later in this document</a>).</li>
<li>Automatic registration of <code>MessageCodesResolver</code> (covered <a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-spring-message-codes">later in this document</a>).</li>
<li>Static <code>index.html</code> support.</li>
<li>Custom <code>Favicon</code> support (covered <a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-favicon">later in this document</a>).</li>
<li>Automatic use of a <code>ConfigurableWebBindingInitializer</code> bean (covered <a href="https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-web-binding-initializer">later in this document</a>).</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnBean(ViewResolver.class)</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(name = &quot;viewResolver&quot;, value = ContentNegotiatingViewResolver.class)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ContentNegotiatingViewResolver <span class="title">viewResolver</span><span class="params">(BeanFactory beanFactory)</span> </span>&#123;</span><br><span class="line">    ContentNegotiatingViewResolver resolver = <span class="keyword">new</span> ContentNegotiatingViewResolver();</span><br><span class="line">    resolver.setContentNegotiationManager(</span><br><span class="line">        beanFactory.getBean(ContentNegotiationManager.class));</span><br><span class="line">    <span class="comment">// ContentNegotiatingViewResolver uses all the other view resolvers to locate</span></span><br><span class="line">    <span class="comment">// a view so it should have a high precedence</span></span><br><span class="line">    resolver.setOrder(Ordered.HIGHEST_PRECEDENCE);</span><br><span class="line">    <span class="keyword">return</span> resolver;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFormatters</span><span class="params">(FormatterRegistry registry)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (Converter&lt;?, ?&gt; converter : getBeansOfType(Converter.class)) &#123;</span><br><span class="line">        registry.addConverter(converter);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (GenericConverter converter : getBeansOfType(GenericConverter.class)) &#123;</span><br><span class="line">        registry.addConverter(converter);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Formatter&lt;?&gt; formatter : getBeansOfType(Formatter.class)) &#123;</span><br><span class="line">        registry.addFormatter(formatter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.messageConvertersProvider.ifAvailable((customConverters) -&gt; converters</span><br><span class="line">                                               .addAll(customConverters.getConverters()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>å¦‚æœç”¨æˆ·æœ‰é…ç½®(@Beanï¼Œ@Component)ï¼Œåˆ™ä½¿ç”¨ç»„åˆé…ç½®ï¼›</li>
</ul>
<h4 id="4-4-2-æ‰©å±•SpringMVCé…ç½®"><a href="#4-4-2-æ‰©å±•SpringMVCé…ç½®" class="headerlink" title="4.4.2 æ‰©å±•SpringMVCé…ç½®"></a>4.4.2 æ‰©å±•SpringMVCé…ç½®</h4><p>æ·»åŠ ä¸€ä¸ªé…ç½®ç±»å¹¶ä¸”ç»§æ‰¿è‡ªWebMvcConfigurerAdapterã€‚</p>
<p>å°†hello.doè¯·æ±‚æ˜ å°„åˆ°hello.htmlè§†å›¾ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ViewControllerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-10-1 ä¸‹åˆ1:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> <span class="keyword">extends</span> <span class="title">WebMvcConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        super.addViewControllers(registry);</span></span><br><span class="line">        registry.addViewController(<span class="string">&quot;/hello.do&quot;</span>).setViewName(<span class="string">&quot;/hello.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>WebMvcAutoConfigurationæ˜¯SpringMVCçš„è‡ªåŠ¨é…ç½®ç±»ï¼›</li>
<li>åœ¨åšå…¶ä»–è‡ªåŠ¨é…ç½®æ—¶ä¼šå¯¼å…¥ï¼š@Import(EnableWebMvcConfiguration.class)ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired(required = false)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setConfigurers</span><span class="params">(List&lt;WebMvcConfigurer&gt; configurers)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CollectionUtils.isEmpty(configurers)) &#123;</span><br><span class="line">        <span class="keyword">this</span>.configurers.addWebMvcConfigurers(configurers);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å®¹å™¨ä¸­æ‰€æœ‰çš„WebMvcConfigurationéƒ½ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>æ‰€æœ‰çš„é…ç½®éƒ½ä¼šå…±åŒèµ·ä½œç”¨ã€‚</p>
</li>
</ul>
<h4 id="4-4-3-å…¨é¢æ¥ç®¡SpringMVC"><a href="#4-4-3-å…¨é¢æ¥ç®¡SpringMVC" class="headerlink" title="4.4.3 å…¨é¢æ¥ç®¡SpringMVC"></a>4.4.3 å…¨é¢æ¥ç®¡SpringMVC</h4><p>åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableWebMvcï¼šä¸¢å¼ƒæ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ï¼Œæ‰‹åŠ¨é…ç½®æ‰€æœ‰çš„é…ç½®ã€‚</p>
<p>åŸç†ï¼š</p>
<p>WebMvcï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Import(&#123;DelegatingWebMvcConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EnableWebMvc &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DelegatingWebMvcConfigurationï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DelegatingWebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title">WebMvcConfigurationSupport</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> WebMvcConfigurerComposite configurers = <span class="keyword">new</span> WebMvcConfigurerComposite();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>WebMvcAutoConfigurationï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(type = Type.SERVLET)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class &#125;)</span></span><br><span class="line"><span class="comment">//å®¹å™¨ä¸­ç¼ºå°‘æ­¤ç»„ä»¶ï¼Œè¯¥è‡ªåŠ¨é…ç½®ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</span></span><br><span class="line"><span class="meta">@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class,</span></span><br><span class="line"><span class="meta">		ValidationAutoConfiguration.class &#125;)</span></span><br></pre></td></tr></table></figure>





<hr>
<h3 id="4-5-å¼•å…¥èµ„æº"><a href="#4-5-å¼•å…¥èµ„æº" class="headerlink" title="4.5 å¼•å…¥èµ„æº"></a>4.5 å¼•å…¥èµ„æº</h3><p>SpringBootä¸­ä½¿ç”¨<strong>webjars</strong>å¼•å…¥jqueryå’Œbootstrapä¹‹ç±»çš„èµ„æºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;webjars/bootstrap/4.1.3/css/bootstrap.css&#125;&quot;</span> <span class="attr">th:type</span>=<span class="string">&quot;text/css&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å³ä½¿æ›´æ¢é¡¹ç›®è®¿é—®åä¹Ÿå¯ä»¥æ­£å¸¸åŠ è½½é™æ€èµ„æºã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ViewControllerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-10-1 ä¸‹åˆ1:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//@EnableWebMvc</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> <span class="keyword">extends</span> <span class="title">WebMvcConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        super.addViewControllers(registry);</span></span><br><span class="line">        registry.addViewController(<span class="string">&quot;/hello.do&quot;</span>).setViewName(<span class="string">&quot;/hello.html&quot;</span>);</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/&quot;</span>).setViewName(<span class="string">&quot;/hello.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebMvcConfigurerAdapter <span class="title">webMvcConfigurerAdapter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WebMvcConfigurerAdapter() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">                registry.addViewController(<span class="string">&quot;/&quot;</span>).setViewName(<span class="string">&quot;/hello.html&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="4-6-å›½é™…åŒ–"><a href="#4-6-å›½é™…åŒ–" class="headerlink" title="4.6 å›½é™…åŒ–"></a>4.6 å›½é™…åŒ–</h3><ol>
<li><strong>ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼›</strong></li>
<li>ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼›</li>
<li>åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹ã€‚</li>
</ol>
<p>é…ç½®å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://image.youyou-2608.com/springboot/international.png"></p>
<p>SpringBootè‡ªåŠ¨é…ç½®ï¼ˆMessageSourceAutoConfiguration.javaï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="comment">//ç±»è·¯å¾„ä¸‹é…ç½®æ–‡ä»¶spring.messages</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.messages&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MessageSourceProperties <span class="title">messageSourceProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MessageSourceProperties();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MessageSource <span class="title">messageSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MessageSourceProperties properties = messageSourceProperties();</span><br><span class="line">    ResourceBundleMessageSource messageSource = <span class="keyword">new</span> ResourceBundleMessageSource();</span><br><span class="line">    <span class="keyword">if</span> (StringUtils.hasText(properties.getBasename())) &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„åŸºç¡€åï¼ˆå»é™¤å›½é™…è¯­è¨€ä»£ç ï¼‰</span></span><br><span class="line">        messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray(</span><br><span class="line">            StringUtils.trimAllWhitespace(properties.getBasename())));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (properties.getEncoding() != <span class="keyword">null</span>) &#123;</span><br><span class="line">        messageSource.setDefaultEncoding(properties.getEncoding().name());</span><br><span class="line">    &#125;</span><br><span class="line">    messageSource.setFallbackToSystemLocale(properties.isFallbackToSystemLocale());</span><br><span class="line">    Duration cacheDuration = properties.getCacheDuration();</span><br><span class="line">    <span class="keyword">if</span> (cacheDuration != <span class="keyword">null</span>) &#123;</span><br><span class="line">        messageSource.setCacheMillis(cacheDuration.toMillis());</span><br><span class="line">    &#125;</span><br><span class="line">    messageSource.setAlwaysUseMessageFormat(properties.isAlwaysUseMessageFormat());</span><br><span class="line">    messageSource.setUseCodeAsDefaultMessage(properties.isUseCodeAsDefaultMessage());</span><br><span class="line">    <span class="keyword">return</span> messageSource;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®é…ç½®æ–‡ä»¶åœ°å€ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">spring.message</span>=<span class="string">login</span></span><br></pre></td></tr></table></figure>

<p>é¡µé¢ä¸­è·å–å›½é™…åŒ–èµ„æºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">lable</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span> <span class="attr">th:message</span>=<span class="string">&quot;#&#123;login.tip&#125;&quot;</span>&gt;</span>Tips<span class="tag">&lt;/<span class="name">lable</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lable</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span> <span class="attr">th:message</span>=<span class="string">&quot;#&#123;login.username&#125;&quot;</span>&gt;</span>Username<span class="tag">&lt;/<span class="name">lable</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lable</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span> <span class="attr">th:message</span>=<span class="string">&quot;#&#123;login.password&#125;&quot;</span>&gt;</span>Password<span class="tag">&lt;/<span class="name">lable</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lable</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span> <span class="attr">th:message</span>=<span class="string">&quot;#&#123;login.remember&#125;&quot;</span>&gt;</span>remember<span class="tag">&lt;/<span class="name">lable</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨æ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®çš„ä¿¡æ¯è‡ªåŠ¨åˆ‡æ¢å›½é™…åŒ–ã€‚</p>
<p>SpringMVCåŒºåŸŸä¿¡æ¯ç»„ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line"><span class="meta">@ConditionalOnProperty(prefix = &quot;spring.mvc&quot;, name = &quot;locale&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> LocaleResolver <span class="title">localeResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.mvcProperties</span><br><span class="line">        .getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FixedLocaleResolver(<span class="keyword">this</span>.mvcProperties.getLocale());</span><br><span class="line">    &#125;</span><br><span class="line">    AcceptHeaderLocaleResolver localeResolver = <span class="keyword">new</span> AcceptHeaderLocaleResolver();</span><br><span class="line">    localeResolver.setDefaultLocale(<span class="keyword">this</span>.mvcProperties.getLocale());</span><br><span class="line">    <span class="keyword">return</span> localeResolver;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é»˜è®¤æ ¹æ®è¯·æ±‚å¤´è·å–çš„åŒºåŸŸä¿¡æ¯å±•ç¤ºå›½é™…åŒ–ä¿¡æ¯ã€‚</span></span><br></pre></td></tr></table></figure>



<p><strong>å¯ä»¥åœ¨è¯·æ±‚å‚æ•°ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯å®ç°å›½é™…åŒ–ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://localhost:8080/hello.do?language=zh_CN</span><br><span class="line">https://localhost:8080/hello.do?language=en_US</span><br></pre></td></tr></table></figure>

<p>æ‰‹åŠ¨é…ç½®åŒºåŸŸä¿¡æ¯è§£æå™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.LocaleResolver;</span><br><span class="line"><span class="keyword">import</span> org.thymeleaf.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-10-3 ä¸‹åˆ4:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLocaleResolver</span> <span class="keyword">implements</span> <span class="title">LocaleResolver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Locale <span class="title">resolveLocale</span><span class="params">(HttpServletRequest httpServletRequest)</span> </span>&#123;</span><br><span class="line">        String language = httpServletRequest.getParameter(<span class="string">&quot;language&quot;</span>);</span><br><span class="line">        Locale locale = Locale.getDefault();</span><br><span class="line">        <span class="keyword">if</span> (!StringUtils.isEmpty(language)) &#123;</span><br><span class="line">            String[] regionInfo = language.split(<span class="string">&quot;_&quot;</span>);</span><br><span class="line">            locale = <span class="keyword">new</span> Locale(regionInfo[<span class="number">0</span>], regionInfo[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> locale;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLocale</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Locale locale)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<hr>
<h3 id="4-7-æ‹¦æˆªå™¨"><a href="#4-7-æ‹¦æˆªå™¨" class="headerlink" title="4.7 æ‹¦æˆªå™¨"></a>4.7 æ‹¦æˆªå™¨</h3><ul>
<li>PostMapping()ï¼šRestfulAPIæ³¨è§£ï¼›</li>
<li>å¼€å‘æœŸé—´ç¦ç”¨Thymeleafçš„ç¼“å­˜ï¼šspring.thymeleaf.cache=falseï¼›</li>
<li>é”™è¯¯æ¶ˆæ¯çš„æ˜¾ç¤ºï¼›</li>
<li>é˜²æ­¢è¡¨å•é‡å¤æäº¤ï¼Œæ·»åŠ è§†å›¾è§†å›¾æ˜ å°„åï¼Œä½¿ç”¨é‡å®šå‘ã€‚</li>
<li>ä½¿ç”¨æ‹¦æˆªå™¨è¿›è¡Œèº«ä»½æ ¡éªŒï¼›</li>
<li>ç¼–å†™æ‹¦æˆªå™¨ï¼Œåœ¨é…ç½®ç±»ä¸­æ³¨å†Œæ‹¦æˆªå™¨ã€‚</li>
<li>é¡µé¢ä¸­ä½¿ç”¨Thymeleafè·å–å€¼ã€‚</li>
</ul>
<hr>
<h3 id="4-8-CRUDå®éªŒ"><a href="#4-8-CRUDå®éªŒ" class="headerlink" title="4.8 CRUDå®éªŒ"></a>4.8 CRUDå®éªŒ</h3><h4 id="4-8-1-å®éªŒè¦æ±‚"><a href="#4-8-1-å®éªŒè¦æ±‚" class="headerlink" title="4.8.1 å®éªŒè¦æ±‚"></a>4.8.1 å®éªŒè¦æ±‚</h4><p>å®éªŒè¦æ±‚ï¼š</p>
<ol>
<li><p>RestfulAPIé£æ ¼ï¼š</p>
<ol>
<li>URIï¼š/èµ„æºåç§°/èµ„æºæ ‡è¯†ï¼›</li>
<li>HTTPè¯·æ±‚æ–¹å¼åŒºåˆ†å¯¹èµ„æºçš„CRUDæ“ä½œï¼›</li>
</ol>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>æ™®é€šCRUD</th>
<th>RestfulCRUD</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥è¯¢</td>
<td>getEmp</td>
<td>empâ€”GET</td>
</tr>
<tr>
<td>æ·»åŠ </td>
<td>addEmp?xxx</td>
<td>empâ€”POST</td>
</tr>
<tr>
<td>ä¿®æ”¹</td>
<td>updateEmp?id=xxx&amp;xxx=xxx</td>
<td>emp/{id}â€”PUT</td>
</tr>
<tr>
<td>åˆ é™¤</td>
<td>deleteEmp?id=1</td>
<td>emp/{id}â€”DELETE</td>
</tr>
</tbody></table>
</li>
</ol>
<ol>
<li><p>å®éªŒçš„è¯·æ±‚æ¶æ„ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>è¯·æ±‚URI</th>
<th>è¯·æ±‚æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥è¯¢æ‰€æœ‰çš„å‘˜å·¥</td>
<td>emps</td>
<td>GET</td>
</tr>
<tr>
<td>æŸ¥è¯¢æŸä¸ªå‘˜å·¥</td>
<td>emp/{id}</td>
<td>GET</td>
</tr>
<tr>
<td>æ¥åˆ°æ·»åŠ ç•Œé¢</td>
<td>emp</td>
<td>GET</td>
</tr>
<tr>
<td>æ·»åŠ å‘˜å·¥</td>
<td>emp</td>
<td>POST</td>
</tr>
<tr>
<td>æ¥åˆ°ä¿®æ”¹ç•Œé¢</td>
<td>emp/{id}</td>
<td>PUT</td>
</tr>
<tr>
<td>ä¿®æ”¹å‘˜å·¥</td>
<td>emp</td>
<td>PUT</td>
</tr>
<tr>
<td>åˆ é™¤å‘˜å·¥</td>
<td>emp/{id}</td>
<td>DELETE</td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="4-8-2-å…¬å…±é¡µé¢æŠ½å–â€”åˆ—è¡¨é¡µ"><a href="#4-8-2-å…¬å…±é¡µé¢æŠ½å–â€”åˆ—è¡¨é¡µ" class="headerlink" title="4.8.2 å…¬å…±é¡µé¢æŠ½å–â€”åˆ—è¡¨é¡µ"></a>4.8.2 å…¬å…±é¡µé¢æŠ½å–â€”åˆ—è¡¨é¡µ</h4><ol>
<li><p>åˆ©ç”¨ThymeleafæŠ½å–å…¬å…±é¡µé¢ï¼›</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">&quot;copy&quot;</span>&gt;</span></span><br><span class="line"><span class="symbol">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>â€œ~{templatename::selector}â€ï¼šæ¨¡æ¿åé€‰æ‹©å™¨ï¼›</p>
<p>~{templatename::fragmentname}ï¼šæ¨¡æ¿åï¼šç‰‡æ–­åã€‚</p>
</li>
<li><p>é»˜è®¤æ•ˆæœï¼š</p>
<p>insertç‰‡æ®µéƒ½åœ¨divæ ‡ç­¾ä¸­</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">&quot;footer :: copy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä¸‰ç§å¼•å…¥åŠŸèƒ½ç‰‡æ®µçš„thå±æ€§ï¼š</p>
<ol>
<li><strong>th:insertï¼šå°†å…¬å…±ç‰‡æ®µæ•´ä¸ªæ’å…¥åˆ°å£°æ˜å¼•å…¥çš„å…ƒç´ ä¸­ï¼›</strong></li>
<li><strong>th:replaceï¼šå°†å£°æ˜å¼•å…¥çš„å…ƒç´ æ›¿æ¢ä¸ºå…¬å…±ç‰‡æ®µï¼›</strong></li>
<li><strong>th:includeï¼šå°†è¢«å¼•å…¥çš„ç‰‡æ®µçš„å†…å®¹åŒ…å«è¿›è¿™ä¸ªæ ‡ç­¾ä¸­ã€‚</strong></li>
</ol>
</li>
</ol>
<hr>
<h4 id="4-8-3-é“¾æ¥é«˜äº®-amp-åˆ—è¡¨å®Œæˆ"><a href="#4-8-3-é“¾æ¥é«˜äº®-amp-åˆ—è¡¨å®Œæˆ" class="headerlink" title="4.8.3 é“¾æ¥é«˜äº®&amp;åˆ—è¡¨å®Œæˆ"></a>4.8.3 é“¾æ¥é«˜äº®&amp;åˆ—è¡¨å®Œæˆ</h4><p><img src="https://image.youyou-2608.com/springboot/paramterizable.png"></p>
<p><strong>å®ç°æ–¹æ³•ï¼šå¼•å…¥å…¬å…±ç‰‡æ®µæ—¶ä¼ å…¥ç›¸å…³å‚æ•°ï¼Œå…¬å…±ç‰‡æ®µæ ¹æ®å‚æ•°é«˜äº®ç›¸å…³éƒ¨åˆ†ã€‚</strong></p>
<p>Thymeleafæ—¥æœŸå·¥å…·å¯¹è±¡(æ–‡æ¡£é™„å½• &gt; dates)ï¼š</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line"><span class="params">#</span>dates : methods for java.util.Date objects: formatting, component extraction, etc.</span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">$&#123;#dates.format(date,</span> <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;)&#125;</span></span><br><span class="line"><span class="meta">$&#123;#dates.arrayFormat(datesArray,</span> <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;)&#125;</span></span><br><span class="line"><span class="meta">$&#123;#dates.listFormat(datesList,</span> <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;)&#125;</span></span><br><span class="line"><span class="meta">$&#123;#dates.setFormat(datesSet,</span> <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;)&#125;</span></span><br></pre></td></tr></table></figure>



<hr>
<h4 id="4-8-4-æ·»åŠ å‘˜å·¥-gt-æ¥åˆ°æ·»åŠ é¡µé¢"><a href="#4-8-4-æ·»åŠ å‘˜å·¥-gt-æ¥åˆ°æ·»åŠ é¡µé¢" class="headerlink" title="4.8.4 æ·»åŠ å‘˜å·¥ &gt; æ¥åˆ°æ·»åŠ é¡µé¢"></a>4.8.4 æ·»åŠ å‘˜å·¥ &gt; æ¥åˆ°æ·»åŠ é¡µé¢</h4><ol>
<li>æ·»åŠ è¡¨å•ï¼šBootstrapå®˜ç½‘æ¨¡æ¿ç›´æ¥å¤åˆ¶ï¼›</li>
<li>é€šè¿‡ **æ·»åŠ  **æŒ‰é’®è·³è½¬åˆ°æ·»åŠ é¡µé¢ï¼›</li>
<li>ä½¿ç”¨th:eachå®Œæˆéƒ¨é—¨çš„éå†ï¼›</li>
</ol>
<hr>
<h4 id="4-8-5-æ·»åŠ å‘˜å·¥-gt-å®Œæˆæ·»åŠ "><a href="#4-8-5-æ·»åŠ å‘˜å·¥-gt-å®Œæˆæ·»åŠ " class="headerlink" title="4.8.5 æ·»åŠ å‘˜å·¥ &gt; å®Œæˆæ·»åŠ "></a>4.8.5 æ·»åŠ å‘˜å·¥ &gt; å®Œæˆæ·»åŠ </h4><ol>
<li>å®Œæˆæ·»åŠ å <strong>é‡å®šå‘</strong> è‡³åˆ—è¡¨é¡µé¢ï¼ˆforwardæˆ–è€…redirectï¼‰ï¼›</li>
<li>æäº¤çš„æ•°æ®æ ¼å¼é—®é¢˜ï¼šæ—¥æœŸæ ¼å¼ï¼š<ol>
<li>æ—¥æœŸæ ¼å¼åŒ–ï¼šSpringMVCå°†é¡µé¢æäº¤çš„å€¼éœ€è¦è½¬æ¢æˆæŒ‡å®šçš„ç±»å‹ï¼›</li>
<li><strong>åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰è¡¨å•æäº¤çš„æ—¥æœŸæ ¼å¼ã€‚</strong></li>
</ol>
</li>
</ol>
<hr>
<h4 id="4-8-6-ä¿®æ”¹å‘˜å·¥ä¿¡æ¯"><a href="#4-8-6-ä¿®æ”¹å‘˜å·¥ä¿¡æ¯" class="headerlink" title="4.8.6 ä¿®æ”¹å‘˜å·¥ä¿¡æ¯"></a>4.8.6 ä¿®æ”¹å‘˜å·¥ä¿¡æ¯</h4><ol>
<li>é…ç½®HiddenHttpMethodFilterï¼›</li>
</ol>
<hr>
<h4 id="4-8-7-åˆ é™¤å‘˜å·¥"><a href="#4-8-7-åˆ é™¤å‘˜å·¥" class="headerlink" title="4.8.7 åˆ é™¤å‘˜å·¥"></a>4.8.7 åˆ é™¤å‘˜å·¥</h4><hr>
<h3 id="4-9-å®šåˆ¶é”™è¯¯é¡µé¢"><a href="#4-9-å®šåˆ¶é”™è¯¯é¡µé¢" class="headerlink" title="4.9 å®šåˆ¶é”™è¯¯é¡µé¢"></a>4.9 å®šåˆ¶é”™è¯¯é¡µé¢</h3><ol>
<li><p>é»˜è®¤å‡ºé”™å¤„ç†ï¼šè¿”å›ä¸€ä¸ªé»˜è®¤çš„é”™è¯¯å¤„ç†é¡µé¢ï¼šåœ¨é¡µé¢å…±äº«ä¿¡æ¯ï¼›</p>
</li>
<li><p>å¦‚æœæ˜¯å…¶ä»–å®¢æˆ·ç«¯ï¼Œé»˜è®¤å“åº”ä¸€ä¸ªjsonæ•°æ®ï¼›</p>
</li>
<li><p>å¯ä»¥å‚ç…§ErrorAutoConfigurationï¼Œé”™è¯¯å¤„ç†çš„è‡ªåŠ¨é…ç½®ï¼Œåœ¨å®¹å™¨ä¸­æ·»åŠ å¦‚ä¸‹ç»„ä»¶ï¼š</p>
<ol>
<li><p>DefaultErrorAttributesï¼›</p>
</li>
<li><p>BasicErrorControllerï¼šå¤„ç†é»˜è®¤çš„erroré”™è¯¯è¯·æ±‚ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(produces = &quot;text/html&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">errorHtml</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="params"><span class="function">                              HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">    HttpStatus status = getStatus(request);</span><br><span class="line">    Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes(</span><br><span class="line">        request, isIncludeStackTrace(request, MediaType.TEXT_HTML)));</span><br><span class="line">    response.setStatus(status.value());</span><br><span class="line">    ModelAndView modelAndView = resolveErrorView(request, response, status, model);</span><br><span class="line">    <span class="keyword">return</span> (modelAndView != <span class="keyword">null</span>) ? modelAndView : <span class="keyword">new</span> ModelAndView(<span class="string">&quot;error&quot;</span>, model);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ErrorPageCustomizerï¼šç³»ç»Ÿå‡ºç°é”™è¯¯ï¼Œæ¥åˆ°/errorè¯·æ±‚è¿›è¡Œå¤„ç†ï¼šweb.xmlï¼›</p>
</li>
<li><p>DefaultErrorViewResolverï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    Map&lt;Series, String&gt; views = <span class="keyword">new</span> EnumMap&lt;&gt;(Series.class);</span><br><span class="line">    views.put(Series.CLIENT_ERROR, <span class="string">&quot;4xx&quot;</span>);</span><br><span class="line">    views.put(Series.SERVER_ERROR, <span class="string">&quot;5xx&quot;</span>);</span><br><span class="line">    SERIES_VIEWS = Collections.unmodifiableMap(views);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">resolveErrorView</span><span class="params">(HttpServletRequest request, HttpStatus status,</span></span></span><br><span class="line"><span class="params"><span class="function">                                     Map&lt;String, Object&gt; model)</span> </span>&#123;</span><br><span class="line">    ModelAndView modelAndView = resolve(String.valueOf(status), model);</span><br><span class="line">    <span class="keyword">if</span> (modelAndView == <span class="keyword">null</span> &amp;&amp; SERIES_VIEWS.containsKey(status.series())) &#123;</span><br><span class="line">        modelAndView = resolve(SERIES_VIEWS.get(status.series()), model);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> modelAndView;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> ModelAndView <span class="title">resolve</span><span class="params">(String viewName, Map&lt;String, Object&gt; model)</span> </span>&#123;</span><br><span class="line">    String errorViewName = <span class="string">&quot;error/&quot;</span> + viewName;</span><br><span class="line">    TemplateAvailabilityProvider provider = <span class="keyword">this</span>.templateAvailabilityProviders</span><br><span class="line">        .getProvider(errorViewName, <span class="keyword">this</span>.applicationContext);</span><br><span class="line">    <span class="keyword">if</span> (provider != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ModelAndView(errorViewName, model);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resolveResource(errorViewName, model);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<p>å®šåˆ¶è‡ªå®šä¹‰é”™è¯¯é¡µé¢ï¼š</p>
<ol>
<li><p>æœ‰æ¨¡æ¿å¼•æ“çš„æƒ…å†µä¸‹ï¼šerror/çŠ¶æ€ç ï¼Œå°†é”™è¯¯å‘½åä¸ºstatus_code.htmlæ”¾åœ¨classpath:error/ä¸‹ï¼Œå‘ç”Ÿæ­¤é”™è¯¯ä¼šæ¥åˆ°è¯¥é¡µé¢ï¼›</p>
<p>å¯ä»¥ä½¿ç”¨4xxå’Œ5xxä½œä¸ºé”™è¯¯é¡µé¢çš„æ–‡ä»¶åæ¥åŒ¹é…è¯¥ç±»å‹çš„æ‰€æœ‰é”™è¯¯ï¼Œç²¾ç¡®åŒ¹é…ä¼˜å…ˆï¼›</p>
<p>é¡µé¢èƒ½è·å–çš„ä¿¡æ¯ï¼š</p>
<ol>
<li>timestampï¼›</li>
<li>messageï¼›</li>
<li>status codeï¼›</li>
<li>exceptionï¼›</li>
<li>errorsã€‚</li>
</ol>
</li>
<li><p>æ²¡æœ‰æ¨¡æ¿å¼•æ“ï¼šé™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹å¯»æ‰¾ã€‚</p>
</li>
</ol>
<p>å®šåˆ¶è‡ªå®šä¹‰jsonæ•°æ®ï¼š</p>
<ol>
<li><p>æ²¡æœ‰è‡ªé€‚åº”æ•ˆæœï¼Œæµè§ˆå™¨å’Œå®¢æˆ·ç«¯è¿”å›çš„éƒ½æ˜¯jsonæ•°æ®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="meta">@ExceptionHandler</span></span><br><span class="line"><span class="meta">@Response</span></span><br></pre></td></tr></table></figure></li>
<li><p>è‡ªé€‚åº”æ•ˆæœï¼šè½¬å‘ç»™/errorè¿›è¡Œè‡ªé€‚åº”æ•ˆæœå¤„ç†ï¼Œç»™requestä¸­ä¼ å…¥è‡ªå·±çš„å‚æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(produces = &quot;text/html&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">errorHtml</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="params"><span class="function">                              HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">    HttpStatus status = getStatus(request);</span><br><span class="line">    Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes(</span><br><span class="line">        request, isIncludeStackTrace(request, MediaType.TEXT_HTML)));</span><br><span class="line">    response.setStatus(status.value());</span><br><span class="line">    ModelAndView modelAndView = resolveErrorView(request, response, status, model);</span><br><span class="line">    <span class="keyword">return</span> (modelAndView != <span class="keyword">null</span>) ? modelAndView : <span class="keyword">new</span> ModelAndView(<span class="string">&quot;error&quot;</span>, model);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123;</span><br><span class="line">    Map&lt;String, Object&gt; body = getErrorAttributes(request,</span><br><span class="line">                                                  isIncludeStackTrace(request, MediaType.ALL));</span><br><span class="line">    HttpStatus status = getStatus(request);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(body, status);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å°†è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯æºå¸¦ï¼š</p>
<p>å“åº”æ•°æ®ç”±getErrorAttributes()è·å–ï¼š</p>
<ol>
<li><p>ç¼–å†™ä¸€ä¸ªErrorControllerçš„å®ç°ç±»æˆ–è€…AbstractErrorControllerçš„å­ç±»ï¼Œæ”¾åœ¨å®¹å™¨ä¸­ï¼›</p>
</li>
<li><p>é¡µé¢ä¸Šèƒ½ç”¨çš„æ•°æ®æˆ–è€…jsonè¿”å›çš„æ•°æ®éƒ½æ˜¯errorAttributes.getErrorAttributeså¾—åˆ°ï¼›DefaultErrorAttributes.getErrorAttributes()è¿›è¡Œé”™è¯¯å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.config;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.error.DefaultErrorAttributes;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 18-10-7 ä¸‹åˆ4:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyErrorHandler</span> <span class="keyword">extends</span> <span class="title">DefaultErrorAttributes</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getErrorAttributes</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            org.springframework.web.reactive.function.server.ServerRequest request,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="keyword">boolean</span> includeStackTrace)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getErrorAttributes(request, includeStackTrace);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<hr>
<h2 id="ç¬¬äº”ç« -é…ç½®åµŒå…¥å¼Servletå®¹å™¨"><a href="#ç¬¬äº”ç« -é…ç½®åµŒå…¥å¼Servletå®¹å™¨" class="headerlink" title="ç¬¬äº”ç«  é…ç½®åµŒå…¥å¼Servletå®¹å™¨"></a>ç¬¬äº”ç«  é…ç½®åµŒå…¥å¼Servletå®¹å™¨</h2><hr>
<h3 id="5-1-å®šåˆ¶åµŒå…¥å¼Servletå®¹å™¨"><a href="#5-1-å®šåˆ¶åµŒå…¥å¼Servletå®¹å™¨" class="headerlink" title="5.1 å®šåˆ¶åµŒå…¥å¼Servletå®¹å™¨"></a>5.1 å®šåˆ¶åµŒå…¥å¼Servletå®¹å™¨</h3><p>é»˜è®¤ä½¿ç”¨åµŒå…¥å¼tomcat8.5.4ä½œä¸ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼›</p>
<p><img src="https://image.youyou-2608.com/springboot/tomcat.png"></p>
<ol>
<li>å¦‚ä½•å®šåˆ¶åµŒå…¥å¼çš„Servletå®¹å™¨ï¼Ÿ</li>
<li>SpringBootèƒ½å¦æ”¯æŒå…¶ä»–çš„Servletå®¹å™¨ï¼Ÿ</li>
</ol>
<ol>
<li>ä¿®æ”¹å’ŒServeræœ‰å…³çš„é…ç½®(server.properties)ï¼š</li>
</ol>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="meta">servet.context-path</span>=<span class="string">/path</span></span><br></pre></td></tr></table></figure>



<ol>
<li><p><strong>ç¼–å†™ä¸€ä¸ªEmbeddedServletContainerCustomizeræ¥ä¿®æ”¹åµŒå…¥å¼Servletå®¹å™¨ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> EmbeddedServletContainerCustomizer <span class="title">embeddedServletContainerCustomizer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customize</span><span class="params">(ConfigurableEmbeddedServletContainer container)</span> </span>&#123;</span><br><span class="line">        container.setPort(<span class="number">8083</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä¸å®¹å™¨ç›¸å…³çš„ç±»ï¼šServerProperties.class</p>
<p>SpringBoot2.0ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmbeddedTomcatConfig</span> <span class="keyword">implements</span> <span class="title">WebServerFactoryCustomizer</span>&lt;<span class="title">ConfigurableServletWebServerFactory</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customize</span><span class="params">(ConfigurableServletWebServerFactory factory)</span> </span>&#123;</span><br><span class="line">        factory.setContextPath(<span class="string">&quot;/test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<hr>
<h3 id="5-2-æ³¨å†ŒServletå®¹å™¨ä¸‰å¤§ç»„ä»¶"><a href="#5-2-æ³¨å†ŒServletå®¹å™¨ä¸‰å¤§ç»„ä»¶" class="headerlink" title="5.2 æ³¨å†ŒServletå®¹å™¨ä¸‰å¤§ç»„ä»¶"></a>5.2 æ³¨å†ŒServletå®¹å™¨ä¸‰å¤§ç»„ä»¶</h3><p>Servletï¼šServletRegistrationBean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServletRegistrationBean&lt;MyServlet&gt; <span class="title">myServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ServletRegistrationBean&lt;&gt;(<span class="keyword">new</span> MyServlet(), <span class="string">&quot;/servlet.do&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Filterï¼šFilterRegistrationBean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> FilterRegistrationBean&lt;MyFilter&gt; <span class="title">myFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FilterRegistrationBean&lt;MyFilter&gt; registrationBean = <span class="keyword">new</span> FilterRegistrationBean&lt;&gt;();</span><br><span class="line">    registrationBean.setFilter(<span class="keyword">new</span> MyFilter());</span><br><span class="line">    registrationBean.setUrlPatterns(Arrays.asList(<span class="string">&quot;/hello.do&quot;</span>, <span class="string">&quot;/nihao.do&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> registrationBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Listenerï¼šServletListenerRegistrationBean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServletListenerRegistrationBean&lt;MyListener&gt; <span class="title">myListener</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ServletListenerRegistrationBean&lt;MyListener&gt; registrationBean = <span class="keyword">new</span> ServletListenerRegistrationBean&lt;MyListener&gt;();</span><br><span class="line">    registrationBean.setListener(<span class="keyword">new</span> MyListener());</span><br><span class="line">    <span class="keyword">return</span> registrationBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="5-3-åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŸç†"><a href="#5-3-åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŸç†" class="headerlink" title="5.3 åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŸç†"></a>5.3 åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŸç†</h3><p>EmbeddedWebServerFactoryCustomizerAutoConfiguration.class</p>
<p>Tomcatï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123; Tomcat.class, UpgradeProtocol.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TomcatWebServerFactoryCustomizerConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TomcatWebServerFactoryCustomizer <span class="title">tomcatWebServerFactoryCustomizer</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        Environment environment, ServerProperties serverProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TomcatWebServerFactoryCustomizer(environment, serverProperties);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Jettyï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123; Server.class, Loader.class, WebAppContext.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">JettyWebServerFactoryCustomizerConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JettyWebServerFactoryCustomizer <span class="title">jettyWebServerFactoryCustomizer</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        Environment environment, ServerProperties serverProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> JettyWebServerFactoryCustomizer(environment, serverProperties);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Undertowï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123; Undertow.class, SslClientAuthMode.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UndertowWebServerFactoryCustomizerConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UndertowWebServerFactoryCustomizer <span class="title">undertowWebServerFactoryCustomizer</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        Environment environment, ServerProperties serverProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UndertowWebServerFactoryCustomizer(environment, serverProperties);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>é…ç½®æ–‡ä»¶ï¼šServer.propertiesï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;server&quot;, ignoreUnknownFields = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServerProperties</span> </span>&#123;</span><br></pre></td></tr></table></figure>



<p>ConfigurableTomcatWebServerFactory.classï¼š</p>
<p><img src="https://image.youyou-2608.com/springboot/hy.png"></p>
<hr>
<h3 id="5-4-ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨"><a href="#5-4-ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨" class="headerlink" title="5.4 ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨"></a>5.4 ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨</h3><p>å†…ç½®çš„servletå®¹å™¨ä¸æ”¯æŒjspï¼›</p>
<ol>
<li>å‘é¡¹ç›®ä¸­å¯¼å…¥tomcatæœåŠ¡å™¨ï¼Œåˆ›å»ºweb.xmlæ–‡ä»¶ï¼Œæ·»åŠ application.propertiesé…ç½®ï¼›æ‰“åŒ…æ–¹å¼ä¸ºwaråŒ…ï¼›</li>
</ol>
<p>å¿…é¡»ç¼–å†™ä¸€ä¸ªServletInitializeræ–‡ä»¶ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletInitializer</span> <span class="keyword">extends</span> <span class="title">SpringBootServletInitializer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> SpringApplicationBuilder <span class="title">configure</span><span class="params">(SpringApplicationBuilder application)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> application.sources($&#123;MainClass&#125;.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å°†åµŒå…¥å¼spring-boot-start-webå†…åµŒçš„tomcatçš„scopeæŒ‡å®šä¸ºprovidedï¼›</li>
</ol>
<hr>
<h2 id="ç¬¬å…­ç« -DockeræŠ€æœ¯"><a href="#ç¬¬å…­ç« -DockeræŠ€æœ¯" class="headerlink" title="ç¬¬å…­ç«  DockeræŠ€æœ¯"></a>ç¬¬å…­ç«  DockeræŠ€æœ¯</h2><h3 id="6-1-dockerç®€ä»‹"><a href="#6-1-dockerç®€ä»‹" class="headerlink" title="6.1 dockerç®€ä»‹"></a>6.1 dockerç®€ä»‹</h3><p>æ¦‚å¿µï¼šDockeræ˜¯ä¸€ä¸ªå¼€æºçš„å¼•æ“ï¼Œå¯ä»¥è½»æ¾çš„ä¸ºä»»ä½•åº”ç”¨åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ã€å¯ç§»æ¤çš„ã€è‡ªç»™è‡ªè¶³çš„å®¹å™¨ã€‚å¼€å‘è€…åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘æµ‹è¯•é€šè¿‡çš„å®¹å™¨å¯ä»¥æ‰¹é‡åœ°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²ï¼ŒåŒ…æ‹¬VMsï¼ˆè™šæ‹Ÿæœºï¼‰ã€<a href="http://www.whatis.com.cn/word_5275.htm">bare metal</a>ã€OpenStack é›†ç¾¤å’Œå…¶ä»–çš„åŸºç¡€åº”ç”¨å¹³å°ã€‚ </p>
<p><a href="http://www.docker.org.cn/book/docker/what-is-docker-16.html">Dockerå…¥é—¨</a></p>
<p><img src="https://image.youyou-2608.com/springboot/image_docker.png"></p>
<hr>
<h3 id="6-2-Dockeræ ¸å¿ƒæ¦‚å¿µ"><a href="#6-2-Dockeræ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="6.2 Dockeræ ¸å¿ƒæ¦‚å¿µ"></a>6.2 Dockeræ ¸å¿ƒæ¦‚å¿µ</h3><ol>
<li>dockerä¸»æœº(Host)ï¼šå®‰è£…äº†Dockerç¨‹åºçš„æœºå™¨(Dockerç›´æ¥å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Š)ï¼›</li>
<li>dockerå®¢æˆ·ç«¯(Client)ï¼šè¿æ¥Dockerä¸»æœºè¿›è¡Œæ“ä½œï¼›</li>
<li>dockerä»“åº“(Registry)ï¼šç”¨æ¥ä¿å­˜å„ç§æ‰“åŒ…å¥½çš„è½¯ä»¶é•œåƒï¼›</li>
<li>dockeré•œåƒ(Images)ï¼šè½¯ä»¶æ‰“åŒ…å¥½çš„é•œåƒï¼Œæ”¾åœ¨dockerä»“åº“ä¸­ï¼›</li>
<li>dockerå®¹å™¨(Container)ï¼šé•œåƒå¯åŠ¨åçš„å®ä¾‹ç§°ä¸ºä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼›</li>
</ol>
<p>ä½¿ç”¨dockerå®¹å™¨çš„æ­¥éª¤ï¼š</p>
<ol>
<li>å®‰è£…dockerï¼›</li>
<li>å»dockerä»“åº“æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶å¯¹åº”çš„é•œåƒï¼›</li>
<li>ä½¿ç”¨dockerè¿è¡Œè¿™ä¸ªé•œåƒï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªDockeré•œåƒå®¹å™¨ï¼›</li>
<li>å¯¹å®¹å™¨çš„å¯åŠ¨å’Œåœæ­¢å°±æ˜¯å¯¹è½¯ä»¶çš„å¯åŠ¨å’Œåœæ­¢ã€‚</li>
</ol>
<hr>
<h3 id="6-3-Dockerå¸¸ç”¨æ“ä½œ"><a href="#6-3-Dockerå¸¸ç”¨æ“ä½œ" class="headerlink" title="6.3 Dockerå¸¸ç”¨æ“ä½œ"></a>6.3 Dockerå¸¸ç”¨æ“ä½œ</h3><p>é•œåƒå®˜æ–¹ç½‘ç«™ï¼š<a href="https://hub.docker.com/">Docker Hub</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search mysql     //æœç´¢é•œåƒ</span><br><span class="line">docker pull mysql:5.5   //æ‹‰å–é•œåƒ</span><br><span class="line">docker images           //æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰é•œåƒ</span><br><span class="line">docker rmi images-id    //åˆ é™¤æœ¬åœ°é•œåƒ</span><br></pre></td></tr></table></figure>

<p><img src="https://image.youyou-2608.com/springboot/docker_run.png"></p>
<p><strong>å„ä¸ªç‹¬ç«‹çš„å®¹å™¨äº’ä¸å¹²æ‰°ï¼Œç‹¬ç«‹è¿è¡Œã€‚</strong></p>
<hr>
<h3 id="6-4-ç¯å¢ƒæ­å»º"><a href="#6-4-ç¯å¢ƒæ­å»º" class="headerlink" title="6.4 ç¯å¢ƒæ­å»º"></a>6.4 ç¯å¢ƒæ­å»º</h3><h4 id="6-4-1-å®‰è£…MySQLï¼š"><a href="#6-4-1-å®‰è£…MySQLï¼š" class="headerlink" title="6.4.1 å®‰è£…MySQLï¼š"></a>6.4.1 å®‰è£…MySQLï¼š</h4><p>å¯åŠ¨ä¸€ä¸ªMySQLå®ä¾‹(éœ€è¦æŒ‡å®šå¯†ç å’Œ<strong>ç«¯å£æ˜ å°„</strong>)ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker run -p port --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span></span><br></pre></td></tr></table></figure>

<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hub.docker.com/_/mysql/">MySQLæ–‡æ¡£</a></p>
<p>å‡ ä¸ªé«˜çº§æ“ä½œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼š</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run --name some-mysql -v /my/custom:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span></span><br><span class="line"></span><br><span class="line">ä¸é€‚ç”¨é…ç½®æ–‡ä»¶ï¼š</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span></span><br></pre></td></tr></table></figure>



<h4 id="6-4-2-å®‰è£…Redis"><a href="#6-4-2-å®‰è£…Redis" class="headerlink" title="6.4.2 å®‰è£…Redis"></a>6.4.2 å®‰è£…Redis</h4><h4 id="6-4-3-å®‰è£…RabbitMQ"><a href="#6-4-3-å®‰è£…RabbitMQ" class="headerlink" title="6.4.3 å®‰è£…RabbitMQ"></a>6.4.3 å®‰è£…RabbitMQ</h4><h4 id="6-4-4-å®‰è£…ElasticSearch"><a href="#6-4-4-å®‰è£…ElasticSearch" class="headerlink" title="6.4.4 å®‰è£…ElasticSearch"></a>6.4.4 å®‰è£…ElasticSearch</h4><hr>
<h2 id="ç¬¬ä¸ƒç« -SpringBootä¸æ•°æ®åº“è®¿é—®"><a href="#ç¬¬ä¸ƒç« -SpringBootä¸æ•°æ®åº“è®¿é—®" class="headerlink" title="ç¬¬ä¸ƒç«  SpringBootä¸æ•°æ®åº“è®¿é—®"></a>ç¬¬ä¸ƒç«  SpringBootä¸æ•°æ®åº“è®¿é—®</h2><p>SpringBootä¸æ•°æ®è®¿é—®ç›¸å…³çš„åœºæ™¯å¯åŠ¨å™¨ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">spring-boot-starter-data-cassandra</span><br><span class="line"></span><br><span class="line">Starter for using Cassandra distributed database and Spring Data Cassandra</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-cassandra-reactive</span><br><span class="line"></span><br><span class="line">Starter for using Cassandra distributed database and Spring Data Cassandra Reactive</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-couchbase</span><br><span class="line"></span><br><span class="line">Starter for using Couchbase document-oriented database and Spring Data Couchbase</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-couchbase-reactive</span><br><span class="line"></span><br><span class="line">Starter for using Couchbase document-oriented database and Spring Data Couchbase Reactive</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-elasticsearch</span><br><span class="line"></span><br><span class="line">Starter for using Elasticsearch search and analytics engine and Spring Data Elasticsearch</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-jpa</span><br><span class="line"></span><br><span class="line">Starter for using Spring Data JPA with Hibernate</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-ldap</span><br><span class="line"></span><br><span class="line">Starter for using Spring Data LDAP</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-mongodb</span><br><span class="line"></span><br><span class="line">Starter for using MongoDB document-oriented database and Spring Data MongoDB</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-mongodb-reactive</span><br><span class="line"></span><br><span class="line">Starter for using MongoDB document-oriented database and Spring Data MongoDB Reactive</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-neo4j</span><br><span class="line"></span><br><span class="line">Starter for using Neo4j graph database and Spring Data Neo4j</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-redis</span><br><span class="line"></span><br><span class="line">Starter for using Redis key-value data store with Spring Data Redis and the Lettuce client</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-redis-reactive</span><br><span class="line"></span><br><span class="line">Starter for using Redis key-value data store with Spring Data Redis reactive and the Lettuce client</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-rest</span><br><span class="line"></span><br><span class="line">Starter for exposing Spring Data repositories over REST using Spring Data REST</span><br><span class="line"></span><br><span class="line">Pom</span><br><span class="line"></span><br><span class="line">spring-boot-starter-data-solr</span><br><span class="line"></span><br><span class="line">Starter for using the Apache Solr search platform with Spring Data Solr</span><br><span class="line"></span><br><span class="line">Pom</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="7-1-æ•´åˆJDBCä¸æ•°æ®æº"><a href="#7-1-æ•´åˆJDBCä¸æ•°æ®æº" class="headerlink" title="7.1 æ•´åˆJDBCä¸æ•°æ®æº"></a>7.1 æ•´åˆJDBCä¸æ•°æ®æº</h3><p>å»ºè¡¨è¯­å¥æ‰§è¡Œï¼šclasspath:schema-*.sql</p>
<p>æ•°æ®æ“ä½œè¯­å¥ï¼šclasspath:data-*.sql</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨schemaåœ¨application.ymlä¸­è‡ªå®šä¹‰æ•°æ®æ–‡ä»¶åœ°å€ã€‚</p>
<hr>
<h3 id="7-2-Druidæ•°æ®æºé…ç½®"><a href="#7-2-Druidæ•°æ®æºé…ç½®" class="headerlink" title="7.2 Druidæ•°æ®æºé…ç½®"></a>7.2 Druidæ•°æ®æºé…ç½®</h3><ol>
<li>å¼•å…¥ä¾èµ–ï¼›</li>
<li>é…ç½®å±æ€§ã€‚</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">typeæŒ‡å®šæ•°æ®æº</span><br></pre></td></tr></table></figure>



<p>æ·»åŠ ä¸€ä¸ªé…ç½®ç±»ï¼Œå°†Druidé…ç½®æ˜ å°„åˆ°æ•°æ®æºã€‚</p>
<p>ç»“åˆè¿‡æ»¤å™¨å’ŒServletè®¾ç½®Druidç›‘æ§ã€‚</p>
<hr>
<h3 id="7-3-æ•´åˆMyBatis"><a href="#7-3-æ•´åˆMyBatis" class="headerlink" title="7.3 æ•´åˆMyBatis"></a>7.3 æ•´åˆMyBatis</h3><p>å¯åŠ¨å™¨ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">mybatis-spring-boot-starter</span><br></pre></td></tr></table></figure>

<p>è·å–æ’å…¥æ•°æ®åº“çš„è®°å½•çš„IDï¼š</p>
<p>@Options(userGeneratedKeys=, keyProperty=ï¼‰</p>
<p>å¼€å¯MyBatisé©¼å³°å‘½åï¼š</p>
<p>å†™ä¸€ä¸ªé…ç½®ç±»ï¼Œå®ç°ConfigurationCustomizeræ¥å£ä¸­çš„customize()æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">configuration.setMapUnderscopeToCamelCase(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>



<p>æ‰¹é‡æ‰«ææ‰€æœ‰çš„@Mapperæ³¨è§£ï¼š</p>
<p>@MapperScan(value=â€â€)</p>
<p>ç›¸å…³é…ç½®æ–‡ä»¶è§å®˜ç½‘æ–‡æ¡£ã€‚</p>
<p>å…¨å±€é…ç½®æ–‡ä»¶é…ç½®ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">mybatis-config-location</span>:<span class="string">classpath:mybatis/config.xml</span></span><br><span class="line"><span class="meta">mybatis-config-mapper</span>:<span class="string">class:mybatis/mapper.xml</span></span><br></pre></td></tr></table></figure>







<hr>
<h3 id="7-4-SpringDataæ•°æ®è®¿é—®JPA"><a href="#7-4-SpringDataæ•°æ®è®¿é—®JPA" class="headerlink" title="7.4 SpringDataæ•°æ®è®¿é—®JPA"></a>7.4 SpringDataæ•°æ®è®¿é—®JPA</h3>]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Bootä¸­ä½¿ç”¨Swagger2æ„å»ºå¼ºå¤§çš„RESTful APIæ–‡æ¡£</title>
    <url>/2019/04/29/Spring-Boot%E4%B8%AD%E4%BD%BF%E7%94%A8Swagger2%E6%9E%84%E5%BB%BA%E5%BC%BA%E5%A4%A7%E7%9A%84RESTful-API%E6%96%87%E6%A1%A3/</url>
    <content><![CDATA[<p>Spring Bootä¸­ä½¿ç”¨Swagger2æ„å»ºå¼ºå¤§çš„RESTful APIæ–‡æ¡£</p>
<p>ç”±äºSpring Bootèƒ½å¤Ÿå¿«é€Ÿå¼€å‘ã€ä¾¿æ·éƒ¨ç½²ç­‰ç‰¹æ€§ï¼Œç›¸ä¿¡æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†Spring Bootçš„ç”¨æˆ·ä¼šç”¨æ¥æ„å»ºRESTful APIã€‚è€Œæˆ‘ä»¬æ„å»ºRESTful APIçš„ç›®çš„é€šå¸¸éƒ½æ˜¯ç”±äºå¤šç»ˆç«¯çš„åŸå› ï¼Œè¿™äº›ç»ˆç«¯ä¼šå…±ç”¨å¾ˆå¤šåº•å±‚ä¸šåŠ¡é€»è¾‘ï¼Œå› æ­¤æˆ‘ä»¬ä¼šæŠ½è±¡å‡ºè¿™æ ·ä¸€å±‚æ¥åŒæ—¶æœåŠ¡äºå¤šä¸ªç§»åŠ¨ç«¯æˆ–è€…Webå‰ç«¯ã€‚</p>
<span id="more"></span>

<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„RESTful APIå°±æœ‰å¯èƒ½è¦é¢å¯¹å¤šä¸ªå¼€å‘äººå‘˜æˆ–å¤šä¸ªå¼€å‘å›¢é˜Ÿï¼šIOSå¼€å‘ã€Androidå¼€å‘æˆ–æ˜¯Webå¼€å‘ç­‰ã€‚ä¸ºäº†å‡å°‘ä¸å…¶ä»–å›¢é˜Ÿå¹³æ—¶å¼€å‘æœŸé—´çš„é¢‘ç¹æ²Ÿé€šæˆæœ¬ï¼Œä¼ ç»Ÿåšæ³•æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä»½RESTful APIæ–‡æ¡£æ¥è®°å½•æ‰€æœ‰æ¥å£ç»†èŠ‚ï¼Œç„¶è€Œè¿™æ ·çš„åšæ³•æœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>ç”±äºæ¥å£ä¼—å¤šï¼Œå¹¶ä¸”ç»†èŠ‚å¤æ‚ï¼ˆéœ€è¦è€ƒè™‘ä¸åŒçš„HTTPè¯·æ±‚ç±»å‹ã€HTTPå¤´éƒ¨ä¿¡æ¯ã€HTTPè¯·æ±‚å†…å®¹ç­‰ï¼‰ï¼Œé«˜è´¨é‡åœ°åˆ›å»ºè¿™ä»½æ–‡æ¡£æœ¬èº«å°±æ˜¯ä»¶éå¸¸åƒåŠ›çš„äº‹ï¼Œä¸‹æ¸¸çš„æŠ±æ€¨å£°ä¸ç»äºè€³ã€‚</li>
<li>éšç€æ—¶é—´æ¨ç§»ï¼Œä¸æ–­ä¿®æ”¹æ¥å£å®ç°çš„æ—¶å€™éƒ½å¿…é¡»åŒæ­¥ä¿®æ”¹æ¥å£æ–‡æ¡£ï¼Œè€Œæ–‡æ¡£ä¸ä»£ç åˆå¤„äºä¸¤ä¸ªä¸åŒçš„åª’ä»‹ï¼Œé™¤éæœ‰ä¸¥æ ¼çš„ç®¡ç†æœºåˆ¶ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å¯¼è‡´ä¸ä¸€è‡´ç°è±¡ã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³ä¸Šé¢è¿™æ ·çš„é—®é¢˜ï¼Œæœ¬æ–‡å°†ä»‹ç»RESTful APIçš„é‡ç£…å¥½ä¼™ä¼´Swagger2ï¼Œå®ƒå¯ä»¥è½»æ¾çš„æ•´åˆåˆ°Spring Bootä¸­ï¼Œå¹¶ä¸Spring MVCç¨‹åºé…åˆç»„ç»‡å‡ºå¼ºå¤§RESTful APIæ–‡æ¡£ã€‚å®ƒæ—¢å¯ä»¥å‡å°‘æˆ‘ä»¬åˆ›å»ºæ–‡æ¡£çš„å·¥ä½œé‡ï¼ŒåŒæ—¶è¯´æ˜å†…å®¹åˆæ•´åˆå…¥å®ç°ä»£ç ä¸­ï¼Œè®©ç»´æŠ¤æ–‡æ¡£å’Œä¿®æ”¹ä»£ç æ•´åˆä¸ºä¸€ä½“ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¿®æ”¹ä»£ç é€»è¾‘çš„åŒæ—¶æ–¹ä¾¿çš„ä¿®æ”¹æ–‡æ¡£è¯´æ˜ã€‚å¦å¤–Swagger2ä¹Ÿæä¾›äº†å¼ºå¤§çš„é¡µé¢æµ‹è¯•åŠŸèƒ½æ¥è°ƒè¯•æ¯ä¸ªRESTful APIã€‚å…·ä½“æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://blog.didispace.com/content/images/2016/04/swagger2_1.png"></p>
<p><img src="http://blog.didispace.com/content/images/2016/04/swagger2_1.png"></p>
<p>ä¸‹é¢æ¥å…·ä½“ä»‹ç»ï¼Œå¦‚æœåœ¨Spring Bootä¸­ä½¿ç”¨Swagger2ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªSpring Bootå®ç°çš„RESTful APIå·¥ç¨‹ï¼Œè‹¥æ‚¨æ²¡æœ‰åšè¿‡è¿™ç±»å†…å®¹ï¼Œå»ºè®®å…ˆé˜…è¯»<br><a href="http://blog.didispace.com/springbootrestfulapi/">Spring Bootæ„å»ºä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„RESTful APIså’Œå•å…ƒæµ‹è¯•</a>ã€‚</p>
<p>ä¸‹é¢çš„å†…å®¹æˆ‘ä»¬ä¼šä»¥<a href="http://git.oschina.net/didispace/SpringBoot-Learning">æ•™ç¨‹æ ·ä¾‹</a>ä¸­çš„Chapter3-1-1è¿›è¡Œä¸‹é¢çš„å®éªŒï¼ˆChpater3-1-5æ˜¯æˆ‘ä»¬çš„ç»“æœå·¥ç¨‹ï¼Œäº¦å¯å‚è€ƒï¼‰ã€‚</p>
<h4 id="æ·»åŠ Swagger2ä¾èµ–"><a href="#æ·»åŠ Swagger2ä¾èµ–" class="headerlink" title="æ·»åŠ Swagger2ä¾èµ–"></a>æ·»åŠ Swagger2ä¾èµ–</h4><p>åœ¨<code>pom.xml</code>ä¸­åŠ å…¥Swagger2çš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºSwagger2é…ç½®ç±»"><a href="#åˆ›å»ºSwagger2é…ç½®ç±»" class="headerlink" title="åˆ›å»ºSwagger2é…ç½®ç±»"></a>åˆ›å»ºSwagger2é…ç½®ç±»</h4><p>åœ¨<code>Application.java</code>åŒçº§åˆ›å»ºSwagger2çš„é…ç½®ç±»<code>Swagger2</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Swagger2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">createRestApi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.didispace.web&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                .title(<span class="string">&quot;Spring Bootä¸­ä½¿ç”¨Swagger2æ„å»ºRESTful APIs&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;æ›´å¤šSpring Bootç›¸å…³æ–‡ç« è¯·å…³æ³¨ï¼šhttp://blog.didispace.com/&quot;</span>)</span><br><span class="line">                .termsOfServiceUrl(<span class="string">&quot;http://blog.didispace.com/&quot;</span>)</span><br><span class="line">                .contact(<span class="string">&quot;ç¨‹åºçŒ¿DD&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œé€šè¿‡<code>@Configuration</code>æ³¨è§£ï¼Œè®©Springæ¥åŠ è½½è¯¥ç±»é…ç½®ã€‚å†é€šè¿‡<code>@EnableSwagger2</code>æ³¨è§£æ¥å¯ç”¨Swagger2ã€‚</p>
<p>å†é€šè¿‡<code>createRestApi</code>å‡½æ•°åˆ›å»º<code>Docket</code>çš„Beanä¹‹åï¼Œ<code>apiInfo()</code>ç”¨æ¥åˆ›å»ºè¯¥Apiçš„åŸºæœ¬ä¿¡æ¯ï¼ˆè¿™äº›åŸºæœ¬ä¿¡æ¯ä¼šå±•ç°åœ¨æ–‡æ¡£é¡µé¢ä¸­ï¼‰ã€‚<code>select()</code>å‡½æ•°è¿”å›ä¸€ä¸ª<code>ApiSelectorBuilder</code>å®ä¾‹ç”¨æ¥æ§åˆ¶å“ªäº›æ¥å£æš´éœ²ç»™Swaggeræ¥å±•ç°ï¼Œæœ¬ä¾‹é‡‡ç”¨æŒ‡å®šæ‰«æçš„åŒ…è·¯å¾„æ¥å®šä¹‰ï¼ŒSwaggerä¼šæ‰«æè¯¥åŒ…ä¸‹æ‰€æœ‰Controllerå®šä¹‰çš„APIï¼Œå¹¶äº§ç”Ÿæ–‡æ¡£å†…å®¹ï¼ˆé™¤äº†è¢«<code>@ApiIgnore</code>æŒ‡å®šçš„è¯·æ±‚ï¼‰ã€‚</p>
<h4 id="æ·»åŠ æ–‡æ¡£å†…å®¹"><a href="#æ·»åŠ æ–‡æ¡£å†…å®¹" class="headerlink" title="æ·»åŠ æ–‡æ¡£å†…å®¹"></a>æ·»åŠ æ–‡æ¡£å†…å®¹</h4><p>åœ¨å®Œæˆäº†ä¸Šè¿°é…ç½®åï¼Œå…¶å®å·²ç»å¯ä»¥ç”Ÿäº§æ–‡æ¡£å†…å®¹ï¼Œä½†æ˜¯è¿™æ ·çš„æ–‡æ¡£ä¸»è¦é’ˆå¯¹è¯·æ±‚æœ¬èº«ï¼Œè€Œæè¿°ä¸»è¦æ¥æºäºå‡½æ•°ç­‰å‘½åäº§ç”Ÿï¼Œå¯¹ç”¨æˆ·å¹¶ä¸å‹å¥½ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è‡ªå·±å¢åŠ ä¸€äº›è¯´æ˜æ¥ä¸°å¯Œæ–‡æ¡£å†…å®¹ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬é€šè¿‡<code>@ApiOperation</code>æ³¨è§£æ¥ç»™APIå¢åŠ è¯´æ˜ã€é€šè¿‡<code>@ApiImplicitParams</code>ã€<code>@ApiImplicitParam</code>æ³¨è§£æ¥ç»™å‚æ•°å¢åŠ è¯´æ˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value=&quot;/users&quot;)</span>     <span class="comment">// é€šè¿‡è¿™é‡Œé…ç½®ä½¿ä¸‹é¢çš„æ˜ å°„éƒ½åœ¨/usersä¸‹ï¼Œå¯å»é™¤</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> Map&lt;Long, User&gt; users = Collections.synchronizedMap(<span class="keyword">new</span> HashMap&lt;Long, User&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;è·å–ç”¨æˆ·åˆ—è¡¨&quot;, notes=&quot;&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&#123;&quot;&quot;&#125;, method=RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUserList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;User&gt; r = <span class="keyword">new</span> ArrayList&lt;User&gt;(users.values());</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;åˆ›å»ºç”¨æˆ·&quot;, notes=&quot;æ ¹æ®Userå¯¹è±¡åˆ›å»ºç”¨æˆ·&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;user&quot;, value = &quot;ç”¨æˆ·è¯¦ç»†å®ä½“user&quot;, required = true, dataType = &quot;User&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;&quot;, method=RequestMethod.POST)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">postUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> </span>&#123;</span><br><span class="line">        users.put(user.getId(), user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;, notes=&quot;æ ¹æ®urlçš„idæ¥è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·ID&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> users.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;æ›´æ–°ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;, notes=&quot;æ ¹æ®urlçš„idæ¥æŒ‡å®šæ›´æ–°å¯¹è±¡ï¼Œå¹¶æ ¹æ®ä¼ è¿‡æ¥çš„userä¿¡æ¯æ¥æ›´æ–°ç”¨æˆ·è¯¦ç»†ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParams(&#123;</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·ID&quot;, required = true, dataType = &quot;Long&quot;),</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;user&quot;, value = &quot;ç”¨æˆ·è¯¦ç»†å®ä½“user&quot;, required = true, dataType = &quot;User&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.PUT)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">putUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id, <span class="meta">@RequestBody</span> User user)</span> </span>&#123;</span><br><span class="line">        User u = users.get(id);</span><br><span class="line">        u.setName(user.getName());</span><br><span class="line">        u.setAge(user.getAge());</span><br><span class="line">        users.put(id, u);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;åˆ é™¤ç”¨æˆ·&quot;, notes=&quot;æ ¹æ®urlçš„idæ¥æŒ‡å®šåˆ é™¤å¯¹è±¡&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ç”¨æˆ·ID&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.DELETE)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteUser</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        users.remove(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œæˆä¸Šè¿°ä»£ç æ·»åŠ ä¸Šï¼Œå¯åŠ¨Spring Bootç¨‹åºï¼Œè®¿é—®ï¼š<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a><br>ã€‚å°±èƒ½çœ‹åˆ°å‰æ–‡æ‰€å±•ç¤ºçš„RESTful APIçš„é¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥å†ç‚¹å¼€å…·ä½“çš„APIè¯·æ±‚ï¼Œä»¥POSTç±»å‹çš„/usersè¯·æ±‚ä¸ºä¾‹ï¼Œå¯æ‰¾åˆ°ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬é…ç½®çš„Notesä¿¡æ¯ä»¥åŠå‚æ•°userçš„æè¿°ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>[<img src="http://blog.didispace.com/content/images/2016/04/swagger2_2.png" alt="alt"><img src="http://blog.didispace.com/content/images/2016/04/swagger2_2.png"></p>
<h4 id="APIæ–‡æ¡£è®¿é—®ä¸è°ƒè¯•"><a href="#APIæ–‡æ¡£è®¿é—®ä¸è°ƒè¯•" class="headerlink" title="APIæ–‡æ¡£è®¿é—®ä¸è°ƒè¯•"></a>APIæ–‡æ¡£è®¿é—®ä¸è°ƒè¯•</h4><p>åœ¨ä¸Šå›¾è¯·æ±‚çš„é¡µé¢ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°userçš„Valueæ˜¯ä¸ªè¾“å…¥æ¡†ï¼Ÿæ˜¯çš„ï¼ŒSwaggeré™¤äº†æŸ¥çœ‹æ¥å£åŠŸèƒ½å¤–ï¼Œè¿˜æä¾›äº†è°ƒè¯•æµ‹è¯•åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»ä¸Šå›¾ä¸­å³ä¾§çš„Model Schemaï¼ˆé»„è‰²åŒºåŸŸï¼šå®ƒæŒ‡æ˜äº†Userçš„æ•°æ®ç»“æ„ï¼‰ï¼Œæ­¤æ—¶Valueä¸­å°±æœ‰äº†userå¯¹è±¡çš„æ¨¡æ¿ï¼Œæˆ‘ä»¬åªéœ€è¦ç¨é€‚ä¿®æ”¹ï¼Œç‚¹å‡»ä¸‹æ–¹<code>â€œTry it outï¼â€</code>æŒ‰é’®ï¼Œå³å¯å®Œæˆäº†ä¸€æ¬¡è¯·æ±‚è°ƒç”¨ï¼</p>
<p>æ­¤æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å‡ ä¸ªGETè¯·æ±‚æ¥éªŒè¯ä¹‹å‰çš„POSTè¯·æ±‚æ˜¯å¦æ­£ç¡®ã€‚</p>
<p>ç›¸æ¯”ä¸ºè¿™äº›æ¥å£ç¼–å†™æ–‡æ¡£çš„å·¥ä½œï¼Œæˆ‘ä»¬å¢åŠ çš„é…ç½®å†…å®¹æ˜¯éå¸¸å°‘è€Œä¸”ç²¾ç®€çš„ï¼Œå¯¹äºåŸæœ‰ä»£ç çš„ä¾µå…¥ä¹Ÿåœ¨å¿å—èŒƒå›´ä¹‹å†…ã€‚å› æ­¤ï¼Œåœ¨æ„å»ºRESTful APIçš„åŒæ—¶ï¼ŒåŠ å…¥swaggeræ¥å¯¹APIæ–‡æ¡£è¿›è¡Œç®¡ç†ï¼Œæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<h4 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h4><p>æœ¬æ–‡çš„ç›¸å…³ä¾‹å­å¯ä»¥æŸ¥çœ‹ä¸‹é¢ä»“åº“ä¸­çš„<code>chapter3-1-5</code>ç›®å½•ï¼š</p>
<ul>
<li>Githubï¼š<a href="https://github.com/dyc87112/SpringBoot-Learning/tree/1.x">https://github.com/dyc87112/SpringBoot-Learning</a></li>
<li>Giteeï¼š<a href="https://gitee.com/didispace/SpringBoot-Learning/tree/1.x">https://gitee.com/didispace/SpringBoot-Learning</a></li>
</ul>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡ä¸é”™ï¼Œæ¬¢è¿Staræ”¯æŒï¼Œæ‚¨çš„å…³æ³¨æ˜¯æˆ‘åšæŒçš„åŠ¨åŠ›ï¼</strong></p>
<h4 id="å‚è€ƒä¿¡æ¯"><a href="#å‚è€ƒä¿¡æ¯" class="headerlink" title="å‚è€ƒä¿¡æ¯"></a>å‚è€ƒä¿¡æ¯</h4><ul>
<li><a href="http://swagger.io/">Swaggerå®˜æ–¹ç½‘ç«™</a></li>
</ul>
<p>æ— ä½œè€…æœ¬äººæˆæƒè¯·å‹¿è½¬è½½ã€‚</p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootæ•´åˆredisæŠ¥é”™</title>
    <url>/2021/03/07/SpringBoot%E6%95%B4%E5%90%88redis%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<p>åœ¨SpringBootä¸­æ•´åˆRedisè¿›è¡ŒTokenç™»å½•ï¼Œæµ‹è¯•æ–¹æ³•ä¸­ä¸€ç›´æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java.lang.IllegalStateException: Failed to load ApplicationContext</span><br><span class="line"></span><br><span class="line">Caused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#x27;redisTemplate&#x27; is expected to be of type &#x27;org.springframework.data.redis.core.StringRedisTemplate&#x27; but was actually of type &#x27;org.springframework.data.redis.core.RedisTemplate&#x27;</span><br></pre></td></tr></table></figure>

<br>

<p>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">set</span><span class="params">(String key, String value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> result = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        redisTemplate.opsForValue().set(key, value);</span><br><span class="line">        result = <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    redisClient.set(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">    String value = redisClient.get(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line">    assertNotNull(value);</span><br><span class="line">    log.info(<span class="string">&quot;value: &#123;&#125;&quot;</span>, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<p>åŸæ¥æ˜¯æ³¨å…¥çš„æ—¶å€™å˜é‡åæœ‰é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate redisTemplate;</span><br></pre></td></tr></table></figure>

<p>ä¸æ˜¯ redisTemplate ï¼Œè€Œæ˜¯ stringRedisTemplateã€‚</p>
<p><strong>@Resourceå’Œ@Autowiredçš„åŒºåˆ«ã€‚</strong></p>
]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°-ç¬¬ä¸‰ç« -é«˜çº§è£…é…</title>
    <url>/2018/11/24/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0-%E9%AB%98%E7%BA%A7%E8%A3%85%E9%85%8D/</url>
    <content><![CDATA[<p>ç¬¬ä¸‰ç« ï¼šé«˜çº§è£…é…</p>
<p>æœ¬ç« å†…å®¹ï¼š</p>
<ul>
<li>Spring profile</li>
<li>æ¡ä»¶åŒ–çš„beanå£°æ˜</li>
<li>è‡ªåŠ¨è£…é…ä¸æ­§ä¹‰æ€§</li>
<li>beançš„ä½œç”¨åŸŸ</li>
<li>Springè¡¨è¾¾å¼è¯­è¨€</li>
</ul>
<hr>
<h3 id="3-1-ç¯å¢ƒä¸profile"><a href="#3-1-ç¯å¢ƒä¸profile" class="headerlink" title="3.1 ç¯å¢ƒä¸profile"></a>3.1 ç¯å¢ƒä¸profile</h3><p>åœ¨è½¯ä»¶å¼€å‘çš„ä¸åŒé˜¶æ®µéœ€è¦ä¸åŒçš„ç¯å¢ƒå’Œé…ç½®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean(destroyMethod = &quot;shutdown&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> EmbeddedDatabaseBuilder()</span><br><span class="line">        .addScript(<span class="string">&quot;classpath:ch3.sql&quot;</span>)</span><br><span class="line">        .addScript(<span class="string">&quot;classpath:ch3.1.sql&quot;</span>)</span><br><span class="line">        .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<span id="more"></span>



<p>ä¸ºäº†é€‚åº”ç¯å¢ƒæ›´æ¢çš„éœ€æ±‚ï¼Œå¯ä»¥å°†æ‰€éœ€è¦çš„æ‰€æœ‰çš„é…ç½®ç±»é…ç½®åˆ°æ¯ä¸ªbeanä¸­ï¼Œç„¶ååœ¨æ„å»ºé˜¶æ®µé€‰æ‹©éœ€è¦ä½¿ç”¨çš„beanï¼Œä½†æ˜¯ä»å¼€å‘ç¯å¢ƒåˆ‡æ¢åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶å¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜ã€‚</p>
<h4 id="3-1-1-é…ç½®profile-bean"><a href="#3-1-1-é…ç½®profile-bean" class="headerlink" title="3.1.1 é…ç½®profile bean"></a>3.1.1 é…ç½®profile bean</h4><p>Springä¸ºæ­¤ç§åœºæ™¯æä¾›äº†profileåŠŸèƒ½ã€‚</p>
<p>ä½¿ç”¨profileæ³¨è§£æ¥å£°æ˜åœ¨åˆé€‚çš„é˜¶æ®µä½¿ç”¨åˆé€‚çš„beanã€‚å°†æ‰€æœ‰çš„beanæ•´ç†åˆ°ä¸€ä¸ªprofileä¸­ï¼Œç¡®ä¿åœ¨éœ€è¦çš„æ—¶å€™activeç›¸åº”çš„beanã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ch3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Profile;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jndi.JndiObjectFactoryBean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/24 ä¸‹åˆ1:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean(destroyMethod = &quot;shutdown&quot;)</span></span><br><span class="line">    <span class="meta">@Profile(&quot;dev&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">embeddedDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> EmbeddedDatabaseBuilder()</span><br><span class="line">                .setType(EmbeddedDatabaseType.H2)</span><br><span class="line">                .addScript(<span class="string">&quot;classpath:test.sql&quot;</span>)</span><br><span class="line">                .addScript(<span class="string">&quot;classpath:test1.sql&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Profile(&quot;prod&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">jndiDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        JndiObjectFactoryBean jndiObjectFactoryBean =</span><br><span class="line">                <span class="keyword">new</span> JndiObjectFactoryBean();</span><br><span class="line">        jndiObjectFactoryBean.setJndiName(<span class="string">&quot;jndi/myDS&quot;</span>);</span><br><span class="line">        jndiObjectFactoryBean.setResourceRef(<span class="keyword">true</span>);</span><br><span class="line">        jndiObjectFactoryBean.setProxyInterface(javax.sql.DataSource.class);</span><br><span class="line">        <span class="keyword">return</span> (DataSource) jndiObjectFactoryBean.getObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è™½ç„¶æ‰€æœ‰çš„beanéƒ½è¢«å£°æ˜åœ¨ä¸€ä¸ªprofileé‡Œï¼Œä½†æ˜¯åªæœ‰å½“æŒ‡å®šçš„profileè¢«æ¿€æ´»æ—¶ï¼Œç›¸åº”çš„beanæ‰ä¼šè¢«åˆ›å»ºï¼Œæ²¡æœ‰æŒ‡å®šprofileçš„beanå§‹ç»ˆéƒ½ä¼šè¢«åˆ›å»ºï¼Œä¸æ¿€æ´»çš„profileæ²¡æœ‰å…³ç³»ã€‚</strong></p>
<p>åœ¨XMLä¸­é…ç½®profileï¼š</p>
<p>å¯ä»¥é€šè¿‡beanså…ƒç´ çš„profileå±æ€§ï¼Œåœ¨xmlä¸­é…ç½®profileã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:jdbc</span>=<span class="string">&quot;http://www.springframework.org/schema/jdbc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">profile</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">jdbc:embedded-database</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbc:script</span> <span class="attr">location</span>=<span class="string">&quot;classpath:test.sql&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbc:script</span> <span class="attr">location</span>=<span class="string">&quot;classpath:test1.sql&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">jdbc:embedded-database</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>åªæœ‰profileå±æ€§ä¸å½“å‰æ¿€æ´»çš„profileç›¸åŒ¹é…çš„é…ç½®æ–‡ä»¶æ‰ä¼šè¢«ç”¨åˆ°ã€‚</strong></p>
<p>é‡å¤ä½¿ç”¨beanså±æ€§æŒ‡å®šå¤šä¸ªprofileï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:jdbc</span>=<span class="string">&quot;http://www.springframework.org/schema/jdbc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:jee</span>=<span class="string">&quot;http://www.springframework.org/schema/jee&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">beans</span> <span class="attr">profile</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbc:embedded-database</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">jdbc:script</span> <span class="attr">location</span>=<span class="string">&quot;classpath:test.sql&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">jdbc:script</span> <span class="attr">location</span>=<span class="string">&quot;classpath:test1.sql&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbc:embedded-database</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">beans</span> <span class="attr">profile</span>=<span class="string">&quot;prod&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jee:jndi-lookup</span> <span class="attr">jndi-name</span>=<span class="string">&quot;jdbc/MyDatabase&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">resource-ref</span>=<span class="string">&quot;true&quot;</span> <span class="attr">proxy-interface</span>=<span class="string">&quot;javax.sql.DataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è™½ç„¶idéƒ½ä¸€æ ·ï¼Œç±»å‹éƒ½æ˜¯javax.sql.dataSourceï¼Œä½†æ˜¯åªä¼šåˆ›å»ºæŒ‡å®šprofileçš„beanã€‚</strong></p>
<h4 id="3-1-2-æ¿€æ´»profile"><a href="#3-1-2-æ¿€æ´»profile" class="headerlink" title="3.1.2 æ¿€æ´»profile"></a>3.1.2 æ¿€æ´»profile</h4><p>Springåœ¨ç¡®å®šå¤„äºæ¿€æ´»çŠ¶æ€çš„profileæ—¶ï¼Œä¾èµ–äºä¸¤ä¸ªç‹¬ç«‹çš„å±æ€§ï¼š</p>
<ul>
<li>spring.profiles.active</li>
<li>spring.profiles.default</li>
</ul>
<p>ä¼˜å…ˆçº§ä»ä¸Šåˆ°ä¸‹ï¼Œå¦‚æœspring.profiles.activeæ²¡æœ‰è®¾ç½®ï¼Œåˆ™çœ‹spring.profiles.defaultï¼Œå¦åˆ™åªä¼šåˆ›å»ºæ²¡æœ‰å®šä¹‰åœ¨profilesä¸­çš„beanã€‚</p>
<p>æœ‰å¤šç§æ–¹å¼è®¾ç½®è¿™ä¸¤ä¸ªå±æ€§ï¼š</p>
<ul>
<li>ä½œä¸ºDispatcherServletçš„åˆå§‹åŒ–å‚æ•°</li>
<li>ä½œä¸ºwebåº”ç”¨çš„ä¸Šä¸‹æ–‡å‚æ•°</li>
<li>ä½œä¸ºJNDIæ¡ç›®</li>
<li>ä½œä¸ºç¯å¢ƒå˜é‡</li>
<li>ä½œä¸ºJVMå±æ€§</li>
<li>åœ¨é›†æˆæµ‹è¯•ç±»ä¸Šä½¿ç”¨@ActiveProfileså±æ€§</li>
</ul>
<p>åœ¨web.xmlé…ç½®æ–‡ä»¶ä¸­è®¾ç½®é»˜è®¤çš„profileï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>spring.profiles.default<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>appServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>spring.profiles.default<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å¯ä»¥åŒæ—¶æ¿€æ´»å¤šä¸ªprofileï¼Œä»¥é€—å·åˆ†éš”ã€‚</strong></p>
<p>ä½¿ç”¨profileè¿›è¡Œæµ‹è¯•ï¼š</p>
<p>Springæä¾›äº†@ActiveProfilesæ³¨è§£ï¼Œç”¨æ¥æŒ‡å®šæµ‹è¯•æ—¶ä½¿ç”¨çš„profileã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJunit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes=&#123;PersistenceTestConfig.class&#125;)</span></span><br><span class="line"><span class="meta">@ActiveProfiles(&quot;dev&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersistenceTest</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="3-2-æ¡ä»¶åŒ–çš„bean"><a href="#3-2-æ¡ä»¶åŒ–çš„bean" class="headerlink" title="3.2 æ¡ä»¶åŒ–çš„bean"></a>3.2 æ¡ä»¶åŒ–çš„bean</h3><p>éœ€æ±‚ï¼š</p>
<ol>
<li>å¸Œæœ›ä¸€ä¸ªæˆ–å¤šä¸ªbeanåªæœ‰åœ¨ç±»è·¯å¾„ä¸‹åŒ…å«æŸä¸ªç‰¹å®šçš„åº“æ—¶æ‰åˆ›å»º</li>
<li>å¸Œæœ›æŸä¸ªbeanåœ¨ç‰¹å®šçš„beanå£°æ˜ä¹‹åå†åˆ›å»º</li>
</ol>
<p>Spring 4å¼•å…¥äº†@Conditionalæ³¨è§£ï¼Œåªæœ‰æ¡ä»¶è®¡ç®—ç»“æœä¸ºtrueæ‰ä¼šåˆ›å»ºbeanï¼Œå¦åˆ™ä¸åˆ›å»ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ch3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Condition;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ConditionContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.env.Environment;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.type.AnnotatedTypeMetadata;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/24 ä¸‹åˆ2:07</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MagicExistsCondition</span> <span class="keyword">implements</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata)</span> </span>&#123;</span><br><span class="line">        Environment environment = conditionContext.getEnvironment();</span><br><span class="line">        <span class="keyword">return</span> environment.containsProperty(<span class="string">&quot;magic&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Conditional(MagicExistsCondition.class)</span>   <span class="comment">//æ¡ä»¶åŒ–åˆ›å»ºbean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MagicBean <span class="title">magicBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MagicBean();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ConditionContextæ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ConditionContext</span> </span>&#123;</span><br><span class="line">    <span class="function">BeanDefinitionRegistry <span class="title">getRegistry</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ConfigurableListableBeanFactory <span class="title">getBeanFactory</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Environment <span class="title">getEnvironment</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ResourceLoader <span class="title">getResourceLoader</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ClassLoader <span class="title">getClassLoader</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>getRegistryï¼šæ ¹æ®è¿”å›å€¼å¯ä»¥æ£€æŸ¥beanå®šä¹‰</li>
<li>getEnvirnmentï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡</li>
<li> getResourceLoaderï¼šè¯»å–åŠ è½½çš„èµ„æº</li>
<li>getClassLoaderï¼šåŠ è½½å¹¶æ£€æŸ¥ç±»æ˜¯å¦å­˜åœ¨</li>
</ul>
<p>AnnotatedTypeMetadataæ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AnnotatedTypeMetadata</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isAnnotated</span><span class="params">(String var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Map&lt;String, Object&gt; <span class="title">getAnnotationAttributes</span><span class="params">(String var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Map&lt;String, Object&gt; <span class="title">getAnnotationAttributes</span><span class="params">(String var1, <span class="keyword">boolean</span> var2)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">MultiValueMap&lt;String, Object&gt; <span class="title">getAllAnnotationAttributes</span><span class="params">(String var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">MultiValueMap&lt;String, Object&gt; <span class="title">getAllAnnotationAttributes</span><span class="params">(String var1, <span class="keyword">boolean</span> var2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="3-3-å¤„ç†å¯åŠ¨è£…é…çš„æ­§ä¹‰æ€§"><a href="#3-3-å¤„ç†å¯åŠ¨è£…é…çš„æ­§ä¹‰æ€§" class="headerlink" title="3.3 å¤„ç†å¯åŠ¨è£…é…çš„æ­§ä¹‰æ€§"></a>3.3 å¤„ç†å¯åŠ¨è£…é…çš„æ­§ä¹‰æ€§</h3><p>ä»…æœ‰ä¸€ä¸ªbeanåŒ¹é…æ‰€éœ€ç»“æœæ—¶ï¼Œè‡ªåŠ¨è£…é…æ‰æ˜¯æœ‰æ•ˆçš„ï¼Œå¦‚æœæœ‰å¤šä¸ªbeanèƒ½å¤ŸåŒ¹é…ç»“æœçš„è¯ï¼Œè¿™ç§æ­§ä¹‰æ€§ä¼šé˜»ç¢Springè‡ªåŠ¨è£…é…å±æ€§ã€æ„é€ å™¨å‚æ•°å’Œæ–¹æ³•å‚æ•°ã€‚</p>
<p>Springæä¾›çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>å°†å¯é€‰beanä¸­çš„å…¶ä¸­ä¸€ä¸ªå£°æ˜ä¸ºé¦–é€‰ï¼ˆprimaryï¼‰</li>
<li>ä½¿ç”¨é™å®šç¬¦ï¼ˆqualifierï¼‰ç¼©å°å¯é€‰èŒƒå›´</li>
</ul>
<h4 id="3-3-1-æ ‡ç¤ºé¦–é€‰çš„bean"><a href="#3-3-1-æ ‡ç¤ºé¦–é€‰çš„bean" class="headerlink" title="3.3.1 æ ‡ç¤ºé¦–é€‰çš„bean"></a>3.3.1 æ ‡ç¤ºé¦–é€‰çš„bean</h4><p>å°†å…¶ä¸­ä¸€ä¸ªå¯é€‰çš„beanå£°æ˜ä¸ºé¦–é€‰å¯ä»¥é¿å…è‡ªåŠ¨è£…é…çš„æ­§ä¹‰æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDessert</span><span class="params">(Dessert dessert)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dessert = dessert;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IceCream</span> <span class="keyword">implements</span> <span class="title">Dessert</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Dessert <span class="title">dessert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> IceCream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>xmlé…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;iceCream&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.test.dessert.IceCream&quot;</span> <span class="attr">primary</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-3-2-é™å®šè‡ªåŠ¨è£…é…çš„bean"><a href="#3-3-2-é™å®šè‡ªåŠ¨è£…é…çš„bean" class="headerlink" title="3.3.2 é™å®šè‡ªåŠ¨è£…é…çš„bean"></a>3.3.2 é™å®šè‡ªåŠ¨è£…é…çš„bean</h4><p>è®¾ç½®é¦–é€‰beançš„å±€é™æ€§åœ¨äº <strong>@Primaryæ— æ³•å°†å¯é€‰æ–¹æ¡ˆèŒƒå›´é™å®šåˆ°ä¸€ä¸ªæ— æ­§ä¹‰æ€§çš„é€‰é¡¹ä¸­</strong> ï¼Œå½“é¦–é€‰beançš„æ•°é‡è¶…è¿‡ä¸€ä¸ªæ—¶ï¼Œæ— æ³•è¿›ä¸€æ­¥ç¼©å°é™å®šèŒƒå›´ã€‚</p>
<p>@Qualifieræ³¨è§£æ˜¯ä½¿ç”¨é™å®šç¬¦çš„ä¸»è¦æ–¹å¼ï¼Œä¸@AutowiredååŒä½¿ç”¨ï¼Œåœ¨æ³¨å…¥æ—¶æŒ‡å®šè¦æ³¨å…¥çš„beanã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier(&quot;iceCream&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDessert</span><span class="params">(Dessert dessert)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dessert = dessert;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Qualifieræ³¨è§£çš„å‚æ•°å°±æ˜¯æƒ³è¦æ³¨å…¥çš„beançš„idï¼Œæ‰€æœ‰ä½¿ç”¨@Componentæ³¨è§£çš„ç±»éƒ½ä¼šåˆ›å»ºä¸ºbeanï¼Œä¸”idä¸ºé¦–å­—æ¯å°å†™çš„ç±»åã€‚</p>
<p>åŸºäºé»˜è®¤idä½œä¸ºé™å®šç¬¦æ˜¯ç®€å•çš„ï¼Œä½†æ˜¯å½“ç±»åè¢«æ›´æ”¹ä¹‹åä¼šä½¿é™å®šç¬¦å¤±æ•ˆã€‚</p>
<p>åˆ›å»ºè‡ªå®šä¹‰çš„é™å®šç¬¦ï¼š</p>
<p>å¯ä»¥è®¾ç½®è‡ªå·±çš„é™å®šç¬¦ï¼Œè€Œä¸ä¾èµ–äºbean idä½œä¸ºé™å®šç¬¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Qualifier(&quot;cold&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IceCream</span> <span class="keyword">implements</span> <span class="title">Dessert</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶coldé™å®šç¬¦åˆ†é…ç»™äº†IceCream beanï¼Œåªéœ€è¦åœ¨åˆé€‚çš„åœ°æ–¹å¼•å…¥coldé™å®šç¬¦å³å¯è‡ªåŠ¨è£…é…ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Qualifier(&quot;cold&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Dessert <span class="title">iceCream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> IceCream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç±»é™å®šåçš„å˜æ›´ä¸ä¼šå½±å“åˆ°è‡ªåŠ¨è£…é…ã€‚ä½†æ˜¯å½“åº”ç”¨ä¸­å‡ºç°åŒåçš„æ³¨è§£@Qualifier(â€œcoldâ€)æ—¶ï¼Œæ­§ä¹‰æ€§åˆä¼šå†æ¬¡å‡ºç°ã€‚</p>
<p>è¿™æ—¶éœ€è¦å¤šä¸ª@Qualifieræ³¨è§£æ¥è¿›ä¸€æ­¥ç¼©å°é™å®šèŒƒå›´ã€‚</p>
<hr>
<h3 id="3-4-beançš„ä½œç”¨åŸŸ"><a href="#3-4-beançš„ä½œç”¨åŸŸ" class="headerlink" title="3.4 beançš„ä½œç”¨åŸŸ"></a>3.4 beançš„ä½œç”¨åŸŸ</h3><p><strong>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringåº”ç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰beanéƒ½æ˜¯ä»¥å•ä¾‹æ¨¡å¼åˆ›å»ºçš„ã€‚ä¸ç®¡ç»™å®šçš„beanè¢«æ³¨å…¥åˆ°å…¶ä»–beanå¤šå°‘æ¬¡ï¼Œæ¯æ¬¡æ³¨å…¥çš„éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚</strong></p>
<p>å¦‚æœä¸€ä¸ªç±»æ˜¯å¯å˜ï¼ˆmutableï¼‰çš„ï¼Œé‚£ä¹ˆå¯¹å…¶è¿›è¡Œé‡ç”¨æ—¶å¯èƒ½ä¼šé‡åˆ°æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚</p>
<p>Springå®šä¹‰çš„beanä½œç”¨åŸŸï¼š</p>
<ul>
<li>å•ä¾‹ï¼ˆSingletonï¼‰ï¼šåœ¨æ•´ä¸ªåº”ç”¨ä¸­ï¼Œåªåˆ›å»ºä¸€ä¸ªbeanï¼›</li>
<li>åŸå‹ï¼ˆPrototypeï¼‰ï¼šæ¯æ¬¡æ³¨å…¥æˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡è·å–beanæ—¶éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„beanï¼›</li>
<li>ä¼šè¯ï¼ˆSessionï¼‰ï¼šåœ¨Webåº”ç”¨ä¸­ï¼Œä¸ºæ¯ä¸ªå›è¯åˆ›å»ºä¸€ä¸ªbeanï¼›</li>
<li>è¯·æ±‚ï¼ˆRequestï¼‰ï¼šåœ¨Webåº”ç”¨ä¸­ï¼Œä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªbeanã€‚</li>
</ul>
<p>@Scopeæ³¨è§£ï¼š</p>
<p>ç”¨æ¥æŒ‡å®šbeançš„ä½œç”¨åŸŸï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line"><span class="comment">//æˆ–è€… @Scope(&quot;prototype&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Notepad</span> </span>&#123;</span><br><span class="line">    <span class="comment">//something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>XMLé…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;notepad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.app.Notepad&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>





<hr>
<h3 id="3-5-è¿è¡Œæ—¶å€¼æ³¨å…¥"><a href="#3-5-è¿è¡Œæ—¶å€¼æ³¨å…¥" class="headerlink" title="3.5 è¿è¡Œæ—¶å€¼æ³¨å…¥"></a>3.5 è¿è¡Œæ—¶å€¼æ³¨å…¥</h3><p>Springæä¾›äº†ä¸¤ç§è¿è¡Œæ—¶æ±‚å€¼çš„æ–¹å¼ï¼š</p>
<ul>
<li>å±æ€§å ä½ç¬¦ï¼ˆProperty placeholderï¼‰ï¼›</li>
<li>Springè¡¨è¾¾å¼è¯­è¨€ï¼ˆSç‰‡ELï¼‰ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:/com/soundsys/app.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExpressiveConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    Environment env;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BlankDisc <span class="title">disc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BlankDisc(env.getProperty(<span class="string">&quot;disc.title&quot;</span>), env.getProperty(<span class="string">&quot;disc.artist&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Springçš„Environmentï¼š</p>
<p>getProperty()æ–¹æ³•çš„å››ç§é‡è½½æ–¹å¼ï¼š</p>
<ul>
<li>String getProperty(String key)ï¼›</li>
<li>String getProperty(String key, String defaultValue)ï¼›</li>
<li>T getProperty(String key, Class<T> type)ï¼›</li>
<li>T getProperty(String key, Class<T> type, T defaultValue)ï¼›</li>
</ul>
<p>ä½¿ç”¨é‡è½½å½¢å¼çš„getProperty()æ–¹æ³•å¯ä»¥é¿å…ç±»å‹è½¬æ¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> connectionCount = env.getProperty(<span class="string">&quot;db.connection.count&quot;</span>, Integer.class, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>



<p>Environmentå¸¸è§æ–¹æ³•ï¼š</p>
<ul>
<li>boolean containsProperty(String property)ï¼›</li>
<li>String[] getActiveProfiles()ï¼›</li>
<li>String[] getDefaultProfiles()ï¼›</li>
<li>boolean acceptsProfiles(Stringâ€¦ profiles)ã€‚</li>
</ul>
<p>è§£æå±æ€§å ä½ç¬¦ï¼š</p>
<p>Springæ”¯æŒå°†å±æ€§å®šä¹‰åˆ°å¤–éƒ¨çš„å±æ€§æ–‡ä»¶ä¸­ï¼Œå¹¶ä½¿ç”¨å ä½ç¬¦å°†å…¶å€¼æ’å…¥åˆ°Spring beanä¸­ã€‚åœ¨Springè£…é…ä¸­ï¼Œå ä½ç¬¦çš„å½¢å¼ä¸ºä½¿ç”¨ â€œ${â€¦}â€ çš„å½¢å¼åŒ…è£…çš„å±æ€§åç§°ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sgtPeppers&quot;</span> <span class="attr">class</span>=<span class="string">&quot;soundsystem.BlankDisc&quot;</span> <span class="attr">c:_title</span>=<span class="string">&quot;$&#123;disc.title&#125;&quot;</span> <span class="attr">c:_artist</span>=<span class="string">&quot;$&#123;disc.artist&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç»„ä»¶æ‰«æå’Œè‡ªåŠ¨è£…é…æ—¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BlankDisc</span><span class="params">(<span class="meta">@Value(&quot;$&#123;disc.title&#125;&quot; String title, @Value(&quot;$&#123;disc.artist&#125;&quot;) String artist)</span> &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">this</span>.title = title;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">this</span>.artist = artist;</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;</span></span></span><br></pre></td></tr></table></figure>



<p>SpELè¡¨è¾¾å¼è¯­è¨€ï¼š</p>
<p>å°†è¡¨è¾¾å¼è¯­è¨€æ”¾åˆ° â€œ#{â€¦}â€ ä¹‹ä¸­ã€‚</p>
<ul>
<li>â€œ#{1 + 1}â€</li>
<li>â€œ#{T(System).currentMillis()}â€</li>
<li>â€œ#{sgtPeppers.artist}â€</li>
<li>â€œ#{false}â€</li>
<li>â€œ#{artistSelector.selectArtists().toUpperCase()}â€</li>
</ul>
<p>SpELè¿ç®—ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦ç±»å‹</th>
<th>è¿ç®—ç¬¦</th>
</tr>
</thead>
<tbody><tr>
<td>ç®—æœ¯è¿ç®—ç¬¦</td>
<td>+ã€-ã€*ã€/ã€%ã€</td>
</tr>
<tr>
<td>æ¯”è¾ƒè¿ç®—ç¬¦</td>
<td>&lt;ã€&gt;ã€==ã€&lt;=ã€&gt;=ã€ltã€gtã€eqã€leã€ge</td>
</tr>
<tr>
<td>é€»è¾‘è¿ç®—ç¬¦</td>
<td>andã€orã€notã€|</td>
</tr>
<tr>
<td>æ¡ä»¶è¿ç®—ç¬¦</td>
<td>?:(ternary)ã€?:()</td>
</tr>
<tr>
<td>æ­£åˆ™è¡¨è¾¾å¼</td>
<td>matches</td>
</tr>
</tbody></table>
<p>è®¡ç®—æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">#&#123;admin.email matches &#x27;[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.com&#x27;&#125;</span><br></pre></td></tr></table></figure>



<p>è®¡ç®—é›†åˆï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">#&#123;jukebox.songs[4].title&#125;</span><br><span class="line">#&#123;jukebox.songs[T(java.lang.Math).random()*jukebox.songs.size()].title&#125;</span><br><span class="line">#&#123;jukebox.songs.?[artist eq &#x27;Aerosmith&#x27;]&#125;  //.?[]å¾—åˆ°é›†åˆçš„ä¸€ä¸ªå­é›†</span><br><span class="line">#&#123;jukebox.songs.^[artist eq &#x27;Areosmith&#x27;]&#125;  //.^[]æŸ¥è¯¢é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</span><br><span class="line">#&#123;jukebox.songs.$[artist eq &#x27;Areosmith&#x27;].![title]&#125;  //.$[]æŸ¥è¯¢é›†åˆä¸­çš„æœ€åä¸€ä¸ªåŒ¹é…é¡¹ï¼Œ.![]ä»é›†åˆçš„æ¯ä¸ªæˆå‘˜ä¸­é€‰æ‹©ç‰¹å®šçš„å±æ€§æ”¾åˆ°å¦å¤–ä¸€ä¸ªé›†åˆä¸­</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°-ç¬¬äºŒç« -è£…é…Bean</title>
    <url>/2018/11/17/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E8%A3%85%E9%85%8DBean/</url>
    <content><![CDATA[<p>ç¬¬äºŒç« ï¼šè£…é…Bean</p>
<p>æœ¬ç« å†…å®¹ï¼š</p>
<ul>
<li>å£°æ˜bean</li>
<li>æ„é€ å™¨æ³¨å…¥å’ŒSetteræ–¹æ³•æ³¨å…¥</li>
<li>è£…é…bean</li>
<li>æ§åˆ¶beançš„åˆ›å»ºå’Œé”€æ¯</li>
</ul>
<blockquote>
<p>åœ¨Springä¸­ï¼Œå¯¹è±¡æ— éœ€è‡ªå·±æŸ¥æ‰¾æˆ–åˆ›å»ºä¸å…¶æ‰€å…³è”çš„å¯¹è±¡ï¼Œå®¹å™¨è´Ÿè´£æŠŠéœ€è¦ç›¸äº’åä½œçš„å¯¹è±¡å¼•ç”¨èµ‹å€¼ç»™å„ä¸ªå¯¹è±¡ï¼Œè¿™ç§åä½œå…³ç³»æˆä¸º<strong>è£…é…</strong>ã€‚</p>
</blockquote>
<hr>
<h3 id="2-1-Springé…ç½®çš„å¯é€‰æ–¹æ¡ˆ"><a href="#2-1-Springé…ç½®çš„å¯é€‰æ–¹æ¡ˆ" class="headerlink" title="2.1 Springé…ç½®çš„å¯é€‰æ–¹æ¡ˆ"></a>2.1 Springé…ç½®çš„å¯é€‰æ–¹æ¡ˆ</h3><blockquote>
<p>Springå®¹å™¨è´Ÿè´£åˆ›å»ºåº”ç”¨ç¨‹åºä¸­çš„beanå¹¶é€šè¿‡DIæ¥åè°ƒå¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚å¼€å‘äººå‘˜éœ€è¦åšçš„æ˜¯å‘Šè¯‰Springéœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡å¹¶ä¸”å¦‚ä½•è£…é…åœ¨ä¸€èµ·ã€‚</p>
</blockquote>
<span id="more"></span>



<p>Springæä¾›äº†ä¸‰ç§å¯é€‰æ–¹å¼ï¼š</p>
<ul>
<li>XMLé…ç½®</li>
<li>Javaæ˜¾å¼é…ç½®</li>
<li>éšå¼çš„beanå‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…</li>
</ul>
<p>å¦‚ä½•é€‰æ‹©ï¼š<strong>å°½å¯èƒ½ä½¿ç”¨è‡ªåŠ¨é…ç½®æœºåˆ¶ï¼Œå½“å¿…é¡»æ˜¾å¼é…ç½®æ—¶ä½¿ç”¨JavaConfigï¼Œå½“JavaConfigä¸­æ²¡æœ‰åŒæ ·å®ç°æ—¶ä½¿ç”¨XMLé…ç½®ã€‚</strong></p>
<hr>
<h3 id="2-2-è‡ªåŠ¨åŒ–è£…é…bean"><a href="#2-2-è‡ªåŠ¨åŒ–è£…é…bean" class="headerlink" title="2.2 è‡ªåŠ¨åŒ–è£…é…bean"></a>2.2 è‡ªåŠ¨åŒ–è£…é…bean</h3><ul>
<li>è‡ªåŠ¨æ‰«æ</li>
<li>è‡ªåŠ¨è£…é…</li>
</ul>
<h4 id="2-2-1-åˆ›å»ºå¯è¢«å‘ç°çš„bean"><a href="#2-2-1-åˆ›å»ºå¯è¢«å‘ç°çš„bean" class="headerlink" title="2.2.1 åˆ›å»ºå¯è¢«å‘ç°çš„bean"></a>2.2.1 åˆ›å»ºå¯è¢«å‘ç°çš„bean</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki2.soundsys;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ7:21</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CompactDisc</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki2.soundsys;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ7:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SgtPeppers</span> <span class="keyword">implements</span> <span class="title">CompactDisc</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String title = <span class="string">&quot;SgtPeppers title&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> String artiest = <span class="string">&quot;The Beatles&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;playing..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki2.soundsys;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ7:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CDPlayerConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>é€šè¿‡XMLé…ç½®å¼€å¯æ³¨è§£æ‰«æï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;soundsys&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<p>è‡ªåŠ¨è£…é…æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kotobuki2.soundsys.CDPlayerConfig;</span><br><span class="line"><span class="keyword">import</span> com.kotobuki2.soundsys.CompactDisc;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertNotNull;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ7:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = CDPlayerConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CDPlayerTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CompactDisc compactDisc;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cdTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        assertNotNull(compactDisc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-2-2-ä¸ºç»„ä»¶æ‰«æçš„beanå‘½å"><a href="#2-2-2-ä¸ºç»„ä»¶æ‰«æçš„beanå‘½å" class="headerlink" title="2.2.2 ä¸ºç»„ä»¶æ‰«æçš„beanå‘½å"></a>2.2.2 ä¸ºç»„ä»¶æ‰«æçš„beanå‘½å</h4><p>é»˜è®¤å°†ç±»åç¬¬ä¸€ä¸ªå­—æ¯å°å†™åçš„å­—ç¬¦ä¸²ä½œä¸ºbeançš„idã€‚</p>
<p>å¯ä»¥é€šè¿‡æ³¨è§£æ ‡ç¤ºbeançš„åˆ«åï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;alias&quot;)</span></span><br></pre></td></tr></table></figure>



<h4 id="2-2-3-è®¾ç½®ç»„ä»¶æ‰«æçš„åŸºç¡€åŒ…"><a href="#2-2-3-è®¾ç½®ç»„ä»¶æ‰«æçš„åŸºç¡€åŒ…" class="headerlink" title="2.2.3 è®¾ç½®ç»„ä»¶æ‰«æçš„åŸºç¡€åŒ…"></a>2.2.3 è®¾ç½®ç»„ä»¶æ‰«æçš„åŸºç¡€åŒ…</h4><p><strong>é»˜è®¤ä»¥é…ç½®ç±»æ‰€åœ¨çš„åŒ…ä¸ºåŸºç¡€åŒ…è¿›è¡Œæ‰«æã€‚</strong></p>
<p>è‡ªå®šä¹‰æ‰«æåŒ…ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;package-name&quot;)</span></span><br><span class="line"><span class="comment">//æ‰«æå¤šä¸ªåŸºç¡€åŒ…</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;package1&quot;, &quot;package2&quot;&#125;)</span></span><br></pre></td></tr></table></figure>



<p>ä½†æ˜¯ç”¨ç›´æ¥æŒ‡å®šåŒ…åä¼šå‡ºç°é—®é¢˜ï¼šåŒ…åè¢«å˜æ›´ä»¥åä¾¿æ— æ³•æ‰«æåˆ°æ‰€éœ€è¦çš„ç±»ï¼Œå› æ­¤ï¼Œè¿˜æœ‰å¦ä¸€ç§æŒ‡å®šæ‰«æåŒ…çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackageClasses = &#123;CDPlayer.class, DVDPlayer.class&#125;)</span></span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼ä¸‹ï¼Œè¿™äº›ç±»æ‰€åœ¨çš„åŒ…éƒ½ä¼šä½œä¸ºåŸºç¡€åŒ…è¿›è¡Œæ‰«æï¼Œå³ä¾¿ä»£ç é‡æ„ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚</p>
<h4 id="2-2-4-é€šè¿‡ä¸ºbeanæ·»åŠ æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"><a href="#2-2-4-é€šè¿‡ä¸ºbeanæ·»åŠ æ³¨è§£å®ç°è‡ªåŠ¨è£…é…" class="headerlink" title="2.2.4 é€šè¿‡ä¸ºbeanæ·»åŠ æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"></a>2.2.4 é€šè¿‡ä¸ºbeanæ·»åŠ æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki2.soundsys;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ8:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MediaPlayer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kotobuki2.soundsys;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/11/17 ä¸‹åˆ8:50</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CDPlayer</span> <span class="keyword">implements</span> <span class="title">MediaPlayer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CompactDisc compactDisc;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CDPlayer</span><span class="params">(CompactDisc compactDisc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.compactDisc = compactDisc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        compactDisc.play();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>@Autowiredæ³¨è§£ä¸ä»…èƒ½å¤Ÿç”¨åœ¨æ„é€ å™¨ä¸Šï¼Œä¹Ÿèƒ½ç”¨åœ¨å±æ€§çš„Setteræ–¹æ³•ä¸Šã€‚</p>
<hr>
<h3 id="2-3-é€šè¿‡Javaè£…é…bean"><a href="#2-3-é€šè¿‡Javaè£…é…bean" class="headerlink" title="2.3 é€šè¿‡Javaè£…é…bean"></a>2.3 é€šè¿‡Javaè£…é…bean</h3><blockquote>
<p>åœ¨è¿›è¡Œæ˜¾å¼é…ç½®çš„æ—¶å€™ï¼ŒJavaConfigæ˜¯æ›´å¥½çš„æ–¹æ¡ˆï¼Œå› ä¸ºå…¶å¼ºå¤§ã€ç±»å‹å®‰å…¨å¹¶ä¸”é‡æ„å‹å¥½ã€‚å› ä¸ºå…¶æœ¬èº«å°±æ˜¯Javaä»£ç ã€‚</p>
</blockquote>
<p>å£°æ˜ç®€å•çš„beanï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean(name=&quot;alias&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> CompactDisc <span class="title">sgtPeppers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> SgtPeppers();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å€ŸåŠ©JavaConfigå®ç°æ³¨å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> CDPlayer <span class="title">cdPlayer</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> CDPlayer(<span class="keyword">new</span> sgtPeppers());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> CDPlayer <span class="title">cdPlayer</span><span class="params">(CompactDisc disc)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> CDplayer(disc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åè€…ä¸è¦æ±‚discå¿…é¡»åœ¨JavaConfigä¸­å£°æ˜ï¼Œå®é™…ä¸Šå®ƒå¯ä»¥é€šè¿‡ç»„ä»¶æ‰«æåŠŸèƒ½è‡ªåŠ¨å‘ç°æˆ–è€…XMLæ¥è¿›è¡Œé…ç½®ã€‚</p>
<p>é€šè¿‡æ„é€ å™¨æ³¨å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> CDPlayer <span class="title">cdPlayer</span><span class="params">(CompactDisc disc)</span></span>&#123;</span><br><span class="line">    CDPlayer cdPlayer = <span class="keyword">new</span> CDPlayer(disc);</span><br><span class="line">    cdPlayer.setCompactDisc(disc);</span><br><span class="line">    <span class="keyword">return</span> cdPlayer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="2-4-é€šè¿‡XMLè£…é…Bean"><a href="#2-4-é€šè¿‡XMLè£…é…Bean" class="headerlink" title="2.4 é€šè¿‡XMLè£…é…Bean"></a>2.4 é€šè¿‡XMLè£…é…Bean</h3><p>åœ¨XMLé…ç½®ä¸­ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªä»¥<beans>ä½œä¸ºæ ¹å…ƒç´ çš„XMLé…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>å¯ä»¥å€ŸåŠ©Spring Tool Suiteåˆ›å»ºå’Œç®¡ç†Spring XMLé…ç½®æ–‡ä»¶</strong>ã€‚</p>
<h4 id="2-4-1-å£°æ˜ä¸€ä¸ªç®€å•çš„beanï¼š"><a href="#2-4-1-å£°æ˜ä¸€ä¸ªç®€å•çš„beanï¼š" class="headerlink" title="2.4.1 å£°æ˜ä¸€ä¸ªç®€å•çš„beanï¼š"></a>2.4.1 å£°æ˜ä¸€ä¸ªç®€å•çš„beanï¼š</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bean_id&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.SgtPeppers&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰æŒ‡æ˜idï¼Œbeanå°†ä¼šæ ¹æ®ç±»å…¨é™å®šåæŒ‡å®šï¼Œä¸ºäº†å‡å°‘XMLé…ç½®çš„ç¹çï¼Œåªéœ€è¦å¯¹éœ€è¦æŒ‰åç§°å¼•ç”¨çš„beanè¿›è¡Œå‘½åã€‚â€œcom.soundsys.SgtPeppers#0â€â€¦</p>
<p><constructor-arg> å…ƒç´ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cdPlayer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.CDPlayer&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;compactDisc&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2-4-2-cå‘½åç©ºé—´"><a href="#2-4-2-cå‘½åç©ºé—´" class="headerlink" title="2.4.2 cå‘½åç©ºé—´"></a>2.4.2 cå‘½åç©ºé—´</h4><p><a href="https://blog.csdn.net/elim168/article/details/74516439">på‘½åç©ºé—´å’Œcå‘½åç©ºé—´</a></p>
<h4 id="2-4-3-å°†å­—é¢é‡æ³¨å…¥åˆ°æ„é€ å™¨ä¸­ï¼š"><a href="#2-4-3-å°†å­—é¢é‡æ³¨å…¥åˆ°æ„é€ å™¨ä¸­ï¼š" class="headerlink" title="2.4.3 å°†å­—é¢é‡æ³¨å…¥åˆ°æ„é€ å™¨ä¸­ï¼š"></a>2.4.3 å°†å­—é¢é‡æ³¨å…¥åˆ°æ„é€ å™¨ä¸­ï¼š</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;compactDisc&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.BlackDisc&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;title&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;The Beatles&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ value å±æ€§ï¼Œå°†ç»™å®šçš„å€¼æ³¨å…¥åˆ°æ„é€ å™¨ä¸­ã€‚</p>
<h4 id="2-4-3-è£…é…é›†åˆ"><a href="#2-4-3-è£…é…é›†åˆ" class="headerlink" title="2.4.3 è£…é…é›†åˆ"></a>2.4.3 è£…é…é›†åˆ</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.beat&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;The Beatles&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;bean1&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;bean2&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;bean3&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.beat&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;The Beatles&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>SgtPeppers<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>The Beatles<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯ list å’Œ set ä¼šå¿½ç•¥é‡å¤å…ƒç´ ã€‚</p>
<h4 id="2-4-4-på‘½åç©ºé—´"><a href="#2-4-4-på‘½åç©ºé—´" class="headerlink" title="2.4.4 på‘½åç©ºé—´"></a>2.4.4 på‘½åç©ºé—´</h4><p><a href="https://blog.csdn.net/elim168/article/details/74516439">på‘½åç©ºé—´å’Œcå‘½åç©ºé—´</a></p>
<h4 id="2-4-5-å¯¼å…¥æ··åˆé…ç½®"><a href="#2-4-5-å¯¼å…¥æ··åˆé…ç½®" class="headerlink" title="2.4.5 å¯¼å…¥æ··åˆé…ç½®"></a>2.4.5 å¯¼å…¥æ··åˆé…ç½®</h4><p>åœ¨ JavaConfig ä¸­å¼•ç”¨ JavaConfig é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import(CDConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CDPlayerConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CDPlayer <span class="title">cdPlayer</span><span class="params">(CompactDisc disc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CDPlayer(disc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import(CDPlayerConfig.class, CDConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SoundSysConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ªé…ç½®ç±»ï¼Œä½¿ç”¨@Importå¯¼å…¥ä¸¤ä¸ªé…ç½®ç±»ã€‚</p>
<p>åœ¨JavaConfigä¸­å¼•å…¥XMLé…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import(CDPlayerConfig.class)</span></span><br><span class="line"><span class="meta">@ImportResource(&quot;classpath:cd-config.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SoundSysConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>åœ¨XMLé…ç½®ä¸­å¼•ç”¨XMLé…ç½®ï¼š</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;cd-config.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cdPlayer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.CDPlayer&quot;</span> <span class="attr">c:cd-ref</span>=<span class="string">&quot;compactDisc&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>åœ¨XMLä¸­å¼•å…¥JavaConfigé…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.CDConfig&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cdPlayer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.CDPlayer&quot;</span> <span class="attr">c:cd-ref</span>=<span class="string">&quot;compactDisc&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.soundsys.CDConfig&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;cdplayer-config.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«å¯¼å…¥JavaConfigé…ç½®å’ŒXMLé…ç½®ã€‚</p>
<hr>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><blockquote>
<p>Springæ¡†æ¶çš„æ ¸å¿ƒæ˜¯Springå®¹å™¨ï¼Œè´Ÿè´£ç®¡ç†åº”ç”¨ä¸­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¼šåˆ›å»ºè¿™äº›ç»„ä»¶å¹¶ä¿è¯å®ƒä»¬çš„ä¾èµ–èƒ½å¤Ÿå¾—åˆ°æ»¡è¶³ã€‚</p>
<p>å°½å¯èƒ½ä½¿ç”¨è‡ªåŠ¨é…ç½®ï¼Œä»¥é¿å…æ˜¾å¼é…ç½®å¸¦æ¥çš„ç»´æŠ¤æˆæœ¬ã€‚</p>
<p>å¦‚æœç¡®å®éœ€è¦æ˜¾å¼é…ç½®ï¼Œåº”ä¼˜å…ˆé€‰æ‹©åŸºäºJavaçš„é…ç½®ï¼Œå› ä¸ºå…¶æ›´åŠ å¼ºå¤§ã€ç±»å‹å®‰å…¨ä¸”æ˜“äºé‡æ„ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Thymeleafåˆ†é¡µæ¨¡æ¿</title>
    <url>/2020/01/01/Thymeleaf%E5%88%86%E9%A1%B5%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p>ç»å¸¸åœ¨ç”¨ Thymeleaf åˆ†é¡µï¼Œå¾ˆå¤šåŸºç¡€çš„çŸ¥è¯†å·²ç»æœ‰ç‚¹æ·¡å¿˜äº†ï¼Œä»Šå¤©åšåˆ°äº†åˆ†é¡µéƒ¨åˆ†ï¼Œå‘ç°è¿æœ€åŸºç¡€çš„é€»è¾‘æ¯”è¾ƒéƒ½è®°ä¸æ¸…äº†ã€‚äºæ˜¯èŠ±äº†ç‚¹æ—¶é—´åˆçœ‹äº†ä¸‹ Thymeleaf çš„åŸºç¡€çŸ¥è¯†ï¼Œåšäº†ä¸€ä¸ªç›¸å½“ç®€é™‹çš„åˆ†é¡µï¼Œè®°å½•ä¸€ä¸‹ä»¥åç¿»ç”¨ã€‚</p>
<br>

<span id="more"></span>

<p>åˆ†é¡µå·¥å…·ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bill.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ†é¡µå·¥å…·ç±»ï¼Œè·å–åˆ†é¡µç›¸å…³æ•°æ®é¡¹ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2019/12/29 4:01 ä¸‹åˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageHelper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// å½“å‰é¡µç </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> currentPage;</span><br><span class="line">    <span class="comment">// æ¯é¡µæ•°æ®é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> pageSize;</span><br><span class="line">    <span class="comment">// æ€»é¡µæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> totalPage;</span><br><span class="line">    <span class="comment">// æ€»æ•°æ®é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> totalCount;</span><br><span class="line">    <span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; dataList;</span><br><span class="line">    <span class="comment">// æ˜¯å¦ä¸ºç¬¬ä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isFirstPage;</span><br><span class="line">    <span class="comment">// æ˜¯å¦æ˜¯æœ€åä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isLastPage;</span><br><span class="line">    <span class="comment">// æ˜¯å¦æœ‰å‰ä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> hasPreviousPage;</span><br><span class="line">    <span class="comment">// æ˜¯å¦æœ‰åä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> hasNextPage;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PageHelper</span><span class="params">(<span class="keyword">int</span> currenPage, <span class="keyword">int</span> pageSize, <span class="keyword">int</span> totalCount, List&lt;T&gt; dataList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.currentPage = currenPage;</span><br><span class="line">        <span class="keyword">this</span>.pageSize = pageSize;</span><br><span class="line">        <span class="keyword">this</span>.totalCount = totalCount;</span><br><span class="line">        <span class="keyword">this</span>.dataList = dataList;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (totalCount % pageSize == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.totalPage = totalCount / pageSize;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.totalPage = totalCount / pageSize + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.isFirstPage = (currentPage == <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.isLastPage = (currentPage == totalPage);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.hasNextPage = !isLastPage;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.hasPreviousPage = !isFirstPage;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Thymeleafæ¨¡æ¿ï¼š</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;pagination&quot;</span> style=<span class="string">&quot;float: right;&quot;</span>&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=<span class="string">&quot;#&quot;</span> th:href=<span class="string">&quot;@&#123;billContent.do?page=1&#125;&quot;</span>&gt;&amp;laquo;&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li th:<span class="keyword">if</span>=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() - 2&#125; &amp;gt; 0&quot;</span>&gt;</span><br><span class="line">        &lt;a th:text=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() - 2&#125;&quot;</span></span><br><span class="line">           th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getCurrentPage() - 2&#125;&#125;&quot;</span>&gt;<span class="number">1</span>&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li th:<span class="keyword">if</span>=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() - 1&#125; &amp;gt; 0&quot;</span>&gt;</span><br><span class="line">        &lt;a th:text=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() - 1&#125;&quot;</span></span><br><span class="line">           th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getCurrentPage() - 1&#125;&#125;&quot;</span>&gt;<span class="number">1</span>&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;active&quot;</span>&gt;</span><br><span class="line">        &lt;a th:text=<span class="string">&quot;$&#123;pageHelper.getCurrentPage()&#125;&quot;</span> th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getCurrentPage()&#125;&#125;&quot;</span>&gt;<span class="number">1</span>&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li th:<span class="keyword">if</span>=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() + 1&#125; &amp;lt; $&#123;pageHelper.getTotalPage() + 1&#125;&quot;</span>&gt;</span><br><span class="line">        &lt;a th:text=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() + 1&#125;&quot;</span></span><br><span class="line">           th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getCurrentPage() + 1&#125;&#125;&quot;</span>&gt;<span class="number">1</span>&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li th:<span class="keyword">if</span>=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() + 2&#125; &amp;lt; $&#123;pageHelper.getTotalPage() + 1&#125;&quot;</span>&gt;</span><br><span class="line">        &lt;a th:text=<span class="string">&quot;$&#123;pageHelper.getCurrentPage() + 2&#125;&quot;</span></span><br><span class="line">           th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getCurrentPage() + 2&#125;&#125;&quot;</span>&gt;<span class="number">1</span>&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=<span class="string">&quot;#&quot;</span> th:href=<span class="string">&quot;@&#123;&#x27;billContent.do?page=&#x27; + $&#123;pageHelper.getTotalPage()&#125;&#125;&quot;</span>&gt;&amp;raquo;&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Thymeleaf</category>
      </categories>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue-clié¡¹ç›®é…ç½®ä»£ç†ä¸ç”Ÿæ•ˆ</title>
    <url>/2021/05/09/Vue-cli%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E4%B8%8D%E7%94%9F%E6%95%88/</url>
    <content><![CDATA[<p>è¯¦è§£webpackçš„proxyTableæ— æ•ˆçš„è§£å†³æ–¹æ¡ˆ</p>
<h2 id="webpackä¸‹é…ç½®proxyTableçš„é—®é¢˜"><a href="#webpackä¸‹é…ç½®proxyTableçš„é—®é¢˜" class="headerlink" title="webpackä¸‹é…ç½®proxyTableçš„é—®é¢˜"></a>webpackä¸‹é…ç½®proxyTableçš„é—®é¢˜</h2><p>Vue-cli@2åˆ›å»ºçš„é¡¹ç›®ï¼Œç”¨çš„webpackï¼Œé…ç½®äº† config/index.js ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line">    <span class="comment">// Paths</span></span><br><span class="line">    assetsSubDirectory: &#x27;static&#x27;,</span><br><span class="line">    assetsPublicPath: &#x27;/&#x27;,</span><br><span class="line">    proxyTable: &#123;</span><br><span class="line">      &#x27;/api&#x27;: &#123;</span><br><span class="line">        target: &#x27;http:<span class="comment">//localhost:9003/&#x27;,</span></span><br><span class="line">        ws: <span class="literal">true</span>,</span><br><span class="line">        changOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          &#x27;^/api&#x27;: &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"> ...</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥äº†axiosï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line">Vue.prototype.axios = axios</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">login</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">this</span>.form.userId === <span class="string">&#x27;&#x27;</span> || <span class="built_in">this</span>.form.password === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">this</span>.openMessageWarning(<span class="string">&#x27;ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º&#x27;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">this</span>.axios.post(<span class="string">&#x27;/test/param1&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&quot;res: &quot;</span>, res)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹å®Œä¹‹åé‡å¯äº†é¡¹ç›®ï¼Œä½†æ˜¯æ§åˆ¶å°æ˜¾ç¤ºè¯·æ±‚çš„ipè¿˜æ˜¯æœ¬åœ°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST http://localhost:8080/test/param1 404 (Not Found)</span><br></pre></td></tr></table></figure>

<br>

<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>æŸ¥äº†ä¸€ä¸‹åˆçš„èµ„æ–™ï¼ŒåŸºæœ¬ä¸Šéƒ½å·®ä¸å¤šï¼š</p>
<ul>
<li>æ£€æŸ¥proxyTableä¸­é…ç½®çš„åŸŸå</li>
<li>é…ç½® webpack.baseUrl</li>
<li>é…ç½®å®Œè¦é‡å¯åº”ç”¨æ‰èƒ½ç”Ÿæ•ˆ</li>
<li>åˆ æ‰node_modulesé‡å»ºé¡¹ç›®</li>
</ul>
<p>å‰å‡ ä¸ªæ–¹æ³•éƒ½è¯•äº†ï¼Œæ²¡ä»€ä¹ˆæ•ˆæœã€‚ç”šè‡³å’Œä»¥å‰çš„é¡¹ç›®å¯¹æ¯”äº†ï¼Œéƒ½æ²¡æ‰¾åˆ°ä»€ä¹ˆä¸åŒçš„åœ°æ–¹ã€‚</p>
<br>

<h2 id="æœ€ç»ˆè§£å†³ï¼ˆç†è§£é”™è¯¯ï¼‰"><a href="#æœ€ç»ˆè§£å†³ï¼ˆç†è§£é”™è¯¯ï¼‰" class="headerlink" title="æœ€ç»ˆè§£å†³ï¼ˆç†è§£é”™è¯¯ï¼‰"></a>æœ€ç»ˆè§£å†³ï¼ˆç†è§£é”™è¯¯ï¼‰</h2><p>çœ‹äº† <a href="https://www.jb51.net/article/142086.htm">è¯¦è§£webpackçš„proxyTableæ— æ•ˆçš„è§£å†³æ–¹æ¡ˆ</a> ï¼Œè¯´å¯èƒ½æ˜¯ç¼“å­˜çš„é—®é¢˜ï¼Œæˆ‘æ¯æ¬¡éƒ½æœ‰æ¸…ç†æµè§ˆå™¨çš„ç¼“å­˜ï¼Œä¸çŸ¥é“webpackè¿˜æœ‰ç¼“å­˜çš„ï¼Œç„¶åæˆ‘å°è¯•ç€å°†proxyTableä¸­çš„ç«¯å£æ¢äº†ä¸€ä¸‹ï¼Œç»“æœâ€¦å°±è¯·æ±‚æˆåŠŸäº†ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST http://localhost:9004/test/param1 404 (Not Found)</span><br></pre></td></tr></table></figure>

<p>æ²¡æƒ³åˆ°è¿™å±‚åŸå› ï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸Šå¡äº†ä¸€ä¸‹åˆï¼Œå¿ƒæ€å´©æºƒã€‚</p>
<br>

<h2 id="æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ"><a href="#æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ"></a>æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ</h2><p>å…¶å®æ˜¯é…ç½®ä¸­targeté…ç½®æœ‰é—®é¢˜ï¼š</p>
<p>ä¾‹å¦‚åå°åœ°å€ï¼š<a href="http://baidu.com/api/user/%7BuserId%7D">http://baidu.com/api/user/{userId}</a></p>
<p>æœ¬åœ°é¡¹ç›®åœ°å€ä¸ºï¼š<a href="http://localhost:8080/">http://localhost:8080</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æ–¹å¼ä¸€ï¼Œç•™ç©ºï¼Œä¸å†™</span><br><span class="line">&#x27;/^api&#x27;: &#x27;&#x27;, //ä»£è¡¨ä½ åœ¨axiosé‡Œçš„è¯·æ±‚&#x27;/api/info&#x27; = http://localhost:54321/info</span><br><span class="line"></span><br><span class="line">//æ–¹å¼äºŒï¼Œé‡å†™</span><br><span class="line">&#x27;/^api&#x27;: &#x27;api/&#x27;, //ä»£è¡¨ä½ åœ¨axiosé‡Œçš„è¯·æ±‚&#x27;/api/info&#x27; = http://localhost:54321/api/info</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 18.04å®‰è£…Mariadbä¿®æ”¹åˆå§‹å¯†ç </title>
    <url>/2020/10/22/Ubuntu-18-04%E5%AE%89%E8%A3%85Mariadb%E4%BF%AE%E6%94%B9%E5%88%9D%E5%A7%8B%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<p>Ubuntu 18.04å®‰è£…Mariadbä¿®æ”¹åˆå§‹å¯†ç </p>
<p>åœ¨Ubuntuç¯å¢ƒä¸‹æ–°å®‰è£…Mariadbæ•°æ®åº“ä¹‹åï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶é‡Œéƒ½æ²¡æœ‰é»˜è®¤å¯†ç ï¼Œç„¶åç”¨rootç”¨æˆ·å’Œç©ºå¯†ç ä¹Ÿç™»ä¸è¿›å»ï¼Œæµªè´¹äº†å¥½é•¿æ—¶é—´ï¼Œå°†è§£å†³çš„è¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚</p>
<p>MySQLç‰ˆæœ¬ï¼š<strong>10.1.47-MariaDB-0+deb9u1 Debian 9.13</strong></p>
<p>åœ¨StackOverflowä¸Šæ‰¾åˆ°çš„è§£å†³æ–¹æ³• &gt;&gt;&gt;  <a href="https://stackoverflow.com/questions/39281594/error-1698-28000-access-denied-for-user-rootlocalhost">ERROR 1698 (28000): Access denied for user â€˜rootâ€˜@â€™localhost</a>â€˜](<a href="https://stackoverflow.com/questions/39281594/error-1698-28000-access-denied-for-user-rootlocalhost">https://stackoverflow.com/questions/39281594/error-1698-28000-access-denied-for-user-rootlocalhost</a>)</p>
<span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zhulongkun20@v2ray:mysqld_safe --skip-grant-tables</span><br><span class="line"></span><br><span class="line">zhulongkun20@v2ray:sudo /etc/init.d/mysql restart</span><br><span class="line"></span><br><span class="line">zhulongkun20@v2ray:sudo mysql</span><br><span class="line"></span><br><span class="line">è¿›å…¥åˆ° MySQL åå°</span><br><span class="line">MariaDB [(none)]&gt;</span><br><span class="line"></span><br><span class="line">æ‰§è¡ŒSQLä¿®æ”¹å¯†ç </span><br><span class="line">MariaDB [(none)]&gt; update mysql.user set password=PASSWORD(&quot;root&quot;) where user=&quot;root&quot;;</span><br><span class="line"></span><br><span class="line">åˆ·æ–°</span><br><span class="line">MariaDB [(none)]&gt; flush privileges;</span><br><span class="line">MariaDB [(none)]&gt; exit</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">é‡å¯</span><br><span class="line">zhulongkun20@v2ray:/etc$ sudo /etc/init.d/mysql restart</span><br><span class="line">[ ok ] Restarting mysql (via systemctl): mysql.service.</span><br><span class="line"></span><br><span class="line">ç™»å½•ç„¶åè¿˜æ˜¯æŠ¥é”™</span><br><span class="line">zhulongkun20@v2ray:mysql -uroot -p</span><br><span class="line">ERROR 1698 (28000): Access denied for user &#x27;root&#x27;@&#x27;localhost&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è§£å†³é—®é¢˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zhulongkun20@v2ray:mysqld_safe --skip-grant-tables</span><br><span class="line"></span><br><span class="line">zhulongkun20@v2ray:sudo /etc/init.d/mysql restart</span><br><span class="line"></span><br><span class="line">zhulongkun20@v2ray:sudo mysql</span><br><span class="line"></span><br><span class="line">è¿›å…¥åˆ° MySQL åå°</span><br><span class="line">MariaDB [(none)]&gt;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">MariaDB [mysql]&gt; SELECT User, Host, plugin FROM mysql.user;</span><br><span class="line">+------+-----------+-------------+</span><br><span class="line">| User | Host      | plugin      |</span><br><span class="line">+------+-----------+-------------+</span><br><span class="line">| root | localhost | unix_socket |</span><br><span class="line">+------+-----------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; UPDATE user SET plugin=&#x27;mysql_native_password&#x27; WHERE User=&#x27;root&#x27;;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">ç„¶åé€€å‡º</span><br><span class="line">MariaDB [mysql]&gt; exit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ€æ‰æ‰€æœ‰è¿›ç¨‹åé‡å¯ç™»å½•å³å¯ï¼š</span><br><span class="line">zhulongkun20@v2ray:~$ mysql -uroot -p</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>dubboå­¦ä¹ ç¬”è®°</title>
    <url>/2018/12/02/dubbo%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>dubboå­¦ä¹ ç¬”è®°</p>
<p><a href="http://dubbo.apache.org/zh-cn/index.html">dubboä¸­æ–‡å®˜æ–¹ç½‘ç«™</a></p>
<p><a href="http://dubbo.apache.org/zh-cn/docs/user/quick-start.html">dubboå®˜æ–¹æ–‡æ¡£</a></p>
<span id="more"></span>



<h3 id="åˆ†å¸ƒå¼ç³»ç»ŸåŠå…¶æ¼”å˜å†ç¨‹"><a href="#åˆ†å¸ƒå¼ç³»ç»ŸåŠå…¶æ¼”å˜å†ç¨‹" class="headerlink" title="åˆ†å¸ƒå¼ç³»ç»ŸåŠå…¶æ¼”å˜å†ç¨‹"></a>åˆ†å¸ƒå¼ç³»ç»ŸåŠå…¶æ¼”å˜å†ç¨‹</h3><p><img src="http://dubbo.apache.org/docs/zh-cn/user/sources/images/dubbo-architecture-roadmap.jpg" alt="dubbo"></p>
<p>å•ä¸€åº”ç”¨æ¶æ„ï¼š</p>
<p>å½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚æ­¤æ—¶ï¼Œç”¨äºç®€åŒ–å¢åˆ æ”¹æŸ¥å·¥ä½œé‡çš„æ•°æ®è®¿é—®æ¡†æ¶(ORM)æ˜¯å…³é”®ã€‚</p>
<p>å‚ç›´åº”ç”¨æ¶æ„ï¼š</p>
<p>å½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨å¢åŠ æœºå™¨å¸¦æ¥çš„åŠ é€Ÿåº¦è¶Šæ¥è¶Šå°ï¼Œå°†åº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºåŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„Webæ¡†æ¶(MVC)æ˜¯å…³é”®ã€‚</p>
<p>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ï¼š</p>
<p>å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®ã€‚</p>
<p>æµåŠ¨è®¡ç®—æ¶æ„ï¼š</p>
<p>å½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)æ˜¯å…³é”®ã€‚</p>
<h3 id="RPC"><a href="#RPC" class="headerlink" title="RPC"></a>RPC</h3><p>RPCï¼ˆRemote Procedure Callï¼‰â€”<a href="https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8/7854346">è¿œç¨‹è¿‡ç¨‹è°ƒç”¨</a>ï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C/143243">ç½‘ç»œ</a>ä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚<a href="https://baike.baidu.com/item/RPC%E5%8D%8F%E8%AE%AE">RPCåè®®</a>å‡å®šæŸäº›<a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE/8048821">ä¼ è¾“åè®®</a>çš„å­˜åœ¨ï¼Œå¦‚TCPæˆ–UDPï¼Œä¸ºé€šä¿¡ç¨‹åºä¹‹é—´æºå¸¦ä¿¡æ¯æ•°æ®ã€‚åœ¨OSI<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/9636548">ç½‘ç»œé€šä¿¡</a>æ¨¡å‹ä¸­ï¼ŒRPCè·¨è¶Šäº†<a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%B1%82/4329536">ä¼ è¾“å±‚</a>å’Œ<a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E5%B1%82/4329788">åº”ç”¨å±‚</a>ã€‚RPCä½¿å¾—å¼€å‘åŒ…æ‹¬ç½‘ç»œ<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F">åˆ†å¸ƒå¼</a>å¤šç¨‹åºåœ¨å†…çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“ã€‚</p>
<p>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼šåºåˆ—åŒ–å’Œç½‘ç»œé€šä¿¡ã€‚</p>
<h3 id="ç‰¹æ€§ä¸€è§ˆ"><a href="#ç‰¹æ€§ä¸€è§ˆ" class="headerlink" title="ç‰¹æ€§ä¸€è§ˆ"></a>ç‰¹æ€§ä¸€è§ˆ</h3><ul>
<li>é¢å‘æ¥å£ä»£ç†çš„é«˜æ€§èƒ½RPCè°ƒç”¨</li>
<li>æ™ºèƒ½è´Ÿè½½å‡è¡¡</li>
<li>æœåŠ¡è‡ªåŠ¨æ³¨å†Œä¸å‘ç°</li>
<li>é«˜åº¦å¯æ‰©å±•èƒ½åŠ›</li>
<li>è¿è¡ŒæœŸæµé‡è°ƒåº¦</li>
<li>å¯è§†åŒ–çš„æœåŠ¡æ²»ç†ä¸è¿ç»´</li>
</ul>
<h3 id="dubboåº”ç”¨æ¶æ„"><a href="#dubboåº”ç”¨æ¶æ„" class="headerlink" title="dubboåº”ç”¨æ¶æ„"></a>dubboåº”ç”¨æ¶æ„</h3><p><img src="http://dubbo.apache.org/img/architecture.png" alt="é«˜æ€§èƒ½Java RPCæ¡†æ¶"></p>
<h3 id="dubboå¿«é€Ÿå¯åŠ¨"><a href="#dubboå¿«é€Ÿå¯åŠ¨" class="headerlink" title="dubboå¿«é€Ÿå¯åŠ¨"></a>dubboå¿«é€Ÿå¯åŠ¨</h3><p><a href="http://dubbo.apache.org/zh-cn/docs/user/quick-start.html">dubboå¿«é€Ÿå¯åŠ¨</a></p>
<h3 id="dubboå®ä¾‹"><a href="#dubboå®ä¾‹" class="headerlink" title="dubboå®ä¾‹"></a>dubboå®ä¾‹</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ7:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAddress</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String userId;</span><br><span class="line">    <span class="keyword">private</span> String userAddress;</span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line">    <span class="keyword">private</span> String phoneNum;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isDefault;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAddress</span><span class="params">(Integer id, String userId, String userAddress, String consignee, String phoneNum,</span></span></span><br><span class="line"><span class="params"><span class="function">                       <span class="keyword">boolean</span> isDefault)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.userId = userId;</span><br><span class="line">        <span class="keyword">this</span>.userAddress = userAddress;</span><br><span class="line">        <span class="keyword">this</span>.consignee = consignee;</span><br><span class="line">        <span class="keyword">this</span>.phoneNum = phoneNum;</span><br><span class="line">        <span class="keyword">this</span>.isDefault = isDefault;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;UserAddress&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, userId=&#x27;&quot;</span> + userId + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userAddress=&#x27;&quot;</span> + userAddress + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, consignee=&#x27;&quot;</span> + consignee + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, phoneNum=&#x27;&quot;</span> + phoneNum + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, isDefault=&quot;</span> + isDefault +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ7:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">initOrder</span><span class="params">(String userId)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bean.UserAddress;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ7:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;UserAddress&gt; <span class="title">getUserAddressList</span><span class="params">(String userId)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bean.UserAddress;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ7:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserAddress&gt; <span class="title">getUserAddressList</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        UserAddress userAddress1 = <span class="keyword">new</span> UserAddress(<span class="number">1</span>, <span class="string">&quot;001&quot;</span>, <span class="string">&quot;äººæ°‘å¹¿åœº&quot;</span>, <span class="string">&quot;100&quot;</span>, <span class="string">&quot;230189&quot;</span>, <span class="keyword">true</span>);</span><br><span class="line">        UserAddress userAddress2 = <span class="keyword">new</span> UserAddress(<span class="number">2</span>, <span class="string">&quot;002&quot;</span>, <span class="string">&quot;æ–‡åŒ–å…¬å›­&quot;</span>, <span class="string">&quot;101&quot;</span>, <span class="string">&quot;230190&quot;</span>, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(userAddress1, userAddress2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.dubbo.service.consumer.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ8:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">initOrder</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.getUserAddressList(userId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.dubbo.service.consumer.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhulongkun20@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2018/12/2 ä¸‹åˆ9:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/initOrder.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">initOrder</span><span class="params">(<span class="meta">@RequestParam(&quot;userId&quot;)</span> String userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> orderService.initOrder(userId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.dubbo.service.consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@EnableDubbo</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DubboDemoApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(DubboDemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Spring boot application</span></span><br><span class="line"><span class="meta">spring.application.name</span> = <span class="string">dubbo-provider-demo</span></span><br><span class="line"><span class="meta">server.port</span> = <span class="string">9090</span></span><br><span class="line"><span class="meta">management.port</span> = <span class="string">9091</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Base packages to scan Dubbo Components (e.g., @Service, @Reference)</span></span><br><span class="line"><span class="meta">dubbo.scan.basePackages</span>  = <span class="string">com.alibaba.boot.dubbo.demo.provider.service</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Dubbo Config properties</span></span><br><span class="line"><span class="comment">## ApplicationConfig Bean</span></span><br><span class="line"><span class="meta">dubbo.application.id</span> = <span class="string">dubbo-provider-demo</span></span><br><span class="line"><span class="meta">dubbo.application.name</span> = <span class="string">dubbo-provider-demo</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">## ProtocolConfig Bean</span></span><br><span class="line"><span class="meta">dubbo.protocol.id</span> = <span class="string">dubbo</span></span><br><span class="line"><span class="meta">dubbo.protocol.name</span> = <span class="string">dubbo</span></span><br><span class="line"><span class="meta">dubbo.protocol.port</span> = <span class="string">12345</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">## RegistryConfig Bean</span></span><br><span class="line"><span class="meta">dubbo.registry.id</span> = <span class="string">my-registry</span></span><br><span class="line"><span class="meta">dubbo.registry.address</span> = <span class="string">N/A</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title>mabtis-generatorçš„ä½¿ç”¨</title>
    <url>/2021/04/27/mabtis-generator%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>MyBatisGeneratorçš„é…ç½®å’Œä½¿ç”¨</p>
<br>

<span id="more"></span>

<h2 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mybatis-generatorè‡ªåŠ¨ç”Ÿæˆä»£ç æ’ä»¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ›´æ–°pomæ–‡ä»¶å¯¼å…¥ä¾èµ–ååœ¨ideaä¾§è¾¹æ èƒ½çœ‹åˆ°mybatisGeneratoræ’ä»¶ã€‚</p>
<p><img src="https://images2.imgbox.com/ee/a0/h1JH6RCQ_o.png" alt="image-20210427004620531"></p>
<p>é…ç½®å®Œæˆåå¯ä»¥ç›´æ¥åŒå‡»è¿è¡Œã€‚</p>
<br>

<h2 id="é…ç½®generatorConfig-xml"><a href="#é…ç½®generatorConfig-xml" class="headerlink" title="é…ç½®generatorConfig.xml"></a>é…ç½®generatorConfig.xml</h2><p>åœ¨é¡¹ç›®resourcesç›®å½•ä¸‹æ–°å»ºgeneratorConfig.xmlæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mysql è¿æ¥æ•°æ®åº“jar è¿™é‡Œé€‰æ‹©è‡ªå·±æœ¬åœ°ä½ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span></span></span><br><span class="line"><span class="tag">            <span class="attr">location</span>=<span class="string">&quot;/Users/jingh527/.m2/try-ask-repo/mysql/mysql-connector-java/8.0.22/mysql-connector-java-8.0.22.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;testTables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/test?serverTimezone=UTC&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;admin&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;admin&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ</span></span><br><span class="line"><span class="comment">           NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:ç”ŸæˆPOç±»çš„ä½ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.xxx.yyy.po&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:mapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½®</span></span><br><span class="line"><span class="comment">           å¦‚æœmavenå·¥ç¨‹åªæ˜¯å•ç‹¬çš„ä¸€ä¸ªå·¥ç¨‹ï¼ŒtargetProject=&quot;src/main/java&quot;</span></span><br><span class="line"><span class="comment">           è‹¥æœmavenå·¥ç¨‹æ˜¯åˆ†æ¨¡å—çš„å·¥ç¨‹ï¼ŒtargetProject=&quot;æ‰€å±æ¨¡å—çš„åç§°&quot;ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="comment">           targetProject=&quot;ecps-manager-mapper&quot;ï¼Œä¸‹åŒ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.xxx.yyy.dao&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetPackageï¼šmapperæ¥å£ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;com.xxx.yyy.dao&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šæ•°æ®åº“è¡¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">schema</span>=<span class="string">&quot;&quot;</span> <span class="attr">tableName</span>=<span class="string">&quot;table1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">schema</span>=<span class="string">&quot;&quot;</span> <span class="attr">tableName</span>=<span class="string">&quot;table2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„æ•°æ®è¿æ¥ä¿¡æ¯ï¼Œä»¥åŠé©±åŠ¨jaråŒ…ï¼Œå¯ä»¥å¤åˆ¶mavenæœ¬åœ°ä»“åº“é‡Œçš„jaråŒ…åœ°å€ã€‚</p>
<br>

<h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>åŒå‡»å›¾ä¸€ä¸­çš„mybatis-generator:generateï¼Œè‡ªåŠ¨ä¸‹è½½å®Œæ’ä»¶ä¾èµ–åï¼Œä»£ç å°±ç”Ÿæˆå®Œäº†ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>scp-Linuxæ–‡ä»¶å¤åˆ¶å‘½ä»¤</title>
    <url>/2019/11/03/scp-Linux%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p>scp â€” Linuxæ–‡ä»¶å¤åˆ¶å‘½ä»¤</p>
<blockquote>
<p>ç”¨äºåœ¨Linuxä¸‹è¿›è¡Œè¿œç¨‹æ‹·è´æ–‡ä»¶çš„å‘½ä»¤ï¼Œå’Œå®ƒç±»ä¼¼çš„å‘½ä»¤æœ‰cpï¼Œä¸è¿‡cpåªæ˜¯åœ¨æœ¬æœºè¿›è¡Œæ‹·è´ä¸èƒ½è·¨æœåŠ¡å™¨ï¼Œè€Œä¸”scpä¼ è¾“æ˜¯åŠ å¯†çš„ã€‚å½“ä½ æœåŠ¡å™¨ç¡¬ç›˜å˜ä¸ºåªè¯» read only systemæ—¶ï¼Œç”¨scpå¯ä»¥å¸®ä½ æŠŠæ–‡ä»¶ç§»å‡ºæ¥ã€‚</p>
</blockquote>
<span id="more"></span>

<br>

<h2 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h2><ul>
<li>-P: ç«¯å£å·</li>
<li>-r: é€’å½’å¤åˆ¶   </li>
</ul>
<br>

<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">scp -r -P xxxx /home/local_user/file_path remote_user@remote_host_addr:/home/remote_user/file_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶æ—¶å°† source å’Œ target è°ƒæ¢ä¸€ä¸‹</span></span><br><span class="line">scp -r -P xxxx remote_user@remote_host_addr:/home/remote_user/file_path /home/local_user/file_path</span><br></pre></td></tr></table></figure>

<br>

<h2 id="Permission-denied-é—®é¢˜"><a href="#Permission-denied-é—®é¢˜" class="headerlink" title="Permission denied é—®é¢˜"></a>Permission denied é—®é¢˜</h2><p>ä»Šå¤©ä¸‹åˆä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨çš„æ—¶å€™ä¸€ç›´æŠ¥è¿™ä¸ªé”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scp -P xxxx file.torrent <span class="built_in">test</span>@<span class="built_in">test</span>:/home</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line"><span class="built_in">test</span>@test.com<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">scp: /home/25316538e6498c7645e3da963253977d.torrent: Permission deniedv</span></span><br></pre></td></tr></table></figure>

<p>ä¿è¯å¯†ç è¾“å…¥æ­£ç¡®å¹¶ä¸”é‡è¯•äº†å¥½å‡ æ¬¡éƒ½æŠ¥åŒæ ·çš„é”™ï¼Œæ‰æƒ³èµ·æ¥ä»¥å‰é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºå½“å‰ç”¨æˆ·å¯¹ç›®æ ‡ç›®å½•æ²¡æœ‰æ“ä½œæƒé™å¯¼è‡´çš„ï¼Œåªè¦æŠŠç›®æ ‡è·¯å¾„æ”¹åˆ°å½“å‰ç”¨æˆ·ç›®å½•ä¸‹å°±å¥½äº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scp -P xxxx file.torrent <span class="built_in">test</span>@<span class="built_in">test</span>:/home/<span class="built_in">test</span>/Downloads</span><br></pre></td></tr></table></figure>



<blockquote>
<blockquote>
<p><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/scp.html">18. scp è·¨æœºè¿œç¨‹æ‹·è´</a></p>
</blockquote>
</blockquote>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>thymeleafä¼ å€¼ç»™bootstrapçš„modal</title>
    <url>/2020/10/24/thymeleaf%E4%BC%A0%E5%80%BC%E7%BB%99bootstrap%E7%9A%84modal/</url>
    <content><![CDATA[<p>ç»™æ¨¡æ€æ¡†ä¼ å€¼æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œå°¤å…¶æ˜¯åœ¨æ“ä½œè¡¨æ ¼çš„æ—¶å€™ï¼Œæ·»åŠ ã€ç¼–è¾‘æ•°æ®éƒ½éœ€è¦ç»™æ¨¡æ€æ¡†ä¼ å€¼ã€‚ä¸€èˆ¬å¦‚æœæ˜¯htmlçš„è¯å¾ˆå¥½å¤„ç†ï¼Œåœ¨Thymeleafé‡Œå› ä¸ºå€¼æ˜¯åŠ¨æ€çš„æ‰€ä»¥é‡åˆ°ç‚¹é—®é¢˜ã€‚</p>
<span id="more"></span>

<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>è¿™æ˜¯æ¨¡æ€æ¡†çš„å®šä¹‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¿®æ”¹æ•°æ® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;edit_bill&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ–°å¢æ•°æ®<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/bill/edit&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;billId1&quot;</span>&gt;</span>id<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;billId&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;billId&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span>&gt;</span>æäº¤è¡¨å•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span>&gt;</span>å…³é—­</span><br><span class="line">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯æŒ‰é’®çš„å®šä¹‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:if</span>=<span class="string">&quot;$&#123;not #lists.isEmpty(result.getData().getDataList())&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">th:each</span>=<span class="string">&quot;bill, stat: $&#123;result.getData().getDataList()&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;display: none&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;bill.billId&#125;&quot;</span>&gt;</span>Test001<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;edit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-info&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">data-target</span>=<span class="string">&quot;#edit_bill&quot;</span> <span class="attr">th:attr</span>=<span class="string">&quot;data-bill-id=$&#123;bill.billId&#125;&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æƒ³åœ¨ç‚¹å‡»ä¿®æ”¹æŒ‰é’®çš„æ—¶å€™å°† <code>billId</code> è¿™ä¸ªå€¼ä¼ åˆ°å¼¹å‡ºæ¡†é‡Œã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯Thymeleafä¸­data-*çš„å†™æ³•ï¼š </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸æ˜¯ --&gt;</span></span><br><span class="line">data-bill-id=&quot;$&#123;bill.billId&#125;&quot;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è€Œæ˜¯ --&gt;</span></span><br><span class="line">th:attr=&quot;data-bill-id=$&#123;bill.billId&#125;&quot;</span><br></pre></td></tr></table></figure>

<br>

<h2 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h2><p>ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™æ‰§è¡Œé€šè¿‡äº‹ä»¶å–å€¼ï¼Œä½†æ˜¯æˆ‘æ²¡æˆåŠŸï¼Œç”šè‡³è¿logéƒ½æ²¡è¾“å‡ºï¼Œåº”è¯¥æ˜¯æ²¡æœ‰æ‰§è¡Œï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å’ŒThymeleafæœ‰å…³ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    <span class="title">$</span>(<span class="params"><span class="string">&#x27;#edit_bill&#x27;</span></span>).<span class="title">on</span>(<span class="params"><span class="string">&#x27;show.bs.modal&#x27;</span>, <span class="keyword">function</span> (event) &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">var</span> billId = $(event.relatedTarget.data(<span class="string">&#x27;bill-id&#x27;</span>);</span></span></span><br><span class="line"><span class="params"><span class="function">        $(event.currentTarget).find(<span class="string">&#x27;input[name=&quot;billId&quot;]&#x27;</span>).val(billId);</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span>)</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<br>

<h2 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h2><p>è¿™ç§å†™æ³•èƒ½æˆåŠŸå–åˆ°å€¼ï¼Œå¯¹jsä¸æ˜¯å¾ˆäº†è§£ï¼Œçœ‹ä¸å‡ºä¸¤è€…æœ‰ä»€ä¹ˆå·®åˆ«ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">$(document).on(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;#edit&quot;</span>, function() &#123;</span><br><span class="line">    <span class="keyword">var</span> billId = $(<span class="keyword">this</span>).data(<span class="string">&quot;bill-id&quot;</span>);</span><br><span class="line">    $(<span class="string">&quot;#billId&quot;</span>).val(billId);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Thymeleaf</category>
      </categories>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title>ajaxè¿”å›errorå¯èƒ½åŸå› åˆ†æ</title>
    <url>/2019/05/12/ajax%E8%BF%94%E5%9B%9Eerror%E5%8F%AF%E8%83%BD%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>ajaxæ€»æ˜¯è¿›å…¥errorçš„å¯èƒ½åŸå› </p>
<p>åå°è¿”å›ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">Successfully completed request</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯ajaxæ€»æ˜¯æ‰§è¡Œerroréƒ¨åˆ†çš„ä»£ç ã€‚</p>
<p>åŸå› ï¼š</p>
<p>åå°åªè¿”å›äº† â€œsuccessâ€ å­—ç¬¦ä¸²ï¼Œä¸æ˜¯è§„èŒƒçš„jsonæ ¼å¼ï¼Œæ‰€ä»¥æ²¡æœ‰æ‰§è¡Œé¢„æœŸé€»è¾‘ã€‚</p>
<p>æœ€å¥½åœ¨åå°è¿”å› <strong>ä¸¥æ ¼è§„èŒƒ</strong> çš„jsoné˜²æ­¢æ­¤ç±»é”™è¯¯ã€‚</p>
]]></content>
      <categories>
        <category>ajax</category>
      </categories>
      <tags>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šå®‡å®™ã‚ˆã‚Šã‚‚é ã„å ´æ‰€ã€‹å°è¯-ç¬¬ä¸€è¯</title>
    <url>/2020/01/05/%E3%80%8A%E5%AE%87%E5%AE%99%E3%82%88%E3%82%8A%E3%82%82%E9%81%A0%E3%81%84%E5%A0%B4%E6%89%80%E3%80%8B%E5%8F%B0%E8%AF%8D-%E7%AC%AC%E4%B8%80%E8%AF%9D/</url>
    <content><![CDATA[<p>ç¬¬ä¸€è©±ï¼šé’æ˜¥ã—ã‚ƒãã¾ã‚“ãˆã‚“</p>
<p>æ±ºã¾ã‚Šï¼šæ·€ã‚“ã æ°´ãŒæºœã¾ã£ã¦ã„ã‚‹ã€ãã‚ŒãŒä¸€æ°—ã«æµã‚Œã¦è¡Œãã®ãŒå¥½ãã ã£ãŸã€æ±ºå£Šã—ã€è§£æ”¾ã•ã‚Œã€èµ°ã‚Šå‡ºã™ã€ã‚†ã©ã¿ã®ä¸­ã§æ‹“å¾—ãŸåŠ›ãŒçˆ†ç™ºã—ã¦ã€å…¨ã¦ãŒã€å‹•ãå‡ºã™ï¼</p>
<span id="more"></span>

<p>æ±ºã¾ã‚Šã®æ¯ï¼šç‰æœ¨ãƒãƒªã•ã‚“ã€ã‚‚ã†æ˜¼ã§ã™ã‚ˆã†ã€‚<br>æ±ºã¾ã‚Šï¼šãªã‚“ã‹ã€ãªã‚“ã‹æ€–ã„å¤¢è¦‹ãŸã€‚<br>æ±ºã®æ¯ï¼šãªã«ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãŠæ¯ã•ã‚“ãŒæ¿¡ã‚ŒãŸã‚¿ã‚ªãƒ«ç§ã®é¡”ã«ã‹ã‘ã¦æ®ºãã†ã™ã‚‹å¤¢ã€‚<br>æ±ºã¾ã‚Šã®æ¯ï¼šãã‚Œã¯æ€–ã£ã‹ãŸã§ã™ã­ã€‚æ˜¨æ—¥è¨€ã£ãŸã‚ˆã†ã­ã€éƒ¨å±‹ç‰‡ä»˜ã‘ã‚‹ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šå¾…ã£ã¦ã‚ˆï¼ç—›ã„ã€ã€ã€é«˜æ ¡ã«å…¥ã£ãŸã‚‰ã—ãŸã„ã“ã¨ã€æ—¥è¨˜ã‚’ã¤ã‘ã‚‹ã€ä¸€åº¦ã ã‘å­¦æ ¡ã‚’ã‚µãƒœã‚‹ã€ã‚ã¦ã®ãªã„æ—…ã«å‡ºã‚‹ã€‚<br>æ±ºã¾ã‚Šã®æ¯ï¼šãªã‚“ã ãã‚Šã‚ƒã€‚ãªã«ï¼Ÿ</p>
<br>

<p>æµï¼šã†ã‚“ã€ã§ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã ã‹ã‚‰ã€é«˜äºŒã«ãªã£ãŸã®ã«ã€ã¾ã ãªã«ã‚‚ã—ã¦ãªã„ã£ã¦ã“ã¨æ°—ã¥ã„ãŸã‚ã‘ã€‚<br>æµï¼šä¸­å­¦ã®æ™‚ã‚‚æ±ºã¾ã‚Šãªã«ã‚‚ã—ãªã‹ã£ãŸã˜ã‚ƒã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã ã‹ã‚‰ã ã‚ˆã€é«˜æ ¡æ™‚ä»£ã¯ãªã«ã‹ã—ãªãã‚ƒã£ã¦æ€ã£ãŸã®ã€ãªã‚“ã¨ãªãã¯è‰¯ããªã„ã£ã¦ã€‚æ™‚é–“ã¯é™ã‚‰ã‚Œã¦ã„ã‚‹ãªã®ã«ã€ã‚ã®æ™‚ã®æ±ºå¿ƒã©ã“è¡Œã£ã¦è©±ã ã‚ˆã€‚<br>æµï¼šãã‚Œã§ä½•ã™ã‚‹ã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¨ã‚Šã‚ãˆãšã€å®Ÿè¡Œã—ã‚ˆã†ã¨æ€ã£ã¦ã€‚<br>æµï¼šæ±äº¬ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã¾ãšã¯æ±äº¬ãªã‚“ã¦è¡Œã£ã¦ã€ãã‚Œã§å½“ã¦ã®ãªã„æ—…ã«å‡ºã‚‹ã€æ€ã„ã®ã¾ã¾æ¼‚ã†ã€‚<br>æµï¼šã„ã¤ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç—›ã£ï¼ï¼</p>
<br>

<p>æµï¼šæ˜æ—¥ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ãŒã€å­¦æ ¡ã‚’ã‚µãƒœã£ã¦ã€‚<br>æµï¼šã¾ã‚ã€ã„ã„ã‚“ã˜ã‚ƒãªã„ã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãˆãˆã€œï¼ä¼‘ã‚€ã ã‚ˆã€ã‚ºãƒ«ä¼‘ã¿ã ã‚ˆã€‚<br>æµï¼šã ã‹ã‚‰ã„ã„ã‚“ã˜ã‚ƒãªã®ã€ãã®ãã‚‰ã„ã€‚<br>æ±ºã¾ã‚Šï¼šãã®ãã‚‰ã„ã£ã¦ã€‚<br>æµï¼šã¾ã•ã‹æ±ºã¾ã‚Šã—ãŸã“ã¨ãªã„ã®ã‚ºãƒ«ä¼‘ã¿ã€‚<br>æ±ºã¾ã‚Šï¼šæµã¡ã‚ƒã‚“ã‚ã‚‹ã®ï¼Ÿ<br>æµï¼šã‚ã‚‹ã§ã—ã‚‡ã†ã€‚ã ã§ã ã£ã¦ã€ä¸€åº¦ãã‚‰ã„ã€‚<br>æ±ºã¾ã‚Šï¼šå°Šã€œæ•¬ã€œ<br>æµï¼šãã†ã„ã†ç›®ã§è¦‹ã‚‹ãªï¼<br>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã•ã˜ã‚ƒã•ã€å½“ã¦ã®ãªã„æ—…ã¯ï¼Ÿ<br>æµï¼šãã‚Œã¯ãªã„ã‹ãªã€‚<br>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã•ã˜ã‚ƒã•ã˜ã‚ƒã•ã€ã€<br>æµï¼šä¸€ç·’ã«ã¯è¡Œã‹ãªã„ã€‚<br>æ±ºã¾ã‚Šï¼šãªã‚“ã§åˆ†ã‹ã‚‹ã®ï¼Ÿ<br>æµï¼šåˆ†ã‹ã‚‹ã‚ˆã€æ±ºã¾ã‚Šã®è€ƒãˆãã†ãªã“ã¨ãã‚‰ã„ã€ãã†è¨€ã†ã®ã¯ä¸€äººã§è¡Œãã‹ã‚‰æ„å‘³ãŒã‚ã‚‹ã˜ã‚ƒãªã„ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãã†ã‹ã€‚<br>æµï¼šè¡Œã‘ã°ã„ã„ã˜ã‚ƒã‚“ã€å”åŠ›ã¯ã—ã¦ã‚ã’ã‚‹ã‹ã‚‰ã•ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ï¼</p>
<br>

<p>æ±ºã¾ã‚Šï¼šãŸã ã„ã¾ã€œã€ã†ã‚“ã€ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã€œæ˜æ—¥é§…ã®ãƒˆã‚¤ãƒ¬ã©ã“ã§ç€æ›¿ãˆã‚‹ã ã‚ã€ã§ã€ã†ã‚ã€œæµ·ã æµ·ã ï¼ãƒ¤ãƒã€ç¾¤é¦¬ã ã£ã¦ãƒãƒ¬ã‚‹ã€‚ï¼ˆç¬‘ã€œï¼‰<br>ãƒªãƒ³ï¼šã©ã†ã—ãŸã®ãŠå§‰ã¡ã‚ƒã‚“ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¯ãã€ãªã‚“ã§ã‚‚ãªã„ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šã®æ¯ï¼šã‚‚ã†è¡Œãã®ï¼Ÿã©ã†ã—ãŸã®ãã®ã‚«ãƒãƒ³ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€å‹é”ã‹ã‚‰ä½“æ“ç€å€Ÿã‚Šã¦ã¦ã€‚<br>æ±ºã¾ã‚Šã®æ¯ï¼šã¾ãŸï¼Ÿ<br>æ±ºã¾ã‚Šï¼šè¡Œã£ã¦ãã¾ãƒ¼ã™ã€‚<br>æµï¼šé›»è©±æ›ã‘ã¦æ¥ã‚‹ãªã€‚<br>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€‚<br>æµï¼šå¿ƒé…ã—ãªãã¦ã‚‚ã€å­¦æ ¡ã«ã¯é€£çµ¡å…¥ã‚Œã¦ç½®ã„ã¦ã‚ã’ãŸã‚ˆã€çœŸå’Œè‰²ä½¿ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šã»ã‚“ã¨ï¼Ÿ<br>æµï¼šæ³Šã‚Šã«ãªã‚‹æ™‚ã¯ã¡ã‚ƒã‚“ã¨é£Ÿã£ã¡ã‚…ã†ã‚‰åˆã‚ã›ã¦ã‚ã’ã‚‹ã‹ã‚‰ã€å¿ƒé…ã—ãªã„ã§è¡Œã£ã¦æ¥ã„ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ï¼ç§ã¯æ—…ã«å‡ºã‚‹ã€ãƒˆã‚¤ãƒ¬ã§ç€æ›¿ãˆã€å­¦æ ¡ã¨åå¯¾æ–¹å‘ã®é›»è»Šã«ä¹—ã‚Šã€ã„ã¤ã‚‚ã®å­¦æ ¡ã‹ã‚‰ç§ä¸€äººã ã‘ãŒé£›ã³å‡ºã—ã¦ã€å½“ã¦ã®ãªã„æ—…ã«å‡ºã‚‹ã€‚ã¾ã è¦‹ãŸã“ã¨ã‚‚ãªã„å ´æ‰€ã¸ã€‚</p>
<br>

<p>æµï¼šãªã‚“ã§ã“ã“ã„ã‚‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã‚„ã‚ã€é›¨ã ã—ã€ã¦ã‚†ã†ã‹ã€ã‚„ã£ã±ã‚Šã‚ºãƒ«ä¼‘ã¿ã¯è¡Œã‘ãªã„ã‹ãªã¨è¨€ã†ã‹ã€‚<br>æµï¼šè¡ŒããŸã„ã¨ã“ã‚ãªã‹ã£ãŸã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã‚ã£ãŸã‚ˆã€ãŸãã•ã‚“ã‚ã£ãŸã€äº¬éƒ½ã§ã‚‚ã€æ²–ç¸„ã§ã‚‚ã€åŒ—æµ·é“ã§ã‚‚ã€‚<br>æµï¼šã˜ã‚ƒã‚ã€ãªã‚“ã§è¡Œã‹ãªã‹ã£ãŸï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãã‚Œã¯ãã®ã€é£›è¡Œæ©Ÿè½ã¡ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã—ã€æ–°å¹¹ç·šå¤§çˆ†ç™ºã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã—ã€‚<br>æµï¼šéš•çŸ³è½ã¡ã‚‹ã‹ã‚‚ã—ãªã„ã—ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šåˆ†ã‹ã£ã¦ã‚‹ã‚ˆåˆ†ã‹ã£ã¦ã‚‹ã€‚<br>æµï¼šã˜ã‚ƒã€ãªã‚“ã§ã©ï¼Ÿ</p>
<br>

<p>æµï¼šæ€–ããªã£ãŸï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã»ã‚‰ã€ç§ã„ã¤ã‚‚ãã†ã˜ã‚ƒã‚“ã€éƒ¨æ´»å…¥ã‚‹æ™‚ã‚‚ã€ãªã‚‰ã„ã“ã¨ã™ã‚‹æ™‚ã‚‚ã€å—é¨“ã§ã„ã„å­¦æ ¡ã‚’ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã‚ˆã†ã£ã¦æ™‚ã‚‚ã€å…¨éƒ¨ç›´å‰ã¾ã§ãã‚‹ã¨æ€–ããªã£ã¦ã€ã‚„ã£ãŸãªã„ã“ã¨åˆã‚ã¦ã€ã†ã¾ãè¡Œã‹ãªã‹ã£ãŸã‚‰ã€ã©ã†ã—ã‚ˆã†ã£ã¦ã€å¤±æ•—ã—ãŸã‚‰ã€ã‚„ã ãªã‚ã£ã¦ã€å¾Œæ‚”ã™ã‚‹ã ãªã‚ã£ã¦ã€ã‚®ãƒªã‚®ãƒªã«ãªã‚‹ã¨ã€ã„ã¤ã‚‚ã€‚<br>æµï¼šã¾ã‚ã€ãã‚Œã¯æ‚ªã„ã“ã¨ã˜ã‚ƒãªã„ã¨æ€ã†ã ã‘ã©ãªã€‚<br>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€ç§ã¯å«Œã„ã€ç§ã®ãã†ã‚†ã¨ã“ã‚ã€å¤§å«Œã„ã€‚<br>æµï¼šã˜ã‚ƒã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚<br>æµï¼šä»Šåº¦ã€ã©ã“ã‹ã¸éŠã³ã«è¡Œãï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ï¼<br>æ±ºã¾ã‚Šï¼šã¡ã‚‡ã£ã¨ã€ã“ã‚Œï¼</p>
<br>

<p>æ±ºã¾ã‚Šï¼šãˆã£ï¼<br>æµï¼šã¾ã˜ã‹ã€ã„ãã‚‰ã‚ã‚‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šæ•°ãˆãŸã‚‰ã€ãƒ”ãƒƒã‚¿ãƒªç™¾ã¾ã‚“ã€<br>æµï¼šç™¾ã¾ã‚“ï¼Ÿï¼ã©ã†ã—ã¦æŒã£ã¦ããŸã€è­¦å¯Ÿã ã‚ã†ï¼<br>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€æ°—ãŒå°é›»ã—ã¦ã¦ã€‚<br>æµï¼šã‚‚ã®ã¯è‰¯ã„ã‚ˆã†ã ãªã€‚<br>æ±ºã¾ã‚Šï¼šé•ã†ã‚ˆã€ã»ã‚“ã¨ã»ã‚“ã¨ã«å°é›»ã—ã¦ãŸã®ã€ã¦è¨€ã†ã‹ã€è½ã¨ã—ãŸã®ã†ã¡ã®å­¦æ ¡ã®ã ã£ãŸã‚ˆã†ãªã€‚<br>æµï¼šä½•å¹´ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãã“ã¾ã§ã¯åˆ†ã‹ã‚‰ãªã„ã€å¾Œã‚å§¿ã¡ã‚‰è¦‹ãŸã ã‘ã ã—ã€‚<br>æµï¼šã‚“ã€‚<br>æµï¼šã„ã‚‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã„ãªã„ã€ã€ã‹ãªã€‚é«ªã¯ã‚ãã“ã®å­ãã‚‰ã„ã§ã€å¤šåˆ†ç¾äººã€‚<br>æµï¼šå¾Œã¯ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šè‰¯ã„åŒ‚ã„ã—ãŸã€ãƒªãƒ¼ã‚¹ï¼Ÿ<br>æµï¼šãã‚Œã¯ãªã€œã¾ã‚ã€ã„ã„ã‚„ã€ã‚ã®é•·ã•ã®ã‹ã¿ã ã¨ãã‚“ãªã«ã„ãªã„ã¨æ€ã†ã‹ã‚‰ã€ç§ä¸€å¹´ã®æ•™å®¤è¦‹ã¦æ¥ã‚‹ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šã‚ã€œã€è½ã¡ç€ã‹ãªã„ã€ã‚ã€ã“ã®åŒ‚ã„ã€‚<br>æ±ºã¾ã‚Šï¼šã‚„ã€œã€‚<br>å ±ã›ï¼šã—ã‚ƒãã¾ã‚“ã€ã—ã‚ƒãã¾ã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã‚“ã€‚<br>å ±ã›ï¼šç™¾ã¾ã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã‚ã€‚<br>å ±ã›ï¼šãªã«ï¼Ÿãªã«ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã‚ã¯ã€ã„ãˆã€ã‚ã®ã†ã€‚<br>å ±ã›ï¼šãã‚Œã€‚<br>æ±ºã¾ã‚Šï¼šã„ãˆã€å®Ÿã¯æ˜¨æ—¥ã€ã€é•ã†ã®ã€ç›—ã‚“ã ã“ã¨ã˜ã‚ƒãªã„ã‚ˆã€ãŸã¾ãŸã¾ã€ã€<br>å ±ã›ï¼šã‚ã‚ŠãŒã¨ã†ã€ã‚ã‚ŠãŒã¨ã†ã€ã‚ã‚ŠãŒã¨ã†ã€œ</p>
<br>

<p>æ±ºã¾ã‚Šï¼šå—æ¥µï¼Ÿ<br>å ±ã›ï¼šãã‚Œã‚’æ›¸ã„ãŸã®ã¯ç§ã®ãŠæ¯ã•ã‚“ã€å—æ¥µè¦³æ¸¬éšŠå“¡ã ã£ãŸã®ã€ä¸­å­¦ã®æ™‚ã€è¡Œæ–¹ä¸æ˜ã«ãªã¡ã‚ƒã£ãŸã‘ã©ã­ã€‚<br>æ±ºã¾ã‚Šï¼šãã†ãªã‚“ã ã€‚<br>å ±ã›ï¼šçµå±€è¦‹ã¤ã‹ã‚‰ãªãã¦ã€éºç«ã‚‚ã»ã¨ã‚“ã©ãªã„ã¾ã¾ã§ã€ã ã‹ã‚‰ã€ç§ãŒè¡Œã£ã¦è¦‹ã¤ã‘ã‚‹ã®ã€‚<br>æ±ºã¾ã‚Šï¼šå—æ¥µã«ï¼Ÿè¡Œã‘ã‚‹ã®ï¼Ÿ<br>å ±ã›ï¼šã¿ã‚“ãªãã†è¨€ã†ã€‚ãŠã°ã‚ã¡ã‚ƒã‚“ã‚‚ã€å‹é”ã‚‚ã€å…ˆç”Ÿã‚‚ã€å…ˆè¼©ã‚‚ã€è¿‘æ‰€ã®äººã‚‚ã€‚å­ä¾›ãŒè¡Œã‘ã‚‹ã¨æ€ã£ã¦ã‚‹ã®ã‹ã£ã¦ã€ã„ãã‚‰ã‹ã‹ã‚‹ã¨æ€ã£ã¦ã‚‹ã®ã‹ã ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šãã‚Œã§ã€ç™¾ä¸‡ã€‚<br>å ±ã›ï¼šã†ã‚“ã€ãšã£ã¨ãƒã‚¤ãƒˆã—ã¦ã­ã€ç§ã¯è¡Œãã€çµ¶å¯¾ã«è¡Œã£ã¦ã€ç„¡ç†ã ã£ã¦ã„ãŸå…¨å“¡ã«ã‚¶ãƒãƒŸãƒ­ã£ã¦è¨€ã£ã¦ã‚„ã‚‹ã€‚å—é¨“çµ‚ã‚ã£ã¦é«˜æ ¡ã«å…¥ã£ãŸã¨ãã«ãã†æ±ºã¾ã£ãŸã®ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šå—æ¥µã ã‚ˆã€å—æ¥µã€ã™ã”ã„ã¨æ€ã‚ãªã„ï¼Ÿåœ°çƒã®ä¸€ç•ªãƒãƒƒã‚·ã‚³ã ã‚ˆã€‚<br>æ—¥å‘ï¼š566å††ã«ãªã‚Šã¾ã™ã€œ<br>æµï¼šå°æ¸•æ²¢å ±ã›ã‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€æµã¡ã‚ƒã‚“çŸ¥ã£ã¦ãŸï¼Ÿ<br>æµï¼šäºŒçµ„ã®ã€Œå—æ¥µã€ã£ã¦å‘¼ã°ã‚Œã¦ã‚‹ã‚ã®å­ã§ã—ã‚‡ã†ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šå—æ¥µï¼Ÿ<br>æµï¼šçµæ§‹æœ‰åã ãã€é«˜æ ¡å…¥ã£ã¦ãŸã‹ã‚‰ãšã£ã¨å—æ¥µã„ãå—æ¥µã„ãã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šç¢ºã‹ã«è¨€ã£ã¦ãŸã€‚<br>æµï¼šè¡Œã‘ã‚‹ã‚ã‘ã«ã¯ãªã„ã®ã«ã­ã€‚<br>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€ç™¾ä¸‡ã‚ã‚‹ã ã‚ˆã€ãã‚Œã§ã‚ã®å­çµ¶å¯¾ã«è¡Œãã£ã¦ã€‚<br>æµï¼šè¡Œã‘ãªã„ã‚ˆã€å—æ¥µã ã‚ˆã€‚ãã‚Œã“ãã€è¦³æ¸¬éšŠå“¡ã«ã§ã‚‚ãªã‚‰ãªãã‚ƒç„¡ç†ã€‚<br>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã€ãªã‚“ã§ï¼Ÿ<br>æµï¼šãã†ã­ã€ã ã‹ã‚‰å¤‰äººã£ã¦è¨€ã‚ã‚Œã¦ã‚‹ã‚“ã§ã—ã‚‡ã†ã€å‹é”ã‚‚ä½œã‚‰ãšã€æ”¾èª²å¾Œãšã£ã¨ãƒã‚¤ãƒˆã—ã¦ã€ãŠé‡‘è²¯ã‚ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šã‚“ã€ã€</p>
<br>

<p>æµï¼šã©ã†ã‹è¡Œã£ã¦ãï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã‚ã€ã†ã‚“ã€ä»Šæ—¥ã¯ã¡ã‚‡ã£ã¨ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã‚ã£ãŸï¼</p>
<br>

<p>æ±ºã¾ã‚Šï¼šï¼ˆç¬‘ï¼‰<br>å ±ã›ï¼šç§ã®è‡ªè»¢è»Šãªã‚“ã ã‘ã©ã€‚<br>Aï¼šãŠã€ãã†ãªã®ï¼Ÿ<br>Aã€Bï¼šå—æ¥µå·ï¼Ÿ<br>Aï¼šè¦‹å¼µã‚Šä»£ã€‚<br>Bï¼šç›—ã¾ã‚‰ãªã„ã‚ˆã†ã«è¦‹ã¦ã‚ã’ãŸã‚“ã ã‚ˆã€‚<br>Aï¼šã‚µãƒ„ãƒ‰ãƒ–æŒã£ã¦ã‚‹ã‚‰ã—ã„ã˜ã‚ƒã‚“ã€‚<br>Bï¼šãã“ã—è²¸ã—ã¦ãã‚Œãªã„ï¼Ÿã¡ã‚‡ã£ã¨ã ã‘ã€‚<br>æ±ºã¾ã‚Šï¼šã‚ã€ã‚ã®ã†ã€œã“ã€å°æ¸•æ²¢ã•ã‚“ã€å…ˆç”Ÿå‘¼ã‚“ã§ã‚‹ã€ãŠé‡‘ã®ã“ã¨ã‚’èããŸã„ã‹ã‚‰ã£ã¦ã€‚<br>å ±ã›ï¼šã»ã‚“ã¨ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã†ã‚“ã€ã€ã€<br>Aï¼šæ°—ã¥ãã®æ—©ã„ã¤ã€</p>
<br>

<p>å ±ã›ï¼šã˜ã‚ƒã€å˜˜ãªã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚<br>å ±ã›ï¼šã³ã£ãã‚Šã•ã›ãªã„ã§ã‚ˆã€ã»ã‚“ã¨ã«å…ˆç”Ÿã«ãƒãƒ¬ãŸã‹ã£ãŸã¨æ€ã£ãŸã§ã—ã‚‡ã†ã€‚<br>æ±ºã¾ã‚Šï¼šçœ¼é­‚ã ãã—ã¦ã‚ã’ã‚‹ã˜ã‚ƒã‚“ã€‚<br>å ±ã›ï¼šåˆ†ã‹ã‚‹ã‚ã‘ãªã„ã§ã—ã‚‡ã†ã€ã§ã‚‚ã€ãªã‚“ã§ï¼ŸãŸã¾ãŸã¾é€šã‚Šã‹ã‹ã£ãŸã§ã—ã‚‡ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã¡ã‚‡ã£ã¨è¦‹ã‹ã‘ã¦ã€è©±ã—ãŸã„ã“ã¨ã‚‚ã‚ã£ãŸã—ã€‚<br>å ±ã›ï¼šè©±ã—ãŸã„ã“ã¨ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç§ã€ã‚ãªãŸã®ã“ã¨ã‚’å¿œæ´ã—ã¦ã‚‹ï¼<br>å ±ã›ï¼šãˆï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç§ã­ã€é«˜æ ¡ã«å…¥ã£ãŸã‚‰ã€ãªã«ã‹ã—ã‚ˆã†ã£ã¦æ€ã£ã¦ãŸã€ä»Šã¾ã§ã—ãŸã“ã¨ãªã„ã“ã¨ã¨ã‹ã€ãªã‚“ã‹ã™ã”ã„ã“ã¨ã¨ã‹ã€ã§ã‚‚ã€ãªã«ã‚‚ã§ããªãã¦ã€ã„ã–ã¨ãªã‚‹ã¨ã€æ€–ããªã£ã¦ã€è¾ã‚ã¡ã‚ƒã£ã¦ã€‚ã ã‹ã‚‰ã€ã‚ã‚“ãªã«ã¿ã‚“ãªã«è¨€ã‚ã‚Œã¦ã€é¦¬é¹¿ã«ã•ã‚Œã¦ã‚‚ã€è¡Œãã£ã¦æœ¬æ°—ã§é ‘å¼µã‚Œã‚‹ã£ã¦ã™ã”ã„ã¨æ€ã†ã€‚ã†ã‚“ï¼ï¼<br>å ±ã›ï¼šè¨€ã„ãŸã„äººã«ã¯ã€è¨€ã‚ã›ã¦ãŠã‘ã°ã„ã„ã€ä»Šã«è¦‹ã¦ã‚ã†ã£ã¦ç†±ããªã‚Œã‚‹ã‹ã‚‰ã€ãã£ã¡ã®æ–¹ãŒã€ãšã£ã¨ã„ã„ã€‚<br>æ±ºã¾ã‚Šï¼šãªã«ã‹æ‰‹ä¼ãˆã‚‹ã“ã¨ãªã„ï¼Ÿã‚ã£ãŸã‚‰ã€è¨€ã£ã¦ï¼<br>å ±ã›ï¼šã˜ã‚ƒã€ä¸€ç·’ã«è¡Œãï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ<br>å ±ã›ï¼šå‰ã«ã‚‚ã€ä½•äººã‹ãã†è¨€ã†ã“ã¨ãã‚ŒãŸäººãŒã„ã£ãŸã€ã§ã‚‚ã¿ã‚“ãªã™ãã„ãªããªã‚‹ã®ã€ã‚„ã£ã±ã‚Šç„¡ç†ã ã¨ã‹ã€å‹é”ã«æ­¢ã‚ã‚‰ã‚ŒãŸã¨ã‹ã€æ€–ããªã£ãŸã¨ã‹ã€ãã‚ŒãŒæ™®é€šã ã¨æ€ã†ã€ã ã£ã¦ã€é«˜æ ¡ç”Ÿã ã—ã€å­¦æ ¡è¡Œã£ã¦ã‚‹ã‚“ã ã—ã€å‹é”ã‚‚ã„ã‚‹ã ã—ã€‚<br>æ±ºã¾ã‚Šï¼šé•ã†ã‚ˆã€ç§ã¯ãã‚“ãªç°¡å˜ãªæ°—æŒã¡ã§è¨€ã„è¨³ã˜ã‚ƒãªãã¦ã€‚<br>å ±ã›ï¼šèˆ¹ã®ä¸‹è¦‹ã€æ¬¡ã®åœŸæ›œã“ã“ã«æ¥ã¦ã€ãã†ã—ãŸã‚‰ã€æœ¬æ°—ã ã£ã¦ä¿¡ã˜ã‚‹ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šç •æ°·è‰¦ç™½ç€¬ã€ä¸€èˆ¬å…¬é–‹ã€ã€åºƒå³¶ã€‚<br>ãƒªãƒ³ï¼šãŠå§‰ã¡ã‚ƒã‚“ã€åœŸæ›œã ã‹ã‚‰ã€ã„ã¤ã¾ã§ã‚‚å¯ã¦ã€ã€ã†ã‚ã€œ<br>æ±ºã¾ã‚Šï¼šç§ã¯æ—…ã«å‡ºã‚‹ã€ä»Šåº¦ã“ãã€æ—…ã«å‡ºã‚‹ã€ã„ã¤ã‚‚ã¨åå¯¾æ–¹å‘ã®é›»è»Šã«ä¹—ã‚Šã€è¦‹ãŸã“ã¨ã¯ãªã„é¢¨æ™¯ã‚’è¦‹ã‚‹ãŸã‚ã«ã€‚æ€–ã„ã‘ã©ã€è¾ã‚ã¡ã‚ƒã„ãŸã„ã‘ã©ã€æ„å‘³ã®ãªã„ã“ã¨ã‹ã‚‚ã—ã‚Œãªã‘ã©ã€ã§ã‚‚ã€ã€</p>
<br>

<p>æ±ºã¾ã‚Šï¼šã†ã‚ã€œã“ã‚“ãªã«å¤§ãã„ã‚“ã ã€‚<br>å ±ã›ï¼šèµ¤é“ã‚’æŠœãã¦ã€åµã‚’æŠœã‘ã€æ°·ã‚’å‰²ã‚Šã€æ—¥æœ¬ã‹ã‚‰14000ã‚­ãƒ­ã€å®‡å®™ã‚ˆã‚Šã‚‚é¥ã‹é ã„ã€èª°ã‚‚å¯„ã›ä»˜ã‘ãªã„ã€ãã®å ´æ‰€ã¸ã€‚<br>æ±ºã¾ã‚Šï¼šã©ã†ã‚„ã£ã¦ã„ãã¤ã‚‚ã‚Šï¼Ÿ<br>å ±ã›ï¼šçŸ¥ã‚ŠãŸã„ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚ï¼ˆãã®å£å…ƒãŒã«ä¼¼åˆã„ã¨ç¬‘ã†ã€ç§ã®é’æ˜¥ãŒã€å‹•ãå‡ºã—ãŸï¼ï¼‰</p>
<br>

<p>è·¯äººï¼šä¸‰å®…ã•ã‚“ã€ã“ã£ã¡ï¼<br>æ—¥å‘ï¼šã¯ã„ï¼</p>
]]></content>
      <categories>
        <category>æ—¥è¯­</category>
      </categories>
      <tags>
        <tag>æ—¥è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueå‰åç«¯åˆ†ç¦»é¡¹ç›®ä¸­çš„è·¨åŸŸé—®é¢˜</title>
    <url>/2020/12/20/Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„è·¨åŸŸé—®é¢˜</p>
<br>

<span id="more"></span>

<h2 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h2><p>è¯·æ±‚è·¨åŸŸæŠ¥é”™ï¼š</p>
<p>Blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requestedâ€¦â€¦</p>
<br>

<h2 id="è§£å†³æ–¹æ¡ˆ1"><a href="#è§£å†³æ–¹æ¡ˆ1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ1"></a>è§£å†³æ–¹æ¡ˆ1</h2><p>åœ¨Vueé¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>vue.config.js</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8091</span>,</span><br><span class="line">        <span class="attr">https</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">//ä»¥ä¸Šçš„ipå’Œç«¯å£æ˜¯æˆ‘ä»¬æœ¬æœºçš„;ä¸‹é¢ä¸ºéœ€è¦è·¨åŸŸçš„</span></span><br><span class="line">        <span class="attr">proxy</span>: &#123; <span class="comment">//é…ç½®è·¨åŸŸ</span></span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8092/&#x27;</span>, <span class="comment">//è¿™é‡Œåå°çš„åœ°å€æ¨¡æ‹Ÿçš„;åº”è¯¥å¡«å†™ä½ ä»¬çœŸå®çš„åå°æ¥å£</span></span><br><span class="line">                <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">changOrigin</span>: <span class="literal">true</span>, <span class="comment">//å…è®¸è·¨åŸŸ</span></span><br><span class="line">                <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">//è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªapiå°±å¯ä»¥</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯•äº†è¿™ç§æ–¹å¼ï¼Œä½†æ˜¯åœ¨è°ƒè¯•ä¿¡æ¯ä¸­çœ‹åˆ°è¾“å‡ºçš„å®é™…è¯·æ±‚åœ°å€æ˜¯<code>http://localhost:8091/api/</code>ï¼Œè¿”å›404é”™è¯¯ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å“ªé‡Œé…ç½®å¾—ä¸å¯¹ã€‚</p>
<br>

<h2 id="è§£å†³æ–¹æ¡ˆ2"><a href="#è§£å†³æ–¹æ¡ˆ2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ2"></a>è§£å†³æ–¹æ¡ˆ2</h2><p>åœ¨é¡¹ç›® config/index.jsæ–‡ä»¶ä¸­çš„proxyTableä¸­æ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼Œç„¶åè¯·æ±‚æ—¶çš„urlæ‹¼æ¥ä¸ºï¼š/api/xxxï¼Œè¿™ç§æ–¹å¼èƒ½æˆåŠŸè¯·æ±‚åˆ°åå°ã€‚</p>
<p>ä¸è¦é…ç½®<code>axios.defaults.baseURL</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8092/&#x27;</span>, <span class="comment">//è¿™é‡Œåå°çš„åœ°å€æ¨¡æ‹Ÿçš„;åº”è¯¥å¡«å†™ä½ ä»¬çœŸå®çš„åå°æ¥å£</span></span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">changOrigin</span>: <span class="literal">true</span>, <span class="comment">//å…è®¸è·¨åŸŸ</span></span><br><span class="line">    <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">//è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªapiå°±å¯ä»¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<p>æ”¹å®Œé…ç½®ä¹‹åè®°å¾—é‡å¯é¡¹ç›®ï¼ï¼</p>
<br>

<h2 id="è§£å†³æ–¹æ¡ˆ3"><a href="#è§£å†³æ–¹æ¡ˆ3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ3"></a>è§£å†³æ–¹æ¡ˆ3</h2><p>å¯ä»¥ä½¿ç”¨Nginxä»£ç†å®ç°è·¨åŸŸï¼Œç…§ç€ç½‘ä¸Šçš„èµ„æ–™é…ç½®äº†serverçš„listené¡¹å’Œproxyé¡¹ï¼Œä½†æ˜¯æ²¡æœ‰é…ç½®æˆåŠŸï¼Œæœ‰æ—¶é—´å†è¯•è¯•ã€‚</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šå®‡å®™ã‚ˆã‚Šã‚‚é ã„å ´æ‰€ã€‹å°è¯-ç¬¬ä¸‰è¯</title>
    <url>/2020/10/17/%E3%80%8A%E5%AE%87%E5%AE%99%E3%82%88%E3%82%8A%E3%82%82%E9%81%A0%E3%81%84%E5%A0%B4%E6%89%80%E3%80%8B%E5%8F%B0%E8%AF%8D-%E7%AC%AC%E4%B8%89%E8%AF%9D/</url>
    <content><![CDATA[<blockquote>
<p>æ— è®ºä½•æ—¶ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ€»æ˜¯ä»å¥½å¥‡å¿ƒå¼€å§‹ã€‚ ä¸æ›¾çœ‹è¿‡çš„é£æ™¯ï¼Œä¸æ›¾å¬è¿‡çš„å£°éŸ³ï¼Œä¸æ›¾é—»è¿‡çš„å‘³é“ï¼Œä¸æ›¾æ‘¸è¿‡çš„è´¨æ„Ÿï¼Œä¸æ›¾å°è¿‡çš„é£Ÿç‰©ï¼Œä»¥åŠä¸æ›¾æ„Ÿå—è¿‡çš„æ¾æ¹ƒã€‚ ä¸ºäº†é‡æ‹¾ä¸çŸ¥ä½•æ—¶å¿˜å´çš„è®°å¿†ç¢ç‰‡å’Œä¸çŸ¥ä½•æ—¶èˆå¼ƒçš„æ„ŸåŠ¨çš„æ—…é€”ã€‚ åœ¨åˆ°è¾¾ç»ˆç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³äº›ä»€ä¹ˆå‘¢ï¼Ÿ 40åº¦çš„å’†å“®ï¼Œ50åº¦çš„ç–¯ç‹‚ï¼Œ60åº¦çš„å‘å–Šï¼Œè·¨è¶Šè’èŠœçš„æµ·æºåˆ°è¾¾åŸç”Ÿåœ°åŸŸã€‚ åœ¨åœ°çƒçš„å¤©è¾¹ï¼Œè¿œç¦»æ–‡æ˜çš„å—æ–¹å°½å¤´ã€‚ è¿™æ˜¯å‘å—æï¼ˆæ¯”å®‡å®™æ›´è¿œçš„åœ°æ–¹ï¼‰è¿›å‘çš„å››ä½å¥³å­©å­çš„æ—…è¡Œç‰©è¯­ã€‚æˆ‘ä»¬é€šè¿‡å¥¹ä»¬å›æƒ³èµ·ç”Ÿäºæ˜æ—¥çš„å…‰è¾‰ï¼</p>
</blockquote>
<br>

<p>çµæœˆï¼šè»½ãæ­»ã­ã¾ã™ã­ã€‚</p>
<span id="more"></span>

<p>æ±ºã¾ã‚Šï¼šé«˜æ ¡ç”Ÿã€å—æ¥µã€ã‚ã‚‹ã‚ã‘ãªã„ã‚ˆãªã€‚</p>
<p>å ±ã›ï¼šã©ã†ãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã‚ŠãŒã¨ã†ã€ã‚ã¤ã£ã€ãªã«ãƒ›ãƒƒãƒˆã€‚</p>
<p>å ±ã›ï¼šã‚„ã€ãŠã°ã‚ã¡ã‚ƒã‚“ãŒã¾ã äº”æœˆã ã‹ã‚‰ã€‚</p>
<p>æ—¥å‘ï¼šäº”æœˆã‚‚ç†±ã„ã‚‚ã®ã¯ç†±ã„ã€ç§å†·ãŸã„ã‚‚ã®ã€å¾Œå¾¡èŒ¶è“å­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç§ã‚‚ãƒ—ãƒƒãƒ†ã‚£ãƒ³çš„ãªãªã«ã‹ã€‚</p>
<p>å ±ã›ï¼šã‚„ã£ã±ã‚Šã€ãªã‚“ã‹ãŠã‹ã—ããªã„ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãŠã‹ã—ã„ï¼Ÿã‚ã‚“ãªç„¡èŒ¶ãªä½œæˆ¦ã‚’ã—ã¤ã‘ã¦ãŠã„ã¦ã©ã®å£ãŒãŠã‹ã—ã„ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãã†ã ã‚ˆã€ã©ã‚Œã ã‘æ¥ãšã‹ã—ã‹ã£ãŸã¨æ€ã£ã¦ã‚‹ã®ï¼Ÿ</p>
<p>å ±ã›ï¼šã—ã‚‡ã†ãŒãªã„ã€ä»–ã«æ–¹æ³•ãŒãªã‹ã£ãŸã‹ã‚‰ã€‚</p>
<p>æ—¥å‘ï¼šãã‚Œã«ã—ã¦ã‚‚ã€ã‚ã®ã€‚</p>
<p>æ—¥å‘ï¼šã‚ã‚ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šä½•ã€…ï¼Ÿ</p>
<p>æ—¥å‘ï¼šå¥³å­é«˜ç”Ÿã€å—æ¥µã¸è¡Œãã€‚</p>
<p>å ±ã›ï¼šã“ã¦ã—äºˆå®šã•ã‚Œã„ã‚‹æ°‘é–“ã®å—æ¥µè¦³æ¸¬éšŠã«å–æã¨å…±ã«å¥³å­é«˜ç”ŸãŒåŒè¡Œã™ã‚‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šåŒè¡Œã™ã‚‹ã®ã¯ã‚¿ãƒ¬ãƒ³ãƒˆã®ç™½çŸ³çµæœˆã•ã‚“ã€å—æ¥µã¸ã®æ—…ã‚„æ˜­å’ŒåŸºåœ°ã®ç”Ÿæ´»ãªã©ã€ãƒãƒƒãƒˆä¸­ç¶™ã§ãƒªãƒãƒ¼ãƒˆã€‚</p>
<p>å ±ã›ï¼šå…ˆæ•ã°ã‚ŒãŸã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã“ã‚“ãªã®ã‚ã‚‹ã‚“ã ã€‚ã“ã®å‰éšŠå“¡ã®äººãªã«ã‚‚è¨€ã£ã¦ãªã‹ã£ãŸã‘ã©ã€‚</p>
<p>æ—¥å‘ï¼šãã‚Œã‚’è¨€ã£ãŸã‚‰ã†ã‚‹ã•ã„ã‹ã‚‰ãªã€ã“ã‚ŒãŒã€‚</p>
<p>å ±ã›ï¼šãƒªãƒãƒ¼ãƒˆã€è¨˜è€…ã€åŒè¡Œè€…ã€ãˆãƒ¼ã¨ã€ã€ç™½çŸ³çµæœˆã€äº‹å‹™æ‰€ã¯ã€ã“ã“ã«é›»è©±ã‹ã‘ã¦ã€‚</p>
<p>æ—¥å‘ï¼šã‚ã€ã‹ã‘ã¦ã©ã†ã™ã‚“ã ã‚ˆã€‚</p>
<p>å ±ã›ï¼šç§ã‚‚åŒè¡Œã§ããªã„ã‹æ›¸ãã‚„ã¦ã€å—æ¥µè¦³æ¸¬éšŠå“¡ã®å¨˜ã§ä»Šå¥³å­é«˜ç”Ÿã€å—æ¥µã‚‚è©³ã—ã„ã€‚</p>
<p>æ—¥å‘ï¼šè‡ªåˆ†ã§ã‹ã‘ã‚ã‚ˆã€‚</p>
<p>å ±ã›ï¼šã‚„ã€ç§ã¯ãã†è¨€ã†ã®ã¯ã¡ã‚‡ã£ã¨å‘ã„ã¦ãªã„ã£ã¦è¨€ã†ã‹ã€äººè’¸ã—ã„ã€‚</p>
<p>æ—¥å‘ï¼šç§ã“ã„ã¤ã®æ€§æ ¼ã ã‚“ã ã‚“ã‚ã‹ã‚‹æ°—ãŒã™ã‚‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç§ã‚‚ã€‚</p>
<p>æ—¥å‘ï¼šã³ãƒ¼</p>
<p>å ±ã›ï¼šãˆãƒ¼ã€ç„¡ç†ç„¡ç†ã€ã€</p>
<p>æ—¥å‘ï¼šè©±ã›ã€å—æ¥µã«è¡ŒããŸã„ã‚“ã ã‚ã†ã€‚</p>
<p>å ±ã›ï¼šãšã‚‹ã„ã§ã™ã€ã€</p>
<p>Aï¼šã¯ã„ã€ã‚‚ã—ã‚‚ã—ã€‚</p>
<p>å ±ã›ï¼šãªã«ã™ã‚“ã ã‚ˆã€‚</p>
<p>çµæœˆï¼šã‚ã®ã†ã€å°æ·µæ²¢ç™½ç€¬ã•ã‚“ã§ã™ã‚ˆã­ã€‚</p>
<p>ç™½ç€¬ï¼šã¯ã„ã€</p>
<p>çµæœˆï¼šã¯ã˜ã‚ã¾ã—ã¦ã€ç§ç™½çŸ³çµæœˆã¨è¨€ã„ã¾ã™ã€‚</p>
<p>ç™½ç€¬ï¼šç™½çŸ³ï¼Ÿ</p>
<p>æ—¥å‘ï¼šçµæœˆï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã‚Œã€ãã®åå‰ã€</p>
<p>æ±ºã¾ã‚Šï¼šã‚¦ã‚£ã‚­ã«ã‚ã‚‹ã€äº”æ­³ã‹ã‚‰ã€CMãªã©ã§å‡ºæ¼”ã€ãƒ•ã‚©ãƒ­ãƒ¼ã¯ï¼“ï¼8ä¸‡äººã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå»å¹´ã€ã€Œãƒ•ã‚©ãƒ­ãƒ¼ãƒãƒƒã‚¯ã¯æ­¢ã¾ã‚‰ãªã„ã€æ­Œæ‰‹ãƒ‡ãƒ“ãƒ¥ã€‚</p>
<p>çµæœˆï¼šè»½ãæ­»ã­ã¾ã™ã­ã€æ¥ãšã‹ã—ã™ãã¦ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå ±ã›ã¡ã‚ƒã‚“ã€‚</p>
<p>æ—¥å‘ï¼šå†™çœŸå†™çœŸï¼</p>
<p>çµæœˆï¼šç„¡æ–­ã«SNSã«ã‚¢ãƒƒãƒ—ã™ã‚‹ã®ã¯è‚–åƒæ¨©ã®ã«ä¾µå®³ã«ãªã‚Šã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå¾Œã§è‰²ç´™ã«ã‚µã‚¤ãƒ³ã¨æ‰‹å½¢ã«ã„ã„ã§ã™ã‹ï¼Ÿ</p>
<p>æ—¥å‘ï¼šåŠ›å£«ã‹ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã§ã‚‚ã€ã©ã†ã—ã¦ã“ã‚“ãªã¨ã“ã‚ã«ï¼Ÿ</p>
<p>çµæœˆï¼šã¯ã„ã€ãŠè©±ãŒã‚ã‚Šã¾ã—ã¦ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã«ï¼Ÿ</p>
<p>çµæœˆï¼šç§ã«ä»£ã‚ã‚Šã«å—æ¥µã«è¡Œãã¾ã›ã‚“ã‹ï¼Ÿ</p>
<p>æ—¥å‘ï¼šã¯ã„ï¼Ÿ</p>
<p>çµæœˆï¼šå—æ¥µã€è¡ŒããŸã„ã‚“ã§ã™ã‚ˆã­ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã©ã“ã«æ¼ã‚‰ã—ãŸã®ï¼Ÿæ²ç¤ºæ¿ï¼Ÿå‘Ÿï¼ŸTimeline?</p>
<p>æ±ºã¾ã‚Šï¼šç§ãªã«ã‚‚ã—ã¦ãªã„ã‚ˆã€‚</p>
<p>çµæœˆï¼šã‚ã€ã„ãˆã„ãˆã€å®Ÿã¯ã“ã®å‰ã€æ–°å®¿ã§è¦ªç¦ä¼šã®æ™‚ã€ç§ã‚‚å‘¼ã°ã‚ŒãŸã‚“ã§ã™ã€‚ãã“ã§çš†ã•ã‚“ã®ã“ã¨èã„ã¦ã€‚</p>
<p>ç™½ç€¬ï¼šãªã‚“ã ã€‚</p>
<p>æ—¥å‘ï¼šã§ã‚‚ã€å¤‰ã‚ã‚‹ã£ã¦ã€‚</p>
<p>çµæœˆï¼šç«¯çš„ã«è¨€ã†ã¨ã€è¡ŒããŸããªã„ã‚“ã§ã™ã€‚åŒ—æµ·é“å‡ºèº«ãªã®ã§ã€å¯’ã„ã¯é£½ãé£½ãã¾ã™ã—ã€‚å¥³å­é«˜ç”Ÿãªã‚‰ã€ç§ã˜ã‚ƒãªãã¦ã‚‚ã€ä¼ç”»ã®ä¸»æ—¨ãŒå¤‰ã‚ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã®ã§ã€‚</p>
<p>ç™½ç€¬ï¼šã„ã€ã„ã„ã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šç™½ç€¬ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå ±ã›ã¡ã‚ƒã‚“ã€‚ããŸï¼</p>
<p>ç™½ç€¬ï¼šã‚„ãŸã€ã‚„ãŸã€ã€ã ã‹ã‚‰è¨€ã£ãŸã§ã—ã‚‡ã†ã€ç§ã®ä½œæˆ¦ã§ã‚„ã¦ã‚Œã°ã€å¿…ãšè¡Œã‘ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€‚</p>
<p>ç™½ç€¬ï¼šãªã«ãŒç„¡èŒ¶ã‚ˆã€ãªã«ãŒç„¡ç†ã‚ˆã€è¡Œã‘ãŸã§ã—ã‚‡ã†ã€‚ã‚„ãŸã€å—æ¥µã€ã¤ã„ã«å—æ¥µã€å¾…ã£ã¦å¾…ã£ã¦ã€ãƒšã‚¤ã‚®ãƒ³ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç—›ãã†ã€‚</p>
<p>æ—¥å‘ï¼šã™ã„ã¾ã›ã‚“ã€ã°ã‹ã§ã€‚</p>
<p>çµæœˆï¼šã„ãˆã„ãˆã€‚</p>
<p>çµæœˆï¼šå‡ºå£ã¯ã“ã“ã ã‘ã§ã™ã‹ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šãã†ã ã‘ã©ã€‚</p>
<p>çµæœˆï¼šã‚µãƒ³ãƒ€ãƒ«å€Ÿã‚Šã¾ã™ã€å¤±ç¤¼ã—ã¾ã™ã€‚</p>
<p>Bï¼šã”è‹¦åŠ´æ§˜ã€‚</p>
<p>Bï¼šç§ã€çµæœˆã®ãƒãƒŠãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’å‹™ã‚ã¦ãŠã‚Šã¾ã™ã€ç™½çŸ³æ°‘å­ã¨ç”³ã—ã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç™½çŸ³ï¼Ÿ</p>
<p>Bï¼šæ¯ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<p>æ—¥å‘ï¼šã‚„ã£ã±ã‚Šã€‚</p>
<p>çµæœˆï¼šã ã‹ã‚‰è¡Œã‹ãªã„ã£ã¦ä½•åº¦ã‚‚è¨€ã£ã¦ã‚‹ã§ã—ã‚‡ã€‚</p>
<p>Bï¼šãã†è¨€ã†ã‚ã‘ã«ã¯ã¯è¡Œã‹ãªã„ã®ã€ä»•äº‹ã§ã—ã‚‡ã€‚</p>
<p>çµæœˆï¼šã‚‚ã†ã€ã“ã®äººãŸã¡ã«è­²ã‚Œã¦è¨€ã£ã¡ã‚ƒãŸã—ã€‚</p>
<p>Bï¼šãã‚“ãªã“ã¨ã€å‹æ‰‹ã«ã§ãã‚‹ã¨æ€ã£ã¦ã‚‹ã®ï¼Ÿå¤±ç¤¼ã€‚ãªã‚“ã§ã™ã‹ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã„ãˆã€ãã®ã€‚</p>
<p>æ—¥å‘ï¼šå—æ¥µã®ãƒªãƒãƒ¼ãƒˆã§ã™ã‚ˆã­ã€ã“ã„ã¤ã˜ã‚ƒãƒ€ãƒ¡ã§ã™ã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã‹ãªã‚Šç¾äººã§ã™ã‚ˆã€ã»ã‚‰ã€èŠ¸èƒ½äººã¿ãŸã„ã€‚</p>
<p>Bï¼šå–‹ã‚Œã¾ã™ï¼Ÿ</p>
<p>æ—¥å‘ï¼šã‚‚ã€ã‚‚ã¡ã‚ã‚“ã€‚</p>
<p>ç™½ç€¬ï¼šä»Šã€ã“ã“ã€å—æ¥µã€å¤©æ°—ã¯ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚‚ã—ã‚‚ã—ã€èã“ãˆã¾ã›ã‚“ã‚ˆã€‚</p>
<p>æ—¥å‘ï¼šå¾…ã£ã¦ã€ã—ã‚ƒã¹ã‚Šã¯ç§ã€ç§ãŒã‚„ã‚Šã¾ã™ã‹ã‚‰ã€‚ã¯ã„ã€ã“ã¡ã‚‰å—æ¥µã§ã™ã€æ—¥æœ¬ã®çš†ã•ã‚“è¦‹ãˆã¾ã™ã‹ï¼Ÿ</p>
<p>Bï¼šãƒ«ã‚¯ã‚¹ã¯ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãˆï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã£ãã‚Šè¨€ã£ãŸï¼</p>
<p>æ—¥å‘ï¼šã†ã‚‹ã•ã„ï¼ã‚ˆã—ã€ã“ã®ãŸã‚‰ã€ã“ã‚Œã§ã©ã†ã ï¼Ÿ</p>
<p>Bï¼šå¤±ç¤¼ã—ã¾ã™ã€‚</p>
<p>æ—¥å‘ï¼šã‚ã‚‰ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šãªã«ã‚„ã¦ã‚‹ã®ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€å¥‡è·¡ãŠããŸã¨æ€ã£ãŸã‚“ã ã‚ˆãªã€‚</p>
<p>æ—¥å‘ï¼šã‚‚ã†ã¡ã‚‡ã£ã¨ç™½ç€¬ãŒå–‹ã‚Šã‚Œã¦ã„ãŸã‚‰ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãã‚ŒãŒå«Œãªã‚‰æ—¥å‘ãŒã€</p>
<p>æ—¥å‘ï¼šæŠœãã¦ã„ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ€ã£ã¦ã‚ˆã‚Šæ°—ä»˜ãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ã£ã‚‰ã—ã‚ƒã„ã¾ã™ã€‚</p>
<p>ç™½ç€¬ï¼šããŸï¼</p>
<p>æ—¥å‘ï¼šãªã«ãŒï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šèª¬å¾—ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šãã†ã€ã‚ã®å­ã©ã†ã—ã¦ã‚‚è¡Œã‹ãªã„ã£ã¦è¨€ã£ã¦ã‚‰ã—ãã¦ã€‚</p>
<p>Bï¼šèª¬å¾—ã—ã¦ãŸã‚‰ã€ã‚ãªãŸãŸã¡ã‚‚åŒè¡Œè€…ã¨ã—ã¦ã€é…ä¿¡ä¼šã¯ã«æ¨è–¦ã¨è¨€ã†ã“ã¨ã§ã©ã†ã§ã—ã‚‡ã€‚</p>
<p>ç™½ç€¬ï¼šã¤ã¾ã‚Šã€ã‚ã®å­è¡Œãã¨è¨€ã‚ã›ã‚Œã°ã€‚</p>
<p>æ±ºã¾ã‚Šã€æ—¥å‘ï¼šãªã‚‹ã»ã©ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€çµæœˆã¡ã‚ƒã‚“ã‚‚ã†ã“ã“ã«ã„ãªã„ã˜ã‚ƒãªã„ã®ã€‚</p>
<p>ç™½ç€¬ï¼šãã‚ŒãŒã€æ—¥æ›œã«æ±äº¬ã§ä»•äº‹ãŒã‚ã‚‹ã‹ã‚‰ã€åœŸæ›œã¾ã§ãƒ›ãƒ†ãƒ«ã«æ³Šã¾ã‚‹ã“ã¨ã—ãŸã‚‰ã—ãã¦ã€‚</p>
<p>æ—¥å‘ï¼šé‡‘ã¨åœŸã€äºŒæ—¥ã‹ã€‚</p>
<p>ç™½ç€¬ï¼šã‚‚ãŸã‚‚ãŸæ™‚é–“ãŒãªã„ã€è¡Œãã‚ˆã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚‚ã†åæ™‚ã™ãã¦ã‚‹ã‚ˆã€‚</p>
<p>ç™½ç€¬ï¼šã˜ã‚ƒã€æ˜æ—¥ã®æœã€å­¦æ ¡ã¸è¡Œãå‰ã€ï¼•æ™‚ã€‚</p>
<p>æ—¥å‘ï¼šå¾…ã¦å¾…ã¦ã€å¯èµ·ãå–ã‚‹ã‹ã‚ˆã€‚</p>
<p>ç™½ç€¬ï¼šã˜ã‚ƒã€ï¼–æ™‚ï¼Ÿ7æ™‚ï¼Ÿã„ã¤ã§ã„ã„ã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šè½ã¡ç€ã‘ã€‚</p>
<p>æ—¥å‘ï¼šã‚ã‚Œã ã‘å«ŒãŒã¦ã‚‹ã£ã¦ã“ã¨ã¯ãã‚Œãªã‚Šã«è¡ŒããŸããªã„ç†ç”±ãŒã‚ã‚‹ã£ã¦ã“ã¨ã ã‚ã†ã€‚</p>
<p>ç™½ç€¬ï¼šå¯’ã„ã‹ã‚‰å«Œã ã‹ã‚‰ã˜ã‚ƒãªãã¦ï¼Ÿ</p>
<p>æ—¥å‘ï¼šç«¯çš„ã«ã£ã¦è¨€ã£ã¦ãŸã ã‚ã†ã€ä»–ã«è¨€ã„ãŸããªã„ç†ç”±ãŒã‚ã‚‹ã£ã¦ã“ã¨ã ã‚ˆã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ—¥å‘ã¡ã‚ƒã‚“å¤§äººã€‚</p>
<p>ç™½ç€¬ï¼šç†ç”±ã£ã¦ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãã‚ŒãŒã‚ã‹ã‚‰ãªã„ã‘ã©ã•ã€ã¾ãšãã‚Œã‚’èã„ã¦ã¿ã‚‹ã®ãŒå…ˆãªã‚“ã˜ã‚ƒãªã„ã®ã‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç†ç”±ãŒã€‚</p>
<p>æ—¥å‘ï¼šãªã€ã‚„ã°ã€ã˜ã‚ƒãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã¾ãŸæ˜æ—¥ã€‚</p>
<p>æ—¥å‘ï¼šã©ã†ã—ãŸï¼Ÿ</p>
<p>ç™½ç€¬ï¼šè‡ªå·±å«Œæ‚ªã€‚</p>
<p>æ—¥å‘ï¼šã‚ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šç¢ºã‹ã«ã€æ—¥å‘ã®è¨€ã†é€šã‚Šã ãªã¨æ€ã£ã¦ãŸã®ã€ç§ã•ã€çµå±€è‡ªåˆ†ã®æ°—æŒã¡å„ªå…ˆã•ã›ã¦ã°ã‹ã‚Šã§ã€äººã®ã“ã¨è€ƒãˆã¦ãªã„ã®ã“ã‚‚ã€‚</p>
<p>æ—¥å‘ï¼šã„ã¾ã•ã‚‰ï¼Ÿå†—è«‡ã ã‚ˆã€‚æ€ã„ã®å¼·ã•ã¨ã‚ãŒã¾ã¾ã¯ç´™ä¸€é‡ã§ã£ã¦è¨€ã†ã ã‚ã†ã€‚</p>
<p>ç™½ç€¬ï¼šèª°ã®è¨€è‘‰ï¼Ÿ</p>
<p>æ—¥å‘ï¼šç§ã€‚</p>
<p>æµï¼šä»Šæ—¥ã¯ãƒã‚¤ãƒˆã¯ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãªã„ã‚ˆã€‚</p>
<p>æµï¼šã˜ã‚ƒã€ä½•ã‹é£Ÿã¹è¡Œãã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚</p>
<p>æµï¼šå—æ¥µã‹ï¼Ÿã»ã‚‰ã€å¤§ä¸ˆå¤«ãªã®ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã¾ã‚ã€ã¾ã ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ã”ã‚ã‚“ã­ã€ã¾ãŸä»Šåº¦ã€‚</p>
<p>æ—¥å‘ï¼šã“ã“ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã†ã‚“ã€ä¸‰ä¸¸ã”å®¤ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã©ã†ã™ã‚‹ï¼Ÿãƒ“ãƒ“ãƒ“å°¾è¡Œï¼Ÿ</p>
<p>æ—¥å‘ï¼šä»˜ã‘ã¦ã‚‚æ„å‘³ãªã„ã ã‚ã†ã€å¶ç„¶ã ã€å¶ç„¶ã‚’è£…ã¦ã€‚ã‚ã‚Œã€æ³Šã¾ã£ã¦ãŸã‚“ã ã€ã©ã“ã„ãã®ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šå‹‰å¼·ï¼Ÿ</p>
<p>çµæœˆï¼šã¯ã„ã€å­¦æ ¡ã„ã‘ãªã„åˆ†è¿½ã„ã¤ã‹ãªã„ã¨ã„ã‘ãªã„ã®ã§ã€ã“ã“ã ã¨ã€ã€œã‚ã‚Šã¾ã™ã—ã€å¤œã‚‚å¹³æ°—ã§ã™ã—ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå‰ã„ãªã€‚</p>
<p>çµæœˆï¼šå—æ¥µã®ã“ã¨ã§ã™ã‚ˆã­ã€ã™ã¿ã¾ã›ã‚“ã€ç‰¹ã«é€²å±•ã¯ãªãã¦ã€‚</p>
<p>æ—¥å‘ï¼šã‚“ã€ãã‚Œã¯ãã‚Œãªã‚“ã ã‘ã©ã€‚</p>
<p>ç™½ç€¬ï¼šã¡ã‚‡ã£ã¨ã€ãã®å‰ã«ã€èã„ã¦ãŠããŸã„ã“ã¨ãŒã‚ã£ã¦ã€‚</p>
<p>çµæœˆï¼šãªã‚“ã§ã™ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã©ã†ã—ã¦è¡ŒããŸããªã„ã®ï¼Ÿ</p>
<p>çµæœˆï¼šãã‚“ãªã«å¤‰ã§ã™ã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€å—æ¥µè¡Œã£ãŸã‚‰ã€ãƒšãƒ³ã‚®ãƒ³ã„ã‚‹ã‚ˆã€æ°·å±±ã‚‚ã‚ã‚‹ã—ã€ã‚ªã‚ªãƒ¬ãƒ«ã‚‚è¦‹ã‚Œã‚‹ã‹ã€‚</p>
<p>çµæœˆï¼šã¯ã¯ã«ãªã«ã‹è¨€ã‚ã‚Œã¾ã—ãŸã­ã€è¡Œãã‚ˆèª¬å¾—ã—ã¦ãã‚Œã¦ãªã‚“ã¨ã‹ã€‚</p>
<p>ç™½ç€¬ï¼šã¯ã„ã€‚</p>
<p>æ—¥å‘ï¼šå¼±ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€ã§ã‚‚ã€ã»ã‚“ã¨ã«ãããŸã„ã‚‚ã‚ã£ã¦ã€çµæœˆã¡ã‚ƒã‚“è¡ŒããŸããªã„ç†ç”±ã€‚</p>
<p>çµæœˆï¼šèã„ã¦ã©ã†ã™ã‚‹ã§ã™ã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šå«Œãªã‚‰ã€ã„ã„ã‘ã©ã€‚</p>
<p>çµæœˆï¼šå¤šåˆ†çš†ã•ã‚“ã¯ã‚ã‹ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã‘ã©ã€ç§å‹é”ã„ãªã„ã§ã™ã€ä»Šã˜ã‚ƒãªã„ã§ã™ã‚ˆã€ä»Šã¾ã§ã€ä»Šã¾ã§ä¸€åº¦ã‚‚ã€‚4æ­³ã®é ƒã‹ã‚‰ãšã£ã¨å­å½¹ã®ä»•äº‹ã¨ã—ã¦ã€ã§ã‚‚å¿™ã—ã„ã‹ã‚‰ã€å‹é”ã¨éŠã‚“ã§ã‚‹æš‡ãŒã©ã‚“ã©ã‚“ãªãã¦ã€æ°—ä»˜ã„ãŸã‚‰ã€ãã‚Œã‚’ç¹°ã‚Šè¿”ã—ã¦ã€‚ç§ã­ã€å‹é”ã¨å–§å˜©ã—ãŸã“ã¨ãªã„ã§ã™ã‚ˆã€ã™ã‚‹ã®ã¯ã„ã¤ã‚‚ãŠæ¯ã•ã‚“ã°ã‹ã‚Šã€ã ã‹ã‚‰ã€é«˜æ ¡å…¥ã£ãŸã‚‰ã€é«˜æ ¡ã§çµ¶å¯¾ã«å‹é”ä½œã‚ã†ã¨æ€ã£ã¦ã€éƒ¨æ´»ã—ã¦ã€ãƒã‚¤ãƒˆã—ã¦ã€å‹é”ã¨æ”¾èª²å¾Œè²·ã„é£Ÿã„ã—ã¦ã€ã‚«ãƒ©ã‚ªã‚±ã£ã¦ã€‚ã§ã‚‚ã€ã‚„ã£ã±ã‚Šã€æœ€åˆã£ã¦å¤§åˆ‡ã˜ã‚ƒãªã„ã®ã‹ã€ä»Šé ‘å¼µãŸå…¥ã£ã¦ãªã„ã¨ã€ãã†ã‚†é–¢ä¿‚ã¨ã‹ã€ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã‹ã€å½¢ãŒã§ãã¡ã‚ƒã†ã£ã¦è¨€ã†ã‹ã€‚ãªã‚“ã§ã™ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã ã‹ã‚‰ã€æŠ±ãã—ã‚ãŸããªã£ãŸã€‚</p>
<p>çµæœˆï¼šè‹¦ã—ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã‹ã‚‹ã‚ˆã€ãã†è¨€ã†ã®ã€æ–°å­¦æœŸã¨ã‹ç§ã‚‚ã™ã”ãå«Œã ã‚ˆã€‚</p>
<p>çµæœˆï¼šã‚ã‹ã‚‰ãªã„ã§ã™ã‚ˆã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã‹ã‚‹ã‚ˆã€‚</p>
<p>çµæœˆï¼šåˆ†ã‹ã‚‰ãªã„ã§ã™ã€ã ã‹ã‚‰ã€çš†ã•ã‚“ã€è¦ªå‹åŒå£«ã˜ã‚ƒãªã„ã§ã™ã‹ï¼Ÿ</p>
<p>æ—¥å‘ï¼šè¦ªå‹ï¼Ÿ</p>
<p>çµæœˆï¼šé•ã†ã‚“ã§ã™ã‹ï¼Ÿ</p>
<p>æ—¥å‘ï¼šç§ãŸã¡å‡ºä¼šã£ã¦1ãƒ¶æœˆã‚‚çµŒã£ã¦ãªã„ãã€‚</p>
<p>ç™½ç€¬ï¼šä¸€ç·’ã«éŠã³ã«è¡Œã£ã¦ã“ã¨ã‚‚ãªã„ã—ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŸã åŒã˜ã¨ã“ã‚ã«å‘ã‹ãŠã†ã¨ã—ã¦ã„ã‚‹ã ã‘ã€ä»Šã®ã¨ã“ã¨ã¯ã€ã­ã€‚</p>
<p>ç™½ç€¬ï¼šã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã­ãƒ¼ã€‚</p>
<p>æ—¥å‘ï¼šé…ãã¾ã§æ‚ªã‹ã£ãŸã­ã€‚</p>
<p>ç™½ç€¬ï¼šãŠæ¯ã•ã‚“åˆ†ã‹ã£ã¦ã‚‹ã¨ã„ã„ã‘ã©ã€‚</p>
<p>çµæœˆï¼šã“ã¡ã‚‰ã“ãã€è©±ã›ã¦ãªã‚“ã‹ã€ã¡ã‚‡ã£ã¨ã ã‘è½ã¡ç€ã‘ã¾ã—ãŸã€ã§ã¯ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãƒã‚¤ãƒã‚¤ã€‚</p>
<p>æ—¥å‘ï¼šã§ã€ã“ã‚Œã€çµè«–ã¨ã—ã¦ã¯ã©ã†ã ã£ãŸã‚“ã ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šçµè«–ã£ã¦ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãŠå‰å¿˜ã‚Œã®ã‹ï¼Ÿã‚‚ã¨ã‚‚ã¨ã¯çµæœˆã«èª¬å¾—ã—ã«æ¥ãŸã‚“ã ã‚ã†ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãŠã€ãã†ã ãŸã‚“ã ã€‚ã‚ã‚Œã€ã§ã‚‚ã€ã“ã“ã§çµæœˆã¡ã‚ƒã‚“ãŒæ–­ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€å ±ã›ã¡ã‚ƒã‚“ãŒä»£ã‚ã‚Šã«ã€ã‚“ã€œèª¬å¾—ã—ãŸã‚‰ã€ä¸€ç·’ã«ã„ã‘ã¦ã€ã‚ã‚Œã€ã§ã‚‚ã€çµæœˆã¡ã‚ƒã‚“ãŒæ–­ã£ãŸã‚‰ã€å ±ã›ã¡ã‚ƒã‚“ãŒä»£ã‚ã‚Šã«ã€ãªã‚“ã‹ã‚´ãƒãƒ£ã‚´ãƒãƒ£ã—ã¦ã‚‹ã€‚</p>
<p>æ—¥å‘ï¼šã‚ã‹ã‚‹ã‚ˆã€‚</p>
<p>ç™½ç€¬ï¼šã‚ã®å­ãŒæ–­ã£ãŸã‚‰ã€ã©ã†ã›ã„åˆ¥ã®èŠ¸èƒ½äººè¦‹ãŸã„ã®äººãŒä»£ã‚ã‚Šã‚’å‹™ã‚ã‚‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€ãã†ã‹ã€‚</p>
<p>ç™½ç€¬ï¼šç§ãŸã¡ã¯èª¬å¾—ã—ã‹ãªã‹ã£ãŸã€ã§ã‚‚ã€‚</p>
<p>æ—¥å‘ï¼šã¾ã€ã“ã‚Œã§ã‚ˆã‹ã£ãŸã˜ã‚ƒã‚„ãªã„ï¼Ÿ</p>
<p>çµæœˆï¼šåˆã‚ã¦ã ã€ã‚ã‚“ãªã“ã¨ã•ã‚ŒãŸã®ã€‚å‹é”ã£ã¦ã€ã‚ã‚“ãªæ„Ÿã˜ãªã®ã‹ãªã€‚</p>
<p>çµæœˆï¼šæ±ºã¾ã‚Šã•ã‚“ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚„ã£ã±ã‚Šã€å—æ¥µã«è¡Œã“ã†ã€‚</p>
<p>çµæœˆï¼šãªã«ã‚„ã¦ã‚‹ã‚“ã§ã™ï¼Ÿæ€’ã‚‰ã‚Œã¾ã™ã‚ˆã€‚</p>
<p>æ—¥å‘ï¼šã„ã„ã‹ã‚‰ã€è¡Œããã€‚</p>
<p>ç™½ç€¬ï¼šé¢¨å¼·ã„ã‹ã‚‰ã€æ—©ãã€‚</p>
<p>çµæœˆï¼šã‚„ã€ã§ã‚‚ã€ç§ã¯ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ‰‹ã‚’ä¼¸ã°ã—ã¦ã€‚</p>
<p>çµæœˆï¼šå¤‰ãªå¤¢ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŠã¯ã‚ˆã†ã€‚</p>
<p>çµæœˆï¼šçš†ã•ã‚“ã€‚</p>
<p>æ—¥å‘ï¼šã ã‹ã‚‰è¨€ã£ãŸã‚ã†ã€æ—©ã™ãã‚‹ã£ã¦ã€ã¾ã ãƒ‘ã‚¸ãƒ£ãƒ³ãƒ‘ã‚¸ãƒ£ãƒ³ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šè¡Œã£ãŸã®ã¯ç™½ç€¬ã¡ã‚ƒã‚“ã ã‚ˆã€‚</p>
<p>ç™½ç€¬ï¼šã—ã‹ãŸãªã„ã§ã—ã‚‡ã€æ±äº¬ã¾ã§è¡Œãã‚“ã ã‹ã‚‰ã€‚</p>
<p>çµæœˆï¼šæ±äº¬ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã‚“ã€çµæœˆã¡ã‚ƒã‚“æ±äº¬ã§ä»•äº‹ã ã£ã¦è¨€ã£ã¦ãŸã ã‹ã‚‰ã€ã‚‚ã—ã‚ˆã‹ã£ãŸã‚‰ã€ä¸€ç·’ã«è¡Œã“ã†ã‹ãªã£ã¦ã€‚</p>
<p>æ—¥å‘ï¼šã„ããªã‚ŠæŠ¼ã—ã‹ã‘ã¦ã€ã”ã‚ã‚“ãªã€ã“ã„ã¤é€£çµ¡å…ˆèã„ã¦ãŠããªã„ã‹ã‚‰ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç§ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šæ™‚é–“ã‚ã‚‹ï¼Ÿ</p>
<p>çµæœˆï¼šã¯ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã»ã‚“ã¨ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã•ã˜ã‚ƒã•ã€æ±äº¬ã«å—æ¥µã®ã€ã€</p>
<p>æ—¥å‘ï¼šã©ã€ã©ã†ã—ãŸï¼Ÿ</p>
<p>æ—¥å‘ï¼šæ±ºã¾ã‚Šï¼</p>
<p>ç™½ç€¬ï¼šæ±ºã¾ã‚Šï¼</p>
<p>æ±ºã¾ã‚Šï¼šãˆã€ç§ï¼Ÿã ã£ã¦ã€ã ã£ã¦ã€</p>
<p>çµæœˆï¼šã ã‹ã‚‰ã€ä¸‰äººä¸€ç·’ãªã‚‰è¡Œãã£ã¦ã„ã¦ã‚‹ã®ã€ä¸€ç·’ã˜ã‚ƒã‹ã£ãŸã‚‰ã€è¡Œã‹ãªã„ã‹ã‚‰ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã„ã€çµæœˆã¡ã‚ƒã‚“ã€ã„ãã‚ˆã€‚</p>
<p>çµæœˆï¼šã¯ã„ã€‚</p>
<p>ç™½ç€¬ï¼šãƒšã‚¤ã‚®ãƒ³ã€‚</p>
<p>çµæœˆï¼šã‚‚ãµã‚‚ãµã§ã™ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŠã€é•·ã„ã€‚</p>
<p>æ—¥å‘ï¼šã“ã‚Œä¸­å…¥ã‚Œã‚‹ãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæœ¬å½“ï¼ŸãŠã€çµæ§‹ç‹­ã„ã‚“ã ã­ã€‚</p>
<p>ç™½ç€¬ï¼šä»Šã¯ã‚‚ã£ã¨æ–°ã—ã„é›ªä¸Šè»ŠãŒä½¿ã‚ã£ã¦ã‚‹è¦‹ãŸã„ã ã‘ã©ã€‚</p>
<p>æ—¥å‘ï¼šå¾®é€Ÿå‰é€²ã€ã‚ˆã†ãã‚ï¼</p>
<p>çµæœˆï¼šèˆ¹ã˜ã‚ƒãªã„ã¨æ€ã„ã¾ã™ã‘ã©ã€‚</p>
<p>æ—¥å‘ï¼šäºŒæ®µãƒ™ãƒƒãƒ‰ã¯ä¸Šã ã‘ã ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå®¤å†…ã¯äºŒååº¦ä»¥ä¸Šã ã£ã¦ã€ã‚ˆã‹ã£ãŸã€‚</p>
<p>çµæœˆï¼šå¤–ã¯ãƒã‚¤ãƒŠã‚¹ååº¦ã‹ã‚‰ã­ã€é¼»æ°´å‡ºã¾ã™ã­ãã£ã¨ã€‚</p>
<p>çµæœˆï¼šã‚‚ã†å°‘ã—å¯„ã£ã¦ãã ã•ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæœ¬ç‰©ã¯ã‚‚ã£ã¨ç¶ºéº—ã ã‚ã†ã­ã€‚</p>
<p>ç™½ç€¬ï¼šã‚‚ã¡ã‚ã‚“ã€ã™ã”ãç¶ºéº—ã ã£ã¦ã€æ¶™å‡ºã¦ãã‚‹ã£ã¦ã€ãŠæ¯ã•ã‚“è¨€ã£ã¦ãŸã€‚</p>
<p>æ—¥å‘ï¼šã§ã‚‚ã€ã‚ªã‚ªãƒ­ãƒ©ã¯ãªã‹ãªã‹è¦‹ã‚Œãªã„ã˜ã‚ƒãªã„ã®ã‹ï¼Ÿ</p>
<p>çµæœˆï¼šèã„ã¦ã“ã¨ã‚ã‚Šã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã€ã‚‚ã—æœ¬å½“ã«è¦‹ã‚‹ã“ã¨å‡ºæ¥ãŸã‚‰ã€å—æ¥µã§ã‚ªã‚ªãƒ­ãƒ©ã‚’è¦‹ãŸä¸–ç•Œã§å”¯ä¸€ã®é«˜æ ¡ç”Ÿã«ãªã‚Œã‚‹ã‹ã‚‚ã€‚</p>
<p>çµæœˆï¼šãã†ã‹ã€ãã†ãªã£ãŸã‚‰ã€è»½ãæ­»ã­ã¾ã™ã­ã€‚</p>
]]></content>
      <categories>
        <category>æ—¥è¯­</category>
      </categories>
      <tags>
        <tag>æ—¥è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šå®‡å®™ã‚ˆã‚Šã‚‚é ã„å ´æ‰€ã€‹å°è¯-ç¬¬äºŒè¯</title>
    <url>/2020/09/22/%E3%80%8A%E5%AE%87%E5%AE%99%E3%82%88%E3%82%8A%E3%82%82%E9%81%A0%E3%81%84%E5%A0%B4%E6%89%80%E3%80%8B%E5%8F%B0%E8%AF%8D-%E7%AC%AC%E4%BA%8C%E8%AF%9D/</url>
    <content><![CDATA[<p>ç¬¬äºŒè©±ï¼šæ­Œèˆä¼ç”ºã®ãƒ•ãƒªãƒãƒ³ãƒˆãƒ«</p>
<p>æˆ‘ç»ˆäºè¸å‡ºè¿™ä¸€æ­¥äº†ï¼Œå»å¾€æ²¡æœ‰ä½ çš„ä¸–ç•Œã€‚</p>
<span id="more"></span>


<p>å ±ã›ï¼šç™½ç€¬ã¯åä¸€æœˆä¸­æ—¬ã«æ—¥æœ¬ã‚’å‡ºèˆªã€å—æ¥µã«å‘ã‘ã¦æµ·ã‚’å—ä¸‹ã€é€”ä¸­ãƒ•ãƒªãƒ¼ãƒãƒ³ãƒˆãƒ«ã«å¯„æ¸¯ã€‚<br>æ±ºã¾ã‚Šï¼šã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã ã€‚<br>å ±ã›ï¼šã“ã“ã§è£œçµ¦ã¨è¦³æ¸¬éšŠå“¡ã®ä¹—ã‚Šè¾¼ã¿ã‚’è¡Œã£ã¦ã€åäºŒæœˆã®ä¸Šæ—¬ã€å—æ¥µå¤§é™¸ã«å‘ã‘ã¦å‡ºèˆªã™ã‚‹ã®ã€‚<br>æ±ºã¾ã‚Šï¼šæ—¥æœ¬ã‹ã‚‰ä¹—ã£ã¦è¡Œãã‚“ã˜ã‚ƒãªã‚“ã ã€‚<br>å ±ã›ï¼šãã‚Œã¯æ˜”ã®è©±ã€ä»Šã¯ãƒ•ãƒªãƒ¼ãƒãƒ³ãƒˆãƒ«ã‹ã‚‰ä¹—èˆ¹ã€å¸°ã‚‹ã«ã¯ã‚·ãƒ‰ãƒ‹ãƒ¼ã‹ã‚‰é£›è¡Œæ©Ÿã£ã¦è¨€ã†ã®ãŒæ™®é€šã€‚<br>æ±ºã¾ã‚Šï¼šãˆã€œ<br>å ±ã›ï¼šãã“ã§ã€ç§ãŸã¡ã¯ç™½ç€¬ãŒãƒ•ãƒªãƒ¼ãƒãƒ³ãƒˆãƒ«ã«å¯„æ¸¯ã™ã‚‹æ™‚æœŸã«åˆã‚ã›ã¦æ—¥æœ¬ã‚’ç«‹ã¡ã€ãƒ•ãƒªãƒ¼ãƒãƒ³ãƒˆãƒ«ã«å‘ã‹ã†ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã†ã‚“ã€‚<br>å ±ã›ï¼šãã—ã¦ã€ã“ã“ã§ç™½ç€¬ã«ä¹—ã‚Šè¾¼ã¿ã€å—æ¥µã¸ã€‚<br>æ±ºã¾ã‚Šï¼šä¹—ã‚Œã‚‹ã®ï¼Ÿ<br>å ±ã›ï¼šåŸºæœ¬çš„ã«å—æ¥µè¦³æ¸¬ã¯å›½å®¶äº‹æ¥­ã€æˆå“¡ã¯è‡ªè¡›éšŠå“¡ãŒå‹™ã‚ã€è¦³æ¸¬éšŠå“¡ã¯å³ã—ã„å¯©æŸ»ã¨è¨“ç·´ã«åˆæ ¼ã—ãŸäººé–“ã ã‘ã€é«˜æ ¡ç”Ÿã¯çµ¶å¯¾ã«ç„¡ç†ã€‚ãŸã ã€ä»Šå¹´ã¯ç‰¹åˆ¥ã€‚<br>æ±ºã¾ã‚Šï¼šä»Šå¹´ã¯ï¼Ÿæ°‘é–“å—æ¥µè¦³æ¸¬éšŠã€ä¸‰å¹´ã¶ã‚Šã«ç™ºé£æ±ºã¾ã‚‹ã€‚ï¼ˆãã®ç¬‘é¡”ã‚’è¦‹ãŸæ™‚ã«ã€ãªã‚“ã‹å¿ƒãŒãƒ–ã‚«ãƒ–ã‚«ã—ãŸã€ã‚ã€ç”Ÿã—ã‚ƒã¶ã‚‹è¨€ã£ã¦ã€å¤šåˆ†ã“ã‚Œã ã¨æ€ã£ãŸã€‚ç§ã¯ä»Šã€äººç”Ÿã§ä¸€ç•ªé€”æ–¹ã‚‚ãªãã¦ã€ã¨ã‚“ã§ã‚‚ãªã„å¤§ãã„è¨ˆç”»ã‚’ç«‹ã£ã¦ã¦ã„ã‚‹ã€‚ï¼‰<br>æ±ºã¾ã‚Šï¼šã‚ã‚Œã€ã‚‚ã—ã‹ã—ã¦ã€Â ã›ã„ã™ã„ã‹ã‚“ï¼Ÿ<br>å ±ã›ï¼šã†ã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã‚ã¯ã€œ</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€œã“ã‚Œã‚‚åå…«æ­³ä»¥ä¸Šã‹ã€‚<br>æµï¼šãªã«ï¼Ÿãƒã‚¤ãƒˆï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãŠã¯ã‚ˆã†ã€ã†ã‚“ã€æ˜¨æ—¥è©±ã—ãŸã§ã—ã‚‡ã†ã€é£›è¡Œæ©Ÿä»£ã€‚å ±ã›ã¡ã‚ƒã‚“ãŒç”¨æ„ã—ã¨ã‘ã£ã¦ã€‚<br>æµï¼šå—æ¥µã‹ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€è¡Œã£ã¦ã‚‹é–“ã€å­¦æ ¡ã‚’ä¼‘ã‚€ã“ã¨ã«ãªã‚‹ã‹ã‚‰ã€å‡ºå¸­æ•°ã‚’ç¨¼ã„ã§ãŠã‘ã£ã¦ã€‚ã‚ã£ã€ãªã«ã“ã‚Œï¼Ÿè¶…ã„ã„ï¼<br>æµï¼šãªã«ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šé«˜æ ¡ç”Ÿå¥³å­å‹Ÿé›†ã€æ¥å®¢æ¥­ã€ç”·æ€§ã¨ãŠå–‹ã‚Šã—ãŸã‚Šã€ãŠæ•£æ­©ã—ãŸã‚Šã™ã‚‹ä»•äº‹ã§ã™ã£ã¦ã€å†…å®¹ã«ã‚ˆã£ã¦ã¯ã€æœˆ100ä¸‡ä»¥ä¸Šã‚‚å¤¢ã˜ã‚ƒãªã„ã‹ã‚‚ã€ãŠã€œ<br>æµï¼šè¦‹ã‚‹ã‹ã£ãŸã‚‰çµ‚ã‚ã‚Šã ãã€‚<br>æ±ºã¾ã‚Šï¼šå¤§ä¸ˆå¤«ã ã‚ˆã€ãƒã‚¤ãƒˆã™ã‚‹ã£ã¦å­¦æ ¡ã«ã¯å±Šã‘å‡ºã™ã‹ã‚‰ã€‚<br>æµï¼šãªã«ã‚‚åˆ†ã‹ã£ã¦ãªã„ãªã€ãŠé‡‘ã¯ã¨ã‚‚ã‹ãã¨ã—ã¦ã€è¡Œã‘ã‚‹ã®ã‹æœ¬å½“ã«ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ï¼å ±ã›ã¡ã‚ƒã‚“è¨€ã£ã¦ãŸã€ãã®ä»Šå¹´ã§ã‚‹æ°‘é–“ã®å—æ¥µè¦³æ¸¬éšŠã£ã¦ã„ã†ã«çŸ¥ã‚Šåˆã„ãŒã‚ã‚‹ã‹ã‚‰ã£ã¦ã€ã‚ã€‚<br>æµï¼šèª¿ã¹ã¦è¦‹ãŸã‘ã©ã€ãƒ¤ãƒãã†ã ãã€‚<br>æ±ºã¾ã‚Šï¼š4å¹´å‰ã€æ–°åŸºåœ°å®Œæˆã¨æ–°å‹ç •æ°·è‰¦å°±èˆªã«ä¼´ã„ã€æ°‘é–“ã«æ‰•ã„ä¸‹ã’ã‚ŒãŸäºŒä»£ç›®ç™½ç€¬ã¨æ˜­å’ŒåŸºåœ°ã ãŒã€ãã®ç¶­æŒè²»ã¨æ´»å‹•è²»èª¿é”ã«è‹¦æ…®ã—ã€ä¸‰å¹´ã¶ã‚Šã«ç™ºé£ã—ãŸä»Šå›ã®è¦³æ¸¬éšŠã‚‚ã€å‰å›ã‚¹ãƒãƒ³ã‚µãƒ¼ã ã£ãŸä¼æ¥­ã¯æ¬¡ã€…ã¨æ’¤é€€ã‚’è¡¨æ˜ã—ã¦çµ‚ã‚ã‚Šã€ã“ã®ã¾ã¾ã§ã¯ã€éšŠå“¡ã®å®‰å…¨ãŒç¢ºä¿ã•ã‚Œãªã„ã®ã§ã€è¨ˆç”»ã‚’ãã®ã¾ã¾å¯¾ã™ã‚‹æ‰¹åˆ¤ã®å£°ã‚‚ç›¸æ¬¡ã„ã¦ã„ã‚‹ã£ã¦ã€‚<br>å…ˆç”Ÿï¼šç‰æœ¨ã•ã‚“ã€ç‰æœ¨ã•ã‚“ã€ã€<br>æ±ºã¾ã‚Šï¼šã¯ã£ã¯ã„ï¼<br>å…ˆç”Ÿï¼šã¤ã¥ã‘ã‚’èª­ã‚“ã§ã„ãŸã ã‘ã¾ã™ã¾ã„ã‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¯ã£ã¯ã„ã€è³‡é‡‘é¢ã®å•é¡Œã¨åˆã‚ã›ã¦ä»Šå¾Œã‚‚ã€ã¯ã‚ã€œ<br>å…ˆç”Ÿï¼šã¯ã‚ã€ã®å…ˆã‚’èã‹ã›ã¦ã„ãŸã ãã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€ã¾ã ã“ã‚“ãªã«ã‚ã‚‹ã€æ›¸ãå–ã‚Šãªã‚“ã¦å°å­¦æ ¡ä»¥æ¥ã ã‚ˆã€‚<br>æµï¼šæˆæ¥­ä¸­ã«èª­ã‚“ã§ã‚‹ã‹ã‚‰ã ã‚ã†ã€‚<br>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€æˆ‘æ…¢ã§ããªã‹ã£ãŸã ã‚‚ã‚“ã€ãã‚Œã§ï¼Ÿ<br>æµï¼šãã‚Œã§ã‚‚ãªã«ã‚‚ãªã„ã€ä¸€å¿œã€ä»Šã®ã¨ã“ã‚è¨ˆç”»ãŒä¸­æ­¢ã«ãªã£ãŸã¨ã¯æ›¸ã„ã¦ãªã„ã‘ã©ã€‚<br>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã€å¤§ä¸ˆå¤«ã ã­ã€‚<br>æµï¼šãã†ã‹ï¼Ÿä»®ã«ä¸­æ­¢ã«ãªã‚‰ãªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€ãã†ç°¡å˜ã«ä¹—ã‚Œã‚‹ã‹ï¼Ÿã„ãã‚‰æ°‘é–“ã ã‹ã‚‰ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šã»ã‚‰ã€å ±ã›ã¡ã‚ƒã‚“è¦³æ¸¬éšŠå“¡ã®å¨˜ã ã—ã€‚<br>æµï¼šã‚³ãƒ³ã‚µãƒ¼ãƒˆã®é–“å¸­è€…å¸­ã˜ã‚ƒãªã„ã‚“ã ã‹ã‚‰ã€ãã‚“ãªãƒ›ã‚¤ãƒ›ã‚¤ä¹—ã›ã¦ãã‚Œã‚‹ã‚ã‘ãªã„ã¨æ€ã†ã‘ã©ãªã€‚<br>æ±ºã¾ã‚Šï¼šãã†ã‹ã€ã ã‚ˆã­ã€‚<br>æµï¼šã“ã®å¾Œã€ä¼šã†ã‚“ã ã‚ã†ï¼Ÿä¸€åº¦ã¡ã‚ƒã‚“ã¨èã„ã¦è¦‹ãŸæ–¹ãŒè‰¯ã„ãã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€åˆ†ã‹ã£ãŸã€ã¯ã‚ï¼</p>
<p>æ±ºã¾ã‚Šï¼šã”ã‚ã‚“ã€‚<br>å ±ã›ï¼šæ™‚é–“ã¯å³å®ˆï¼å—æ¥µã„ããªã‚‰å°šæ›´ã‚ˆã€æ•°åˆ†ã®é…ã‚ŒãŒç”Ÿæ­»ã«é–¢ã‚ã‚‹ã ã‹ã‚‰ã€‚<br>æ±ºã¾ã‚Šï¼šã ã‹ã‚‰ã€å…ˆç”Ÿã«æ€’ã‚‰ã‚ŒãŸã£ã¦é€ã£ãŸã˜ã‚ƒã‚“ã€‚<br>å ±ã›ï¼šãƒã‚¤ãƒˆã¯ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ<br>å ±ã›ï¼šä»Šæ—¥ã¾ã§ã«æ±ºã‚ã‚‹ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šãã†ã ã‘ã©ã€ã¨ã‚Šã‚ãˆãšã€ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã¾ã§ã®é£›è¡Œæ©Ÿä»£ã§ã‚‡ã†ï¼Ÿå¤ä¼‘ã¿ã«çºã‚ã¦ã‚„ã‚Œã°ãªã‚“ã¨ã‹ã€‚<br>å ±ã›ï¼šã„ã–ã¨ã„ã†æ™‚ã®ãŸã‚ã«ã€ãŠé‡‘ãŒå¤šã„æ–¹ãŒã„ã„ã€ç§èª¿ã¹ã¦ç½®ã„ãŸã‹ã‚‰ã€‚<br>æ±ºã¾ã‚Šï¼šã»ã‚“ã©ï¼Ÿ<br>å ±ã›ï¼šé«˜æ ¡ç”Ÿå¥³å­ã€æ¥å®¢æ¥­ã§ã€ç”·æ€§ã¨ãŠã—ã‚ƒã¹ã‚Šã—ãŸã‚Šã€ãŠæ•£æ­©ã—ãŸã‚Šã™ã‚‹ãƒã‚¤ãƒˆãªã‚“ã ã£ã¦ã€ã‹ãªã‚Šã®æ™‚çµ¦ã§ã—ã‚‡ã†ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ãã†ã ã‘ã©ã€‚<br>å ±ã›ï¼šãã€ãã†ãªã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã‚„ã€ç§ã‚‚æµã¡ã‚ƒã‚“ã«è¥²ã‚ãŸã‚“ã ã‘ã©ã€å ±ã›ã¡ã‚ƒã‚“ã‚‚ã¡ã‚‡ã£ã¨æŠœãã¦ã‚‹ã¨ã“ã‚ã‚‹ã‚ˆã­ã€‚<br>å ±ã›ï¼šæŠœãã¦ãªã„ã€ãŸã çŸ¥ã‚‰ãªã‹ã£ãŸã ã‘ã§ã€‚ãªã«ï¼Ÿãã‚Œã€‚<br>æ±ºã¾ã‚Šï¼šå‹é”ã€å—æ¥µã»ã‚“ã¨ã«è¡Œã‘ã‚‹ã®ã‹ã£ã¦å¿ƒé…ã—ã¦ã¦ã€‚<br>å ±ã›ï¼šç–‘ã†ã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç–‘ã†ã£ã¦ã˜ã‚ƒãªã„ã‘ã©ã€ãŸã ã€ç¢ºè¨¼ãŒãªã„ã£ã¦ã„ã†ã‹ã€‚ã­ã€å¿ƒé…ã«ãªã‚‹ã§ã—ã‚‡ã†ã€ãã‚Œã«ä»®ã«ä¸­æ­¢ã«ãªã‚‰ãªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€ä¹—ã‚Œã‚‹ã®ã‹ã£ã¦ã€‚<br>å ±ã›ï¼šä¹—ã‚Œã‚‹ï¼ã ã£ã¦ã€ç§ã¯å°æ¸•æ²¢è²´å­ã®å¨˜ã ã‹ã‚‰ã€‚<br>æ±ºã¾ã‚Šï¼šæœ¬å½“ã«ï¼Ÿãã‚Œã ã‘ã§ï¼Ÿ<br>å ±ã›ï¼šçµ¶å¯¾å¤§ä¸ˆå¤«ï¼<br>æ±ºã¾ã‚Šï¼šãã†ã‹ãªã€ã§ã‚‚ã€‚<br>å ±ã›ï¼šå«Œã«ãªã£ãŸã‚‰ãªã£ãŸã£ã¦ã€ç´ ç›´ã«è¨€ãˆã°ã„ã„ã˜ã‚ƒãªã„ã€‚<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ<br>å ±ã›ï¼šãã‚Œç§ã®ã›ã„ã«ã—ã‚ˆã†ã¨ã—ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šå«Œã«ãªã£ãŸã‚“ã˜ã‚ƒãªã„ã‚ˆã€ãŸã å¤±æ•—ã—ãŸããªã„ã€ã‚„ã£ã±ã‚Šã‚„ã‚ã¨ã‘ã ã£ã¦æ€ãŸããªã„ã€ã€Œè¡Œã£ã¦è‰¯ã‹ã£ãŸã€ã€ã€Œå ±ã›ã¡ã‚ƒã‚“ã®è¨ˆç”»ã«ä¹—ã£ã¦ã‚ˆã‹ã£ãŸã€ã£ã¦æ€ã„ãŸã„ã€ã†ã‚“ã€ã€<br>å ±ã›ï¼šã¡ã‚ƒã‚“ã¨çŠ¶æ³ã¯å…¨éƒ¨ã‚ã‹ã£ã¦ã‚‹ã€ä½œæˆ¦ã‚‚è€ƒãˆã¦ã‚ã‚‹ã€‚<br>æ±ºã¾ã‚Šï¼šã»ã‚“ã¨ã«ï¼Ÿ<br>å ±ã›ï¼šã†ã‚“ã€ä»Šåº¦ã¡ã‚ƒã‚“ã¨èª¬æ˜ã™ã‚‹ã‹ã‚‰ã€æ±ºã¾ã‚Šã¯æº–å‚™é€²ã‚ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã‚ã‹ã£ãŸï¼ãŠã£</p>
<p>æ±ºã¾ã‚Šï¼šã„ã£ã‚‰ã—ã‚ƒã„ã¾ã›ã€æ¸©ã‚ã¯ã„ã‹ãŒãªã•ã‚Œã¾ã™ã‹ï¼Ÿ<br>åº—å“¡ï¼šã¾ã‚ã€ã„ã‚ã„ã‚ã“ã‚Œã‹ã‚‰è¦šãˆã¦ã‚‚ã‚‰ãˆã°è‰¯ã„ã‹ã‚‰ã€ã¾ãšè£œå……ãŠé¡˜ã„ã€ãã“ä¸‰å®…ã•ã‚“ã„ã‚‹ã‹ã‚‰ã€èã„ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šã¯ã„ï¼<br>æ±ºã¾ã‚Šï¼šã‚ã®ã†ã€ã€<br>æ—¥å‘ï¼šã†ã‚ï¼<br>æ±ºã¾ã‚Šï¼šã‚ã®ã€ä»Šæ—¥ã‹ã‚‰å…¥ã£ãŸã“ã¨ã«ãªã£ãŸç‰æœ¨ã§ã™ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼<br>æ—¥å‘ï¼šç‰æœ¨ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç‰æœ¨ãƒãƒªã§ã™ã€‚<br>æ—¥å‘ï¼šã‚ã€ãã‚Œã§æ±ºã¾ã‚Šã€ã¯ã¯ã€ä¸‰å®…æ—¥å‘ã§ã™ã€ä½•æ­³ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šåå…­æ­³ã€é«˜äºŒã§ã™ã€‚<br>æ—¥å‘ï¼šä¸€ç·’ã ã€ã‚ˆã‚ã—ãï¼<br>æ±ºã¾ã‚Šï¼šã‚ˆã€ã‚ˆã‚ã—ãã€‚<br>æ—¥å‘ï¼šã ã£ãŸã‚‰ã€è¥¿æ ¡ã ã‚ˆã­ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€å¤šè¥¿ã€‚<br>æ—¥å‘ï¼šãªã‚“ã§æ€¥ã«ãƒã‚¤ãƒˆï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¯ã†ã‚“ã€ã¡ã‚‡ã£ã¨å¿…è¦ã£ã¦ã„ã†ã‹ã€è¡ŒããŸã„ã¨ã“ã‚ãŒã‚ã£ã¦ã€‚<br>æ—¥å‘ï¼šã†ã‚“ã‚“ã€œãã‚Œã£ã¦ã•ã€ã‚‚ã—ã‹ã—ã¦ã€å—æ¥µï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ</p>
<p>å ±ã›ï¼šè¡ŒããŸã„ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ãªã‚“ã‹å‰ã‹ã‚‰ç§ãŸã¡ã®è©±èã„ã¦ãŸã¿ãŸã„ã§ã€‚<br>æ—¥å‘ï¼šã‚ã€ãã†ã„ã†é¢¨ã«ã„ã£ãŸã‚‰ã€ç›—ã¿èãã¿ãŸã„ã ã‚ã†ã€é•ã†ã‹ã‚‰ã­ã€äºŒäººã§å¤§å£°ã§è©±ã¦ã ã‹ã‚‰ã€‚<br>å ±ã›ï¼šå¤§å£°ï¼Ÿ<br>æ—¥å‘ï¼šå«Œã«ãªã£ã¦ã£ãŸã‚‰è¨€ãˆã°è‰¯ã„ã˜ã‚ƒãªã„ï¼Ÿå«Œã«ãªã£ãŸã‚“ã˜ã‚ƒãªã„ã‚ˆã€ã€<br>æ±ºã¾ã‚Šï¼šè‰¯ã„ã‚ˆã€ã‚„ã‚Šãªãã¦ï¼<br>æ—¥å‘ï¼šãã‚Œã§ã€æ°—ã«ãªã£ã¦ã¦ã•ã€ãã—ã¦æ±ºã¾ã‚ŠãŒãƒã‚¤ãƒˆã§å…¥ã£ã¦æ¥ãŸã§ã—ã‚‡ã†ã€ã“ã‚Œã¯é‹å‘½ã ã£ã¦æ€ã£ãŸã­ç§ã¯ã€‚<br>å ±ã›ï¼šè¨€ã£ã¦ãŠãã‘ã©ã€éŠã³ã˜ã‚ƒãªã„ã‹ã‚‰ã€‚<br>æ—¥å‘ï¼šåˆ†ã‹ã£ã¦ã‚‹ã€‚<br>å ±ã›ï¼šå‘½ã®å±é™ºã ã£ã¦ã‚ã‚‹ã—ã€æ—…è²»ã ã£ã¦ã¡ã‚ƒã‚“ã¨æ‰•ã£ã¦ã‚‚ã‚‰ã†ã‚‹ã—ã€å‡ºç™ºã¯åäºŒæœˆã ã‹ã‚‰ã€å­¦æ ¡ã‚’ä¼‘ã‚€ã“ã¨ã«ã‚‚ãªã‚‹ã€‚<br>æ—¥å‘ï¼šIâ€™am OK!å¹³æ°—ã ã‚ˆã€ãƒã‚¤ãƒˆã§ãŠé‡‘ãŒã‚ã‚‹ã—ã€é«˜æ ¡ã‚’è¡Œã£ã¦ãªã„ã—ã€‚<br>æ±ºã¾ã‚Šï¼šãˆï¼ãã†ãªã®ï¼Ÿ<br>æ—¥å‘ï¼šãã‚“ãªã«é©šãã“ã¨ãªã„ã ã‚ã†ã€ä¸­ã«ã¯ã„ã‚‹ã‚“ã ã‚ˆã€é«˜æ ¡è¡Œã£ã¦ãªã„åå…­æ­³ã ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šãŠã†ã€‚<br>æ—¥å‘ï¼šã‚ã€ã§ã‚‚ã€é–“é•ãˆã‚‹ãªã‚ˆã€å‹‰å¼·ã¯çµ¶å¯¾è² ã‘ãªã„ã‹ã‚‰ã€é«˜èªã‚‚é€šã‚‹ã—ã€ã“ã®å‰ã®æ¨¡è©¦ã¯åˆæ ¼åˆ¤å®šAã ã—ã€‚<br>æ±ºã¾ã‚Šï¼šãˆï¼ã¾ã é«˜äºŒãªã®ã«ï¼<br>å ±ã›ï¼šã˜ã‚ƒã€å¤§å­¦ã¯è¡Œãã£ã¦ã“ã¨ï¼Ÿ<br>æ—¥å‘ï¼šãã†ã€åˆæ ¼ã—ã¾ãã¦ã€é«˜æ ¡ã§æ€ ã‘ã¦è½ã¡ãŸã‚„ã¤ã‚‰ã«ã‚¶ãƒãƒŸãƒ­ã£ã¦è¨€ã†ã®ãŒä»Šã®ã¨ã“ã®å¤¢ã€‚<br>æ±ºã¾ã‚Šï¼šã‚ã€œ<br>å ±ã›ï¼šã§ã‚‚ã€ã ã£ãŸã‚‰å—æ¥µè¡Œã£ã¦æš‡ãªã‚“ã¦ãªã„ã˜ã‚ƒãªã„ã€‚<br>æ—¥å‘ï¼šãã†ã ã‘ã©ã€ã¾ã å—é¨“ã¾ã§2å¹´è¿‘ãã‚ã‚‹ã—ã€æ¥å¹´ã¯æœ¬æ°—ã§å—é¨“å‹‰å¼·ã ã£ã¦è€ƒãˆã‚‹ã¨ã€ä¸€å€‹ãã‚‰ã„ã«ãªã‹ã—ã¨ããŸã„ãªã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šåˆ†ã‹ã‚‹ã€ã ã‚ˆã­ã€ä»Šå¹´ã—ãªã‹ã£ãŸã‚‰ã€ã‚‚ã†ã§ããªã„ã‚‚ã‚“ã­ã€‚<br>æ—¥å‘ï¼šãã†ï¼ãŠã€è‰¯ã„ã®ã‹ï¼Ÿã“ã®ã¾ã¾ãã¾ã‚“ã¨ãŠã§ã‚“ä½œã‚Šçµ‚ã‚ã£ã¦è‰¯ã„ã®ã‹ï¼Ÿä¿ºã®åå…­æ­³ï¼<br>æ±ºã¾ã‚Šï¼šãã†ãã†ï¼<br>æ—¥å‘ï¼šãŠå‰ã¨ã¯ã†ã¾ã„ãŠé…’é£²ã‚ãã†ã ã€é£²ã‚“ã ã“ã¨ãªã„ã‘ã©ã€‚<br>æ±ºã¾ã‚Šï¼šç§ã‚‚ï¼<br>å ±ã›ï¼šã†ã‚‹ã•ã„ï¼ã“ã®è¨ˆç”»ã‚’ç«‹ã£ã¦ãŸã®ã¯ç§ãªã‚“ã ã‹ã‚‰ã€ç§ã®æŒ‡ç¤ºã«å¾“ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šåˆ¥ã«ä¸‹ãŒã‚ã†ã£ã¦è¨€ã£ã¦ãªã„ã‘ã©ã€‚<br>æ—¥å‘ï¼šãªã«ï¼Ÿã‚ã‚“ã©ãã•ã„ã‚¿ã‚¤ãƒ—ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¡ã‚‡ã£ã¨ã€ã€<br>å ±ã›ï¼šä½œæˆ¦ã®æ¦‚è¦ã€ä»Šåº¦ã®æ—¥æ›œæ—¥ã€æ±ºè¡Œã™ã‚‹ã‹ã‚‰ã€‚ã˜ã‚ƒã€æ—¥æ›œã€‚<br>ä¸‰äººï¼šã†ã‚“ï¼</p>
<p>æ±ºã¾ã‚Šã€æ—¥å‘ï¼šãƒã‚¤ãƒã‚¤ï¼<br>æ±ºã¾ã‚Šï¼šã©ã†æ€ã†ã€ã“ã®ä½œæˆ¦ï¼Ÿ<br>æ—¥å‘ï¼šã•ã‚ã€ãªã‹ãªã‹é›£ã—ãã†ã¨æ€ã†ã‘ã©ã­ã€‚<br>æ±ºã¾ã‚Šï¼šã ã‚ˆã­ã€‚<br>æ—¥å‘ï¼šã§ã‚‚ã€ã‚ã®å­ç§ã‚‰ã‚ˆã‚Šã¯å—æ¥µã®ã“ã¨çŸ¥ã£ã¦ã‚‹ã ã‚ã†ã—ã€ã‚„ã‚‹ã—ã‹ãªã„ã˜ã‚ƒãªã„ï¼Ÿå¼•ãè¿”ã›ã‚‹ã†ã¡ã¯ã€æ—…ã§ã¯ãªã„ï¼å¼•ãè¿”ã›ãªããªã£ãŸæ™‚ã«ã€åˆã‚ã¦ãã‚Œã¯æ—…ã«ãªã‚‹ã®ã ã£ã¦è¨€ã†ã—ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚ã€œãªã«ãã‚Œï¼Ÿåè¨€ã£ã½ã„ã€èª°ã®è¨€è‘‰ï¼Ÿ<br>æ—¥å‘ï¼šç§ã€œ<br>æ±ºã¾ã‚Šï¼šãªã‚“ã ã€ã€<br>æ—¥å‘ï¼šã§ã‚‚ã€ã‚ˆã‹ã£ãŸã‚ˆã€‚<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ<br>æ—¥å‘ï¼šç§ã‚ãªãŸãŸã¡äºŒäººã®ã“ã¨å«Œã„ã˜ã‚ƒãªã‹ã£ãŸã‚“ã ã‚ˆã­ã€ã»ã‚‰ã€ã‚ã®ã‚³ãƒ³ãƒ“ãƒ‹ã€å¤šè¥¿è¿‘ã„ã‹ã‚‰ã€ç”Ÿå¾’ã„ã£ã±ã„ãã‚‹ã˜ã‚ƒã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚<br>æ—¥å‘ï¼šã§ã‚‚ã€äºŒäººã ã‘ã¯ãªã‚“ã‹åˆ¥ã ãªã£ã¦ã€ç©ºæ°—ãŒé•ã†ã£ã¦è¨€ã†ã‹ã€‚<br>æ±ºã¾ã‚Šï¼šãã‚“ãªã“ã¨è¨€ã‚ã‚ŒãŸã®åˆã‚ã¦ã€‚<br>æ—¥å‘ï¼šç§ã•ã‚ã€é›†å›£ã®ä¸­ã§ã‚°ãƒãƒ£ã‚°ãƒãƒ£ã¿ãŸã„ãªã®ã¯è‹¦æ‰‹ã¦ã¦ã•ã€ã ã‹ã‚‰é«˜æ ¡ç„¡ç†ã ãŸã‚“ã ã‘ã©ã€äºŒäººã¯ã„ã„ãªã‚ã£ã¦ã€‚<br>æ±ºã¾ã‚Šï¼šè‰¯ã„ã£ã¦ã€ãªã«ãŒï¼Ÿ<br>æ—¥å‘ï¼šã†ã‚“ã€ãªã‚“ã ã‚ã†ã€å˜˜ã¤ã„ã¦ãªã„æ„Ÿã˜ï¼Ÿã£ã¦è¨€ã‚ã‚ŒãŸã‚‰ã€è‰¯ã„æ°—ã™ã‚‹ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šãã‚Šã‚ƒã€ã€<br>æ—¥å‘ï¼šã“ã†ã—ã¦æ—¥å‘ã¡ã‚ƒã‚“ã¯äººã®å¿ƒã«ã¨ã‚Šã‚‹ã ã‚ˆã€ã˜ã‚ƒã­ã€œ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ã€</p>
<p>æ±ºã¾ã‚Šï¼šæ–°å®¿ã ï¼<br>æ—¥å‘ï¼šã‚®ãƒ£ãƒ©ã‚®ãƒ£ãƒ©ã™ã‚‹ãªï¼ç¾¤é¦¬ã ã£ã¦ãƒãƒ¬ã‚‹ï¼<br>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€ãªã‚“ã‹ã‚­ãƒ©ã‚­ãƒ©ã—ã¦ã¦ã€ã©ã“è¦‹ã¦ã„ã„ã®ã‚ã‹ã‚“ãªã„ï¼<br>æ—¥å‘ï¼šè½ã¡ç€ã‘ï¼<br>å ±ã›ï¼šæ±ºã¾ã‚Šã€ã¾ã£ã¦ã€ãŠã„ã§è¡Œã‹ãªã„ã§ã€‚<br>æ—¥å‘ï¼šãŠã„ã€é–“é•ãˆã¦ã‚‹ï¼<br>æ±ºã¾ã‚Šï¼šã‹ã€æ­Œèˆä¼ç”ºã€‚<br>å ±ã›ï¼šãã€æ¥ãŸã“ã¨ãªã„ã®ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šå¤œæ¥ã‚‹ã®ã¯åˆã‚ã¦ã‹ã‚‚ã€ä¸€å¿œæµã¡ã‚ƒã‚“è‡ªç•™ã‚ã‚‹ã‹æŒã£ã¦è¨€ã£ã¦ãŸã‘ã©ã€‚<br>æ—¥å‘ï¼šè£œå°ã•ã‚ŒãŸã‚Šã—ãªã„ã‹ï¼Ÿç§ã¯è‰¯ã„ã‘ã©ã€äºŒäººã¯å­¦æ ¡ã«ãƒãƒ¬ãŸã‚‰ã¾ãšã„ã ã‚ã†ã€‚<br>æ±ºã¾ã‚Šï¼šæ­©ã„ã¦ã ã‘ã§ã‚‚ï¼Ÿ<br>æ—¥å‘ï¼šå ´æ‰€ãŒå ´æ‰€ã ã‹ã‚‰ãªã€‚<br>å ±ã›ï¼šå¹³æ°—ã€å¤§å­¦ç”Ÿã£ã¦é¡”ã—ã¦ã‚Œã°ã€‚<br>è·¯äººï¼šãªã«ï¼ŸéŠã³ã«æ¥ãŸã®ï¼Ÿã¡ã‚‡ã£ã¨ã¡ã‚‡ã£ã¨ã ã‘ã€ã€<br>æ±ºã¾ã‚Šï¼šã©ã†ã—ã‚ˆã†ï¼Ÿ<br>æ—¥å‘ï¼šé¢ç™½ã„ã‹ã‚‰ã€ã»ã£ã¨ã“ã†ã‹ã€‚<br>æ—¥å‘ï¼šã‚ã£ãŸã€è¦³æ¸¬éšŠå“¡è¦ªç¦ä¼šåˆæ„ä¸€è¡Œã•ã¾ã€‚<br>æ±ºã¾ã‚Šï¼šã»ã‚“ã¨ï¼Ÿ<br>å ±ã›ï¼šã‚ˆã—ï¼å¾Œã¯ä½œæˆ¦é€šã‚Šã«ã€‚<br>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€ã“ã‚Œä¸€äººã‚’èª˜ã„å‡ºã™ã£ã¦ã—ã‹æ›¸ã„ã¦ãªã„ã‘ã©ã€‚<br>æ—¥å‘ï¼šã©ã†ã™ã‚‹ã®ï¼Ÿ<br>å ±ã›ï¼šãã‚Œã¯ã€æ™®é€šç”·å­éšŠå“¡ãŒå¤šã„ã‹ã‚‰ã€å¥³å­é«˜ç”ŸãŒã“ã†ã€ã€<br>æ—¥å‘ï¼šã¾ã•ã‹ã€èª˜æƒ‘ã—ã‚ã£ã¦è¨€ã†ã‚“ã˜ã‚ƒãªã„ã ã‚ã†ãªã€‚<br>æ±ºã¾ã‚Šï¼šã¾ã‚ã€å ±ã›ã¡ã‚ƒã‚“ç¾äººã ã‹ã‚‰ãªã€‚<br>å ±ã›ï¼šç§ï¼Ÿç§ã¯ãªã„ãªã„ã€‚<br>æ—¥å‘ï¼šå¾…ã£ã¦ã€ç§ãŸã¡ã®ã©ã£ã¡ãŒè¡Œã‹ã›ã‚‹ã¤ã‚‚ã‚Šã ã£ãŸã®ã‹ã‚ˆï¼<br>æ±ºã¾ã‚Šï¼šç„¡ç†ã ã‚ˆï¼<br>æ—¥å‘ï¼šæ¥ãŸãã€ãã†ã™ã‚‹ï¼Ÿ<br>å ±ã›ï¼šæ±ºã¾ã‚Šã€ãŠé¡˜ã„ï¼<br>æ±ºã¾ã‚Šï¼šãã‚“ãªï¼<br>æ—¥å‘ï¼šæ±ºã¾ã‚Šï¼<br>æ±ºã¾ã‚Šï¼šãˆï¼Ÿï¼<br>æ—¥å‘ï¼šæ˜­å’Œã‹ï¼Ÿï¼<br>æ±ºã¾ã‚Šï¼šã˜ã‚ƒæ—¥å‘ã¡ã‚ƒã‚“ã‚„ã£ã¦ã‚ˆï¼<br>æ—¥å‘ï¼šã»ã‚‰ã€ãƒ¢ã‚¿ãƒ¢ã‚¿ã—ã¦ã„ã‚‹ã¨è¡Œã£ã¡ã‚ƒã†ï¼è¶³ã ã€ãªã¾ã—ï¼<br>æ±ºã¾ã‚Šï¼šãƒ‘ãƒ³ãƒ„ã ã‚‚ã‚“ã€‚<br>æ—¥å‘ï¼šã˜ã‚ƒã€èƒ¸ã ã€èƒ¸ã‚’æŒ™ä¸Šã›ã‚ˆã€ã„ã„ã€œã‹ï¼<br>æ±ºã¾ã‚Šï¼šã ã„ãŸã„èƒ¸ãªã‚‰ã€ã€<br>å ±ã›ï¼šå«Œã ã€å«Œã ã€ã€<br>æ—¥å‘ï¼šè¡Œã‘ã‚ˆã€å—æ¥µè¡Œã‹ã‚“ã ã‚‰ã€‚<br>æ±ºã¾ã‚Šï¼šãã†ã ã‚ˆã€ãšã‚‹ã„ã‚ˆã€ä½œæˆ¦è€ƒãˆãŸå ±ã›ãªã‚“ã ã‹ã‚‰ã€‚<br>å ±ã›ï¼šã‚„ã€ã§ã€ç§ã¯ã ã‚ãªã®ã€‚<br>æ—¥å‘ï¼šãªã«ãŒãƒ€ãƒ¡ãªã‚“ã ã‚ˆã€‚<br>æ±ºã¾ã‚Šï¼šãã†ã ã‚ˆã€‚<br>å¼“å­ï¼šã†ã‚“ã€ã‚ã£ã€‚<br>ä½³è‹—ï¼šãŠï¼Ÿå ±ã›ã¡ã‚ƒã‚“ï¼Ÿ<br>å¼“å­ï¼šã—ã¤ã“ã„ã­ã€ã‚ã®å­ã‚‚ã€‚<br>ã‚†ãšï¼šèª°ã§ã™ã‹ï¼Ÿ<br>æ—¥å‘ï¼šãŠè¾å„€ã—ã¦ã©ã‚“ã™ã‚‹ã‚“ã ã‚ˆï¼Ÿã“ã“å­¦æ ¡ã‹ï¼Ÿå„ªç­‰ç”Ÿã‹ï¼Ÿï¼<br>å ±ã›ï¼šã ã‹ã‚‰ç§ã¯ãƒ€ãƒ¡ã ã£ã¦è¨€ã£ã¦ã‚‹ã§ã—ã‚‡ã†ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã©ã†ã—ã¦ï¼Ÿ<br>å ±ã›ï¼šé¡”ãŒãƒãƒ¬ã¦ã‚‹ã®ã€ã ã‹ã‚‰ã€è¦‹ã¤ã‹ã£ãŸã‚‰ã™ãã«æ•ã¾ã£ã¦ã€ã€<br>å¼“å­ï¼šã†ã‚ã€ä¸‰äººã‚‚ã„ã‚‹ï¼<br>å ±ã›ï¼šé€ƒã’ã¦ã€<br>æ—¥å‘ã€æ±ºã¾ã‚Šï¼šãˆï¼Ÿ<br>å ±ã›ï¼šé€ƒã’ã¦ï¼<br>æ±ºã¾ã‚Šï¼šæ—¥å‘ã¡ã‚ƒã‚“ã€æ—©ã„ï¼<br>æ—¥å‘ï¼šä¸€å¿œçŸ­è·é›¢ã ã£ãŸã‚‰ãªã€åˆ¥ã‚ŒãŸæ–¹ãŒè‰¯ã„ã˜ã‚ƒãªã„ã®ã‹ï¼Ÿ<br>å ±ã›ï¼šãã†ã­ã€‚<br>æ—¥å‘ï¼šãŠã˜ä¼šã†å ´æ‰€ã¯ï¼Ÿ<br>å ±ã›ï¼šæºå¸¯ã§ï¼<br>æ—¥å‘ï¼šãŠã‚‰ã„ã€œ<br>æ±ºã¾ã‚Šï¼šã¾ã è¿½ã£ã¦æ¥ã‚‹ã€‚<br>å ±ã›ï¼šè¦³æ¸¬éšŠå“¡ã ã‹ã‚‰ã€ä½“åŠ›ã™ã”ã„ã—ã€‚<br>æ±ºã¾ã‚Šï¼šç§ãŸã¡ã‚‚åˆ¥ã‚Œã‚‹ï¼Ÿ ã‚ã€ç—›ã„ã€‚<br>å ±ã›ï¼šã‚ã€ã”ã‚ã‚“ã€‚<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚<br>å ±ã›ï¼šãªã«ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ãŸã ã€æ¥½ã—ã„ãªã‚ã£ã¦ã€‚<br>å ±ã›ï¼šæ¥½ã—ã„ï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã†ã‚“ã€ãªã‚“ã‹ã­ã€å‹•ã„ã¦ã‚‹ï¼<br>å ±ã›ï¼šãˆï¼Ÿ<br>æ±ºã¾ã‚Šï¼šç§ã®é’æ˜¥å‹•ã„ã¦ã‚‹æ°—ãŒã™ã‚‹ï¼ãã†ã€ã“ã†è¨€ã†ã®ã ï¼ãªã«ã‹ãŒèµ·ããã†ã§ã€ãªã«ã‹èµ·ã“ã›ãã†ã§ã€æ¯æ—¥è¦‹ã¦ã„ã‚‹æ™¯è‰²ãŒã€ç›®ã‚‚è‹¦ã—ãå¤‰ã‚ã£ã¦ã„ã£ã¦ã€‚<br>è·¯äººAï¼šã‚„ã£ã±å¤–é£²ã¿æœ€é«˜ã ã­ã€ç¾å‘³ã—ã„ã­ã€‚<br>è·¯äººBï¼šä»Šæ—¥æœã¾ã§é£²ã‚“ã§ã€ã€<br>æ—¥å‘ï¼šãˆï¼Ÿï¼<br>è·¯äººAã€Bï¼šãƒã‚¤ãƒã‚¤ï¼<br>å ±ã›ã€æ—¥å‘ã€æ±ºã¾ã‚Šï¼šã‚ã£ï¼ï¼</p>
<p>ä½³è‹—ï¼šãã‚“ãªã«æ¯åˆ‡ã‚‰ã™ã¾ã§èµ°ã‚‰ãªãã¦ã‚‚ã€åˆ¥ã«å‘½å¥ªãŠã†ã‚ã‘ã˜ã‚ƒãªã„ã®ã«ã€å¥ªã„ãã†ã ã‘ã©ã€‚<br>æ±ºã¾ã‚Šï¼šã ã£ã¦ã€å ±ã›ã¡ã‚ƒã‚“ãŒã€‚<br>æ—¥å‘ï¼šãã†ã ã‚ˆã€æ•ã¾ã£ãŸã‚‰æ’ƒã¡ã“ã³ã“ã‚‚ã‚“ã£ã¦ã€‚<br>å ±ã›ï¼šãã‚“ãªã“ã¨è¨€ã£ã¦ãªã„ã€‚<br>å¼“å­ï¼šã—ã‹ã—ã€ã‚ˆããã®ä½œæˆ¦æ€ã„ã¤ãã‚ˆã­ã€‚<br>ä½³è‹—ï¼šã¤ã¾ã‚Šã€ç”·æ€§éšŠå“¡èª‘ã‹ã—ã¦ã€å”åŠ›ã•ã›ã¦è¦‹ã£ã“ã—ã‚ˆã£ã¦ã“ã©ã§ã—ã‚‡ã†ï¼Ÿæ‚ªã„å¥³ã­ã€èª°ãŒæ€ã„ã¤ã„ãŸã®ï¼Ÿ<br>ä½³è‹—ï¼šã¾ã£ã€ãã†ã‚ˆã­ã€ã‚ã®ã­ã€å ±ã›ã¡ã‚ƒã‚“ã€ä½•åº¦ã‚‚è©±ã—ãŸé€šã‚Šã€ã‚ãªãŸã‚’é€£ã‚Œã¦è¡Œãã“ã¨ã¯ã§ããªã„ã®ã€ãŸã¨ãˆæ°‘é–“ã§ã‚‚ã­ã€éšŠå“¡ãŒå³ã—ã„æ¡ä»¶ãŒã‚ã£ã¦ã€‚<br>å ±ã›ï¼šåˆ†ã‹ã£ã¦ã¾ã™ï¼ç„¡ç†ã‚’è¨€ã£ã¦ã‚‹ã®ã¯åˆ†ã‹ã£ã¦ã¾ã™ï¼ã§ã‚‚ã€ã©ã†ã—ã¦ã‚‚è¡ŒããŸã„ã€ã ã£ã¦ã€ãŠæ¯ã•ã‚“ãŒå¾…ã£ã¦ã‚‹ã€‚<br>æ±ºã¾ã‚Šï¼šå ±ã›ã¡ã‚ƒã‚“ã€‚<br>ä½³è‹—ï¼šãªã«ã€ã“ã‚Œï¼Ÿ<br>å ±ã›ï¼šè¦‹ãŸé€šã‚Šã§ã™ã€è³‡é‡‘å›°ã£ã¦ã‚‹ã§ã™ã‚ˆã­ã€ç§ãŸã¡ã‚’ãã®ãŠé‡‘ã§ã‚¹ãƒœã‚µãƒ¼ã«ã—ã¦ãã ã•ã„ã€é€£ã‚Œã¦è¡Œã£ã¦ãã‚Œã£ãŸã‚‰ã€ãã®ãŠé‡‘ã‚ã’ã¾ã™ã‹ã‚‰ã€‚<br>å¼“å­ï¼šã‚ˆãè€ƒãˆã‚‹ã‚ã­ã€‚<br>ä½³è‹—ï¼šåˆ†ã‹ã£ãŸã€åäºŒæœˆä¸€æ—¥ã€ãƒ•ãƒªãƒ¼ãƒãƒ³ãƒˆã‚Šãã¦ã€‚<br>å ±ã›ï¼šã»ã‚“ã¨ã§ã™ã‹ï¼Ÿï¼<br>ä½³è‹—ï¼šãªã‚“ã£ã¦è¨€ã†ã¨æ€ã†ï¼Ÿãã‚“ãªå¿ƒé…ã—ã¦ã‚‚ã‚‰ã‚ãªãã¦ã‚‚ã€ç§ãŸã¡ã¯è¡Œãã‚ã€å¿…ãšã­ã€‚<br>ä½³è‹—ï¼šè²´å­ã€ã€ã€</p>
<p>å¼“å­ï¼šã¾ã‚ã€æ°—æŒã¡ã¯åˆ†ã‹ã‚‹ã‘ã©ã­ã€‚<br>ä½³è‹—ï¼šã‚ã‚Œã‹ã‚‰3å¹´ã€‚<br>å¼“å­ï¼šã§ã€ã»ã‚“ã¨ã«è³‡é‡‘ã¯å¤§ä¸ˆå¤«ãªã®ï¼Ÿ<br>ä½³è‹—ï¼šã•ã£ãè¨€ã£ã¦ãŸã§ã—ã‚‡ã†ï¼Ÿã¾ã‚ã€å¤§å¤‰ã ã‘ã©ã€ã„ã‚ã„ã‚è€ƒãˆã¦ã‚‹ã‚ã€‚<br>å¼“å­ï¼šç™½çŸ³ã•ã‚“ã€ã€<br>ä½³è‹—ï¼šã‚‚ã†ã€ãã®ä¸€ç’°ï¼</p>
<p>æ±ºã¾ã‚Šï¼šãŠæ¯ã•ã‚“ã€ã‹ã€‚<br>æ—¥å‘ï¼šã¾ã‚ã€è½ã¡è¾¼ã‚€ãªã‚ˆã€ã“ã‚Œã§ãƒ€ãƒ¡ã¨æ±ºã¾ã£ã¦ã‚ã‘ã˜ã‚ƒãªã„ã€‚<br>å ±ã›ï¼šå¾Œä¸€æ¯ã§ã€ã‚‚ã†å°‘ã—ã“ã®ãŠé‡‘ã‚’å—ã‘ãŸã‚Šãã†ã ã£ãŸã€å¾Œå°‘ã—ã§çµ¶å¯¾ã«ã†ã¾ãè¡Œã£ã¦ã€ã€<br>æ—¥å‘ï¼šã“ã„ã¤ã€ãƒãƒƒã˜ã¦ã†ã¡ã‚ƒã‚“ã ã€‚<br>æ±ºã¾ã‚Šï¼šã ã­ã€œ<br>æ—¥å‘ï¼šã¾ã‚ã€ãã†ã˜ã‚ƒãªãã‚ƒã“ã‚“ãªã“ã¨ã§ããªã„ã‹ã€‚<br>æ±ºã¾ã‚Šï¼šã ã­ï¼<br>æ—¥å‘ï¼šãŸã ã—ã€ç·Šæ€¥å‹•è­°ã€å°æ·µæ²¢å ±ã›ã®ãƒªãƒ¼ãƒ€ãƒ¼æ‹…ä»»ã‚’è§£ä»»ã‚’è¦æ±‚ã—ã¾ãƒ¼ã™ã€è³›æˆã®äººï¼Ÿ<br>æ±ºã¾ã‚Šï¼šã¯ã„ï¼<br>æ—¥å‘ï¼šè³›æˆå¤šæ•°ï¼ã‚ˆã£ã¦ãŸä»Šã‚ˆã‚Šãƒªãƒ¼ãƒ€ãƒ¼ã‚’è§£ä»»ã—ã¾ã™ï¼<br>å ±ã›ï¼šãˆï¼Ÿï¼<br>æ—¥å‘ï¼šã¨è¨€ã†ã‚ã‘ã§ã€å—æ¥µã„ããï¼<br>æ—¥å‘ã€æ±ºã¾ã‚Šï¼šãŠã‰ï¼<br>å ±ã›ï¼šãˆï¼Ÿï¼ï¼</p>
]]></content>
      <categories>
        <category>æ—¥è¯­</category>
      </categories>
      <tags>
        <tag>æ—¥è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šå®‡å®™ã‚ˆã‚Šã‚‚é ã„å ´æ‰€ã€‹å°è¯-ç¬¬å››è¯</title>
    <url>/2020/10/24/%E3%80%8A%E5%AE%87%E5%AE%99%E3%82%88%E3%82%8A%E3%82%82%E9%81%A0%E3%81%84%E5%A0%B4%E6%89%80%E3%80%8B%E5%8F%B0%E8%AF%8D-%E7%AC%AC%E5%9B%9B%E8%AF%9D/</url>
    <content><![CDATA[<blockquote>
<p>æ— è®ºä½•æ—¶ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ€»æ˜¯ä»å¥½å¥‡å¿ƒå¼€å§‹ã€‚ ä¸æ›¾çœ‹è¿‡çš„é£æ™¯ï¼Œä¸æ›¾å¬è¿‡çš„å£°éŸ³ï¼Œä¸æ›¾é—»è¿‡çš„å‘³é“ï¼Œä¸æ›¾æ‘¸è¿‡çš„è´¨æ„Ÿï¼Œä¸æ›¾å°è¿‡çš„é£Ÿç‰©ï¼Œä»¥åŠä¸æ›¾æ„Ÿå—è¿‡çš„æ¾æ¹ƒã€‚ ä¸ºäº†é‡æ‹¾ä¸çŸ¥ä½•æ—¶å¿˜å´çš„è®°å¿†ç¢ç‰‡å’Œä¸çŸ¥ä½•æ—¶èˆå¼ƒçš„æ„ŸåŠ¨çš„æ—…é€”ã€‚ åœ¨åˆ°è¾¾ç»ˆç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³äº›ä»€ä¹ˆå‘¢ï¼Ÿ 40åº¦çš„å’†å“®ï¼Œ50åº¦çš„ç–¯ç‹‚ï¼Œ60åº¦çš„å‘å–Šï¼Œè·¨è¶Šè’èŠœçš„æµ·æºåˆ°è¾¾åŸç”Ÿåœ°åŸŸã€‚ åœ¨åœ°çƒçš„å¤©è¾¹ï¼Œè¿œç¦»æ–‡æ˜çš„å—æ–¹å°½å¤´ã€‚ è¿™æ˜¯å‘å—æï¼ˆæ¯”å®‡å®™æ›´è¿œçš„åœ°æ–¹ï¼‰è¿›å‘çš„å››ä½å¥³å­©å­çš„æ—…è¡Œç‰©è¯­ã€‚æˆ‘ä»¬é€šè¿‡å¥¹ä»¬å›æƒ³èµ·ç”Ÿäºæ˜æ—¥çš„å…‰è¾‰ï¼</p>
</blockquote>
<br>

<p>æ±ºã¾ã‚Šï¼šå¤¢ã˜ã‚ƒãªã„ã€å˜˜ã˜ã‚ƒãªã„ã€é–“é•ãˆã§ã‚‚ãªã„ï¼æ¯æ—¥ç¢ºèªã—ã¦ã¯ã¯æ€ã†ã€å­¦æ ¡ã§ã€å®¶ã§ã€ãƒã‚¤ãƒˆå…ˆã§ã€ä½•åº¦ã‚‚ä½•åº¦ã‚‚å£ã«ã™ã‚‹ã€å—æ¥µã«ã„ãã‚“ã ï¼</p>
<span id="more"></span>

<p>ç™½ç€¬ï¼šã‚“ã€‚</p>
<p>Aï¼šæœ¬å½“ã«å—æ¥µã£ã¦è¨€ã£ãŸã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ã„ã®ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã„ã„ã€ã©ã†ã›è¡Œãã¾ã§ãªã«è¨€ã£ã¦ã‚‚ä¿¡ã˜ã¦ãªã„ã‹ã‚‰ã€æœ¬å½“ã«ç€ã„ãŸã‚‰è¨€ã†ã®ã€‚ã‚¶ãƒã‚¢ãƒŸãƒ­ã‚¶ãƒã‚¢ãƒŸãƒ­ã‚¶ãƒã‚¢ãƒŸãƒ­ã£ã¦ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¸ã¸ã€æ€§æ ¼æ‚ªã„ã­ã€‚</p>
<p>ç™½ç€¬ï¼šæ‚ªã„ã‚ˆã€æ‚ªã„ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã„ã„ï¼ã¯ã¯ã€ã€</p>
<br>

<p>å…ˆç”Ÿï¼šæœ¬å½“ãªã‚“ã§ã™ã­ã€‚ã“ã®å¤å­£è¨“ç·´ã¨ã‹è¨€ã†ã®ãŒäºŒæ—¥ã€ãã®å¾Œã€åäºŒæœˆã‹ã‚‰ä¼‘ã‚€ã£ã¦ã“ã¨ã§ã™ã‹ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã¯ã„ã€‚</p>
<p>å…ˆç”Ÿï¼šè¦ªå¾¡ã•ã‚“ã¯ãªã‚“ã£ã¦ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šè¨±å¯ã¯å–ã£ã¦ã‚ã‚Šã¾ã™ã€‚</p>
<p>å…ˆç”Ÿï¼šã‚“ã€ç‰æœ¨ã•ã‚“ã¯ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãˆãˆã¨ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šã©ã†æ€ã†ã€ãƒªãƒ³ï¼Ÿ</p>
<p>ãƒªãƒ³ï¼šæ™®é€šã‹ãªã€å†·è”µåº«é–‰ã‚ã‚‹éŸ³ã‚‚æ™®é€šã ã—ã€åŒ…ä¸ã®ãƒªã‚ºãƒ ã‚‚ã„ã¤ã‚‚ã¨å¤‰ã‚ã‚‰ãªã„ã—ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ˆã—ï¼</p>
<p>ãƒªãƒ³ï¼šå¾…ã£ã¦ï¼ãªã‚“ã‹æ€ªã—ã„ã€æ™®é€šã™ãã‚‹ã€ã“ã£ã¡ã«æ°—ã¥ã‹ã‚Œãªã„ã‚ˆã†ã«æ¼”æŠ€ã—ã¦ã„ã‚‹çš„ãªã€ã€</p>
<p>ãƒãƒï¼šãƒãƒªã¡ã‚ƒã‚“ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã€ãªã«ï¼Ÿ</p>
<p>ãƒãƒï¼šå…¥æµ´å‰¤è²·ã£ã¦æ¥ãŸã‹ã‚‰ã€ãŠé¢¨å‘‚å ´ã«ç½®ã„ã¦ãã‚Œã‚‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ã€‚</p>
<p>ãƒãƒï¼šãã‚“ãªã®å‰¤ã‚ã‚‹ã ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã“ã„ã¤ã€æ—¢ã«çŸ¥ã£ã¦ã‚‹ã€‚ã‚„ã€ã‹ãªã‚‹å¶ç„¶ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚‹ã€ãƒ’ãƒƒãƒˆã«å‹•ã„ã¦ã‚‚å¢“ç©´ã‚’æ˜ã£ãŸã‚‰ã€ã—ã‹ã—ã€æ°—ä»˜ã„ã¦ãŸã‚‰ã€ãŸã¨ã—ãŸã‚‰ã€ã“ã‚Œä»¥ä¸Šéš ã—ã¦ãŠãã®ã¯çŠ¶æ³ã‚’ä¸åˆ©ã«ã™ã‚‹ã ã‘ã€ã‚€ã—ã‚æ­£æ¥µçš„ã«å‹•ã„ã¦ã€ã€</p>
<p>ãƒãƒï¼šãƒãƒªã¡ã‚ƒã‚“ã€ã©ã†ã‹ã—ãŸã®ï¼Ÿãã‚Œã¨ã‚‚ã€ãªã«ã‹ã‚ã‚‹ã®ï¼Ÿå—æ¥µã«ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€ã‚ã®ã­ã€ãŠæ¯ã•ã‚“ã€å®Ÿã¯å†¬ã«æ—…è¡Œã«è¡Œãã“ã¨ã«ãªã‚Šã¾ã—ã¦ã€‚</p>
<p>ãƒãƒï¼šã‚‚ã†æ±ºå®šäº‹é …ãªã‚“ã ã€ãŠæ¯ã•ã‚“ãªã«ã‚‚èã„ã¦ãªã‹ã£ãŸãªã€‚ä»Šæ—¥è¿‘æ‰€ã®äººã«è¨€ã‚ã‚Œã‚‹ã¾ã§ã€æ¥ã‹ã„ã¡ã‚ƒã£ãŸã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ãˆã€è¨€ã†ã¤ã‚‚ã‚Šã ã£ãŸã‚“ã ã‚ˆã€ãŸã ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å•é¡Œã¨ã„ã†ã‹ã€ãƒãƒƒã‚­ãƒªã—ã¦ã‹ã‚‰ã¨è¨€ã†ã‹ã€‚</p>
<p>ãƒãƒï¼šèª°ãŒæ›¸ã„ãŸã®ï¼Ÿå°é‘‘ã‚’ã—ãŸã®ã¯ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šå¾…ã£ã¦å¾…ã£ã¦ã€ã¨ã‚Šã‚ãˆãšã€åŒ…ä¸ã‚’ãŠã“ã†ã€æ­¦å™¨ã¯ã€‚</p>
<p>ãƒãƒï¼šæ­¦å™¨ã˜ã‚ƒãªãã¦ã€ã“ã‚Œã¯æ–™ç†é“å…·ã§ã—ã‚‡ã€‚ã‚‚ã£ã¨ã‚‚ã€ãƒã‚«ã®å¨˜ã‚’èª¿ç†ã™ã‚‹ã«ã‚‚ä½¿ãˆãã†ã ã‘ã©ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã«ãã®é¬¼ã£ã½ã„å°è©ã€‚</p>
<p>ãƒãƒï¼šã ãŸã„ã€ã€</p>
<p>æ±ºã¾ã‚Šï¼šãŠçˆ¶ã•ã‚“ã€ãŠçˆ¶ã•ã‚“ã€ã€</p>
<p>ãƒãƒï¼šã™ã¾ã‚“ã€å¨˜ã‚ˆã€‚</p>
<br>

<p>æµï¼šå…¨é¢çš„ã«æ±ºã¾ã‚Šã®è²¬ä»»ã ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šä¸€è¨€ã§ã‚‚çµ‚ã‚ã‚‰ã›ãªã„ã§ã‚ˆã€ä¸€å€‹ã§ã‚‚èµ¤ç‚¹å–ã£ãŸã‚‰è¡Œã‘ãªã„ã‚“ã ã‚ˆã€ãã†ã˜ã‚ƒãªãã¦ã‚‚ã€å¤–é›†ã§å‹‰å¼·æ™‚é–“ãªã„ã®ã«ã€‚</p>
<p>æµï¼šã˜ã‚ƒã€æ¥é€±æœ¬æ°—ã§ä¼‘ã‚€ã®ã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šåœŸæ—¥å…¥ã‚Œã¦å››æ—¥é–“ã ã‹ã‚‰ã€ç«æ›œã¾ã§ã ã‘ã©ã€‚</p>
<p>æµï¼šã»ã‚“ã¨ã«å¤§ä¸ˆå¤«ãªã®ã‹ï¼Ÿèˆ¹ãŒå‡ºã‚‹ã‹ã¾ã æ€ªã—ã„ã£ã¦æ›¸ã„ã¦ã‚ã£ãŸãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¾ã‚ã€ãã‚ŒãŒä»Šè€ƒãˆã¦ã‚‚ã—ã‚‡ã†ãŒãªã„ã—ã€ã†ã€ãƒã‚¤ãƒˆè¡Œããªãã‚ƒã€‚</p>
<p>æµï¼šå¤§å¤‰ã ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã˜ã‚ƒã€‚</p>
<p>æµï¼šç„¡ç†ã«ã—ã™ããªã„ã‚ˆã†ã«ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ï¼Ÿ</p>
<p>æµï¼šãã‚Œä»¥ä¸Šé ‘å¼µã£ã¦ãƒ€ãƒ¡ã ã£ãŸã‚‰ã€ã™ã”ã„å¾Œæ‚”ã™ã‚‹ã ã‚ã†ã‹ã‚‰ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ã€è¡Œã£ã¦æ¥ã¾ã™ï¼</p>
<br>

<p>æ±ºã¾ã‚Šï¼šã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼</p>
<p>æ—¥å‘ï¼šå«Œã ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã§ï¼Ÿ</p>
<p>æ—¥å‘ï¼šã‚ã®ãªã€é«˜æ ¡ã¸è¡Œã£ã¦ã‚‹ã£ã¦ã“ã¨ã¯æˆæ¥­ã‚’å—ã¦ã‚‹ã£ã¦ã“ã¨ã ã‚ã†ã€ä¸€æ—¥ã®ä¸­ã§ãã‚Œã ã‘å‹‰å¼·ã«é›†ä¸­ã™ã‚‹æ™‚é–“ã‚’ä¸ãˆã‚‰ã‚Œã¦ã¨è¨€ã†ã“ã¨ã ã€‚ãã‚Œã§ã§ããªã„ã£ã¦ã¯æœ¬äººã®åŠªåŠ›ã®å•é¡Œã˜ã‚ƒã‚“ã€‚å¤§ä½“å‹‰å¼·ãªã‚“ã¦ã€æœ¬å½“ã¨é•ã£ã¦ã‚„ã‚Œã°çŸ¢ç”°ã ã‘ã§ãã‚‹ã‚“ã‚ˆã†ã«ãªã‚‹ã‚“ã ã‚ˆã€‚</p>
<p>ç™½ç€¬ï¼šæ­£è«–ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ•µï¼Ÿ</p>
<p>ç™½ç€¬ï¼šæ•µã‚‚ãªã«ã‚‚ãªã„ã€ãŸã æ—¥å‘è¨€ã£ã¦ã‚‹ã“ã¨ã¯æ­£ã—ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ã„ã‚‚ã‚“ã€çµæœˆã¡ã‚ƒã‚“ã«é ¼ã‚€ã‚‚ã€‚</p>
<p>æ—¥å‘ï¼šå¾Œè¼©ã ãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç€ã„ãŸã£ã¦ã‚ˆã€‚</p>
<p>çµæœˆï¼šãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã‹é›°å›²æ°—é•ã†ã€‚</p>
<p>çµæœˆï¼šã“ã®å‰ã¯ä»•äº‹ã ãŸã®ã§ä»•æ–¹ãªãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šä»•æ–¹ãªãï¼Ÿ</p>
<p>çµæœˆï¼šã‚ã‚è¨€ã†å¯æ„›ã„ç³»ã«ä¼¼åˆã‚ãªã„ã˜ã‚ƒãªã§ã™ã‹ï¼Ÿæ€§æ ¼çš„ã«é•ã†ã£ã¦ã„ã‹ã‹ã€‚</p>
<p>ç™½ç€¬ï¼šãã†ï¼Ÿ</p>
<p>æ—¥å‘ï¼šå¯æ„›ã„ã¨æ€ã†ã‘ã©ãªã€‚</p>
<p>çµæœˆï¼šå«Œã„ãªã‚“ã§ã™ã‚ˆã€ã‚ã‚è¨€ã†å¥³å­ã§ã™ã¿ãŸã„ãªã®ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã§ä¸æ©Ÿå«Œãªã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šã¾ã‚ã€ã‚ã®ä»•äº‹ã¯ã‚ã®ä»•äº‹ã§ã„ã‚ã„ã‚è¤‡é›‘ãªã‚“ã ã‚ã†ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã“ã“ï¼Ÿ</p>
<p>æ—¥å‘ï¼šé–“é•ã„ãªã„ã€‚</p>
<p>Bï¼šãŠå¾…ãŸã›ãƒ¼ã€åˆ†ã‹ã‚Šã«ããã¦ã”ã‚ã‚“ã­ã€ã§ã•ã€ä¹—ã£ã¦ã€‚ãŠã€ä»Šç‰‡ä»˜ã‘ã‚‹ã­ã€ã”ã‚ã‚“ã”ã‚ã‚“ã€‚</p>
<p>çµæœˆï¼šãªã‚“ã‹ã€ã¡ã‚‡ã£ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒé•ã„ã¾ã›ã‚“ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚“ã€‚</p>
<p>Bï¼šã‚¤ãƒ¡ãƒ¼ã‚¸ã¨é•ã£ãŸï¼Ÿã¾ã‚ã€ãã†ã‚ˆã­ã€å—æ¥µè¦³æ¸¬éšŠã£ã¦è¨€ã£ãŸã‚‰ã€å¤§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã ã‚‚ã®ã­ã€ä¸€è»Šæ°‘é–“ã¨ã¯ã„ãˆã€ã“ã‚“ã‚ãƒœãƒ­ãƒãƒ³ãƒœãƒƒã‚¯ã‚¹ã ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã§ç­”ãˆã‚Œã°ã„ã„ã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šé™ã‹ï¼</p>
<p>Bï¼šã—ã‹ã—ã€ã¾ã•ã‹ã‚ãªãŸãŒåŒè¡Œè€…ã«ãªã£ã¦ã“ã“ã¾ã§æ¥ã‚‹ã£ã¦ã¯ã­ã€‚ç™¾ä¸‡å††ã‚’ã©ã†ã—ãŸã®ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã¾ã ã‚ã‚Šã¾ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚‚ã—ã‹ã—ã¦ã€å¿…è¦ã§ã™ã‹ï¼Ÿ</p>
<p>Bï¼šå ±é“ã®é€šã‚ŠãŠé‡‘ãŒãªã„ã‘ã©ã€ãã‚Œã¯å—æ¥µäºŒè¡ŒããŸã‚ã®è²»ç”¨å¤šãæ’®ã£ã¦ã„ã‚‹ã‹ã‚‰ã€ãã®åˆ†ã€å‰Šã‚Œã‚‹ã¨ã“ã‚ã¯æ±ºå®šçš„ã«å‰Šã£ã¦ã‚‹ã ã‘ã‚ˆã€ä¸­æ­¢ã«ãªã‚‹ã“ã¨ã¯çµ¶å¯¾ã«ãªã„ã‹ã‚‰å®‰å¿ƒã—ã¦ã€‚ã‚ãªãŸãŸã¡ã¯çŸ¥ã‚‰ãªã„ã ã‚ã†ã‘ã©ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç«‹ã¡ä¸Šã’ã¦ã‹ã‚‰ãšã£ã¨è¨€ã‚ã‚Œã¦ç¶šã‘ã‚‹ã®ã€ãŠé‡‘ãŒè¶³ã‚Šãªã„ã€å±é™ºã˜ã‚ƒãªã®ã‹ï¼Ÿã‚‚ã†æ…£ã‚Œã“ã†ã€‚</p>
<p>çµæœˆï¼šãã†ãªã‚“ã§ã™ã­ã€‚</p>
<p>Bï¼šãã‚“ãªå ±é“ã‚ã‚‹ãŸã³ã«ã€ãƒ¡ãƒ³ãƒãƒ¼ã¨ã„ã¤ã‚‚äº‹å‹™æ‰€ã§è¡Œã£ã¦ã‚‹ã¯ã€ã†ã‚‹ã›ã„ã€ãƒãƒ¼ã‚«ï¼ã£ã¦ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šä¸€ç·’ã§ã™ã­ï¼</p>
<p>Bï¼šãã†ãªã®ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã„ï¼</p>
<p>çµæœˆï¼šå±±ã€ã§ã™ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ°—æŒã¡ã„ã„ã€‚</p>
<p>Bï¼šã¨ã¯ã„ãˆã€å¤–ã«å‡ºã‚‹ã®ã¯æ˜å¾Œæ—¥ã‹ã‚‰ã€ä»Šæ—¥ã¨æ˜æ—¥ã¯ãƒŸãƒƒãƒãƒªè¬›ç¾©ã‚ˆã€ãŠã„ã€ãƒ˜ã‚¤ãƒˆãƒ˜ã‚¤ãƒˆã€‚</p>
<p>Bï¼šè³‡æ–™ã‚’ç¢ºèªã—ã¦ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŠã€ã™ã”ã„ã€åŸºåœ°è¦è¦§ã ã£ã¦ã€‚</p>
<p>çµæœˆï¼šå†…éƒ¨è³‡æ–™ã€å–æ‰±ç•™æ„ã€‚</p>
<p>æ—¥å‘ï¼šãŠã€é›ªä¸Šè»Šã€ãªã‚“ã‹ã‚ãŒã‚‹ã¾ã‚“ã€‚</p>
<p>Bï¼šãã®è³‡æ–™ã‚’ã‚‚ã¨ã«ã€ã“ã‚Œã‹ã‚‰ã‚ãªãŸãŸã¡å››äººã«ã¯ä»–ã®éšŠå“¡ãŒå†¬ã¨å¤ã«å—ã‘ã‚‹è¨“ç·´ã¨åŒç­‰ã®ã‚‚ã®ã‚’å‡ç¸®åŒ–ã—ã¦å—ã‘ã¦ã¾ã™ã€å—æ¥µã¯å®šä½ã—ã¦äººé–“ãŒã„ãªã„ä¸–ç•Œã§å”¯ä¸€ã®å¤§é™¸ã‚ˆã€‚ãã“ã«ã¯æ—¥æœ¬ã¨ã¯é•ã„ã€ã„ã‚ã‚“ãªæ±ºã‚äº‹ã‚„ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã€ãã‚Œã‚’ã“ã“ã§ãã¡ã‚“ã¨è¦šãˆã¦ã„ã¦ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã„ï¼</p>
<p>ç™½ç€¬ï¼šå­¦æ ¡ã¨ã¯å¤§é•ã„ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚¯ãƒ©ã‚¹é•ã†ã§ã—ã‚‡ã†ã€‚</p>
<p>Bï¼šã ã¯ã€æ—©é€Ÿã€éšŠé•·æŒ¨æ‹¶ã‹ã‚‰ã€‚</p>
<p>éšŠé•·ï¼šå—æ¥µè¦³æ¸¬éšŠéšŠé•·ã€è—¤å ‚åŸã§ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šéšŠé•·ã€‚</p>
<p>çµæœˆï¼šå¥³æ€§ãªã‚“ã§ã™ã‹ï¼Ÿ</p>
<p>éšŠé•·ï¼šæœ€åˆã«è¨€ã£ã¦ãŠãã¾ã™ãŒã€ç§ã¯éšŠå“¡ã¯åŒè¡Œè€…ã§ã‚ã‚ã†ãŒç ”ç©¶è€…ã§ã‚ã‚ã†ãŒç­‰ã—ãåŒç­‰ã ã¨æ€ã£ã¦ã¾ã™ã€‚ã‚„ã‚‹ã“ã¨ã¯å±±ã»ã©ã‚ã‚‹ã€é«˜æ ¡ç”Ÿã§ã‚ã‚ã†ã¨å¿…è¦ã§ã‚ã‚Œã°ã€æƒé™¤æ´—æ¿¯ã‹ã‚‰åŠ›ä»•äº‹ã¾ã§ã©ã‚“ã©ã‚“ã‚„ã¦ã‚‚ã‚‰ãˆã¾ã™ã€ãã®ã¤ã‚‚ã‚Šã§ã„ã£ã¦ãã ã•ã„ã€‚</p>
<p>ã€œï¼šã¯ã„ï¼</p>
<p>éšŠé•·ï¼šå—æ¥µè¦³æ¸¬éšŠå“¡ã®ABCã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ã€Aï¼šå½“ãŸã‚Šå‰ã®ã“ã¨ã€Bï¼šãƒœãƒƒã‚±ã¨ã—ãªã„ã§ã€ã¡ã‚ƒã‚“ã¨ã‚„ã‚Œã€‚å¸¸ã«ã€ãã®æ„è­˜ã‚’æŒã£ã¦ã»ã—ã„ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šãªã‚“ã‹ã€ŒéšŠé•·ã€ã£ã¦ãªæ„Ÿã˜ãªäººã ã­ã€‚</p>
<p>çµæœˆï¼šå±…çœ ã‚Šã—ã¦ãŸã‚‰ã€ç›´ãƒˆãƒ³çš„ãã†ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãƒ†ã‚¹ãƒˆã¨ã‹ã‚ã£ãŸã‚‰ã€è¶…é›£ã—ã„å•é¡Œä½œã‚Šãã†ã ã‚ˆã­ã€‚</p>
<p>æ—¥å‘ï¼šãã‚Œã‚ˆã‚Šã€æ˜æ—¥ã¯ãƒ«ãƒ¼ãƒˆè€ƒæŸ»ã ã‚ã†ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚“ã€å¤–å‡ºã‚‹ã‚“ã§ã—ã‚‡ã†ã€å±±æ¥ãŸã‚“ã ã‚‚ã‚“ã€ã‚¸ãƒ£ã‚¿ãã‚‰ã„å‡ºãªã„ã¨ã­ã€‚</p>
<p>æ—¥å‘ï¼šã¨ã¯ã„ãˆã€çµæ§‹å¤§å¤‰ã ãã€ã“ã‚Œã€‚</p>
<p>Bï¼šã©ã†ã ã£ãŸï¼Ÿ</p>
<p>éšŠé•·ï¼šãªã«ãŒï¼Ÿ</p>
<p>Bï¼šä¹…ã€…ã®å†ä¼šã¯ã€‚</p>
<p>éšŠé•·ï¼šè¨€ã£ãŸã§ã—ã‚‡ã†ï¼Ÿç§ã¯éšŠå“¡ã¯åŒç­‰ã«æ‰±ã†ã€‚</p>
<p>Bï¼šã¯ã„ã¯ã„ã€‚</p>
<p>éšŠé•·ï¼šã¾ã•ã¨ã“ã†ã—ãŸã®ï¼Ÿ</p>
<p>Bï¼šã†ã‚“ã€ç§ã¯ãªã«ã‚‚ã—ã¦ãªã„ã€æœ¬å½“ã«ã‚ã®å­é ‘å¼µã£ã¦ã“ã“ã¾ã§ã«æ¥ãŸã®ã€ã§ã‚‚ã€æ­£ç›´ãŠã‹ã€œãŸã‹ãªã€åˆã‚ã¦ã‚ã®å­ã¯ä¸€ç·’ã«è¡ŒããŸã„è¨€ã£ã¦æ™‚ã‹ã‚‰ã€è²´å­ã®å¨˜ã ã‚‚ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šã“ã‚Œã¯ï¼Ÿ</p>
<p>çµæœˆï¼šãƒˆãƒ©ãƒ³ã‚·ãƒ¼ãƒãƒ¼ã ã¨æ€ã„ã¾ã™ã€ã“ã‚ŒãŒã‚³ãƒ³ãƒ‘ã‚¹ã¨è¨€ã†ã€ã“ã£ã¡ãŒGPSæ¸¬ã‚‹æ©Ÿæ¢°ã§ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¨æ——ã€æ—¥å‘ã¡ã‚ƒã‚“åˆ†ã‹ã£ãŸï¼Ÿ</p>
<p>æ—¥å‘ï¼šæ˜¨æ—¥å¤§ä½“ã‚’ç·ãŸã—ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€ãªã‚“ã§ã“ã‚“ãªã“ã¨ã™ã‚‹ã®ï¼Ÿå—æ¥µã£ã¦çœŸã£å¹³ãªã‚“ã§ã—ã‚‡ã†ã€é“è˜­ä½œã‚‰ãªãã¦ã‚‚ã„ã‘ã‚‹ã‚“ã˜ã‚ƒãªã„ã®ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šé€†ã€çœŸã£å¹³ã®çœŸã£ç™½ã ã‹ã‚‰ã€å¹é›ªã«ã‚‹ã¨æ–¹å‘ã¯ã‚ã‹ã‚‰ãªããªã‚‹ã€ã ã‹ã‚‰ãƒ«ãƒ¼ãƒˆã‚’ä½œã£ã¦ã€ãã“ã‚’é€šã‚ˆã†ã«ã™ã‚‹ã‚ã‘ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŠã€ãã‚Œã§ç›®å°ã«ã“ã®æ——ã«ç«‹ã¦ã‚‹ã‚ã‘ã ã€ã§ã‚‚ã©ã“ã«ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãã‚Œã‚’è‡ªåˆ†ã§ã‚„ã‚‹ã®ãŒã“ã®è¨“ç·´ã ã‚ã†ã€‚ã“ã£ã¡ãŒä»Šç§ãŸã¡ã„ã‚‹æ‰€ã ã€ãã—ã¦ã“ã“ã«ã‚ã‚‹ã®ãŒç›®çš„åœ°ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãã“ã«è¡Œã‘ã°ã„ã„ã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãŸã è¡Œãã‚“ã˜ã‚ƒãªãã€é€”ä¸­ã«ã‚ã‚‹ã“ã“ã¨ã“ã“ã¨ã“ã“ã€ã“ã†è¨€ã†ãƒã‚¤ãƒ³ãƒˆã«æ——ã‚’ç«‹ã£ã¦ã¦è¡Œãã€‚</p>
<p>çµæœˆï¼šãªã‚‹ã»ã©ã§ã™ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ˆã—ã€ã‚„ã‚ï¼ã‚ã£ã¡ã®æ–¹ã ã‚ˆã­ã€‚</p>
<p>æ—¥å‘ï¼šå¾…ã£ã¦å¾…ã£ã¦ã€ãã‚“ãªã«é›‘ä¹³ã«å‹•ãå‡ºã—ã¦ã©ã†ã™ã‚‹ï¼Ÿãƒã‚¤ãƒ³ãƒˆãŒã©ã“ã«ã‚ã‚‹ã®ãŒã‚ã‹ã‚‹ã®ã‹ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãˆã€ã‚ãã“ã€ã‚‰ã¸ã‚“ï¼Ÿ</p>
<p>æ—¥å‘ï¼šã‚‰ã¸ã‚“ã˜ã‚ƒãªã„ã ã‚ã†ã€‚</p>
<p>ç™½ç€¬ï¼šãã‚Œã§æ­£ç¢ºãªä½ç½®ã‚’æ¸¬ã£ã¦é€²ã‚€ã®ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šãŠã€ãªã‚“ã‹ã€ã‚€ãšã—ã‹ãã†ãªäºˆæ„Ÿã€‚</p>
<p>æ±ºã¾ã‚Šï¼šï¼”ï¼˜ã€ï¼”ï¼™ã€ï¼•ï¼ã€ã“ã“ã ã‚ˆã€‚</p>
<p>æ—¥å‘ï¼šè§’åº¦è¦‹ã¦ã€‚</p>
<p>ç™½ç€¬ï¼šã“ã‚Œã€å³ç›®ã€å·¦ç›®ï¼Ÿã©ã£ã¡ã§è¦‹ã‚‹ã®ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãã‘ç›®ã˜ã‚ƒãªã„ã®ã‹ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šãã‘ç›®ã§ï¼Ÿ</p>
<p>çµæœˆï¼šç¢ºã‹ã“ã†ã‚„ã¦ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¾ã ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šï¼‘ï¼–ï¼˜åº¦ã€‚</p>
<p>æ—¥å‘ï¼šã‚‚ã£ã¨å³ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå³ï¼Ÿ</p>
<p>æ—¥å‘ï¼šå³ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå³ï¼Ÿ</p>
<p>æ—¥å‘ï¼šãã†ã€‚</p>
<p>ç™½ç€¬ï¼šãã“ã€‚</p>
<p>çµæœˆï¼šãˆã¨ã€ç·¯åº¦ã‹ã“ã‚Œã£ã¦ã€çµŒåº¦ã¯ã€ã•ã£ãã‚ˆã‚Šã‚‚ã¡ã‚‡ã£ã¨è·é›¢ã‚ã‚Šã¾ã›ã‚“ï¼Ÿ</p>
<p>æ—¥å‘ï¼šè¨ˆç®—ãŒæ­£ã—ã‘ã‚Œã°ã€ä»Šã“ã“ã«ã„ã‚‹ã¯ãšãªã‚“ã ã‚ˆãªã€‚</p>
<p>Bï¼šãã“ã‹ï¼Ÿã ã„ã¶ã‚ºãƒ¬ã¡ã‚ƒã£ã¦ã‚‹ã­ã€æ€ã„å‡ºã™ã‚ã€è‡ªåˆ†ãŒåˆã‚ã¦å‚åŠ ã—ãŸã®ã“ã¨ã€‚</p>
<p>éšŠé•·ï¼šæ®‹ã‚Šã®ä¸‰äººã¯ãªã‚“ã ã¨ï¼Ÿ</p>
<p>Bï¼šãã†ã€ãŠä¸€äººã¯å…ƒã€…å‚åŠ ã•ã›ã‚ˆã¨ã—ãŸã ã‘ã©ã§ã—ã‚‡ã†ã€ã„ã¤ã®é–“ä»²é–“ã‚ˆãã«ãªã£ãŸã¿ãŸã„ã ã‘ã©ã€‚</p>
<p>çµæœˆï¼šä»–ã®éšŠå“¡ã®äººãŸã¡ã¯æ™‚é–“ç«¶ã£ã¦ã‚‹ã£ã¦ã¾ã—ãŸã‘ã©ã€‚</p>
<p>ç™½ç€¬ï¼šã§ã‚‚ã€å¤§åˆ‡ãªã®ã¯æ™‚é–“ã‚ˆã‚Šã‚‚æ­£ç¢ºã•ã ã¨æ€ã†ã€‚</p>
<p>æ—¥å‘ï¼šå®‰å…¨ç¬¬ä¸€ã ã‚‚ãªã€‚</p>
<p>ç™½ç€¬ï¼šã˜ã‚ƒã€è¡Œãã‚ˆã€ï¼‘ã€ï¼’ã€ï¼“ï¼™ï¼˜ã€ï¼“ï¼™ï¼™ã€ï¼”ï¼ï¼ã€ã¯ã„ã€ã“ã“ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šå·¦ã«äºŒæ­©ã€ã¯ã„ã€ãã“ï¼</p>
<p>æ—¥å‘ï¼šã‚ˆã€ç´ æ—©ã„ã€ã—ã‹ã—ã€ã‚ˆãåˆ†ã‹ã£ãŸãªã€æ±ºã¾ã‚ŠãŒã‚³ãƒ³ãƒ‘ã‚¹å¾—æ„ã ã£ã¦ã€‚</p>
<p>çµæœˆï¼šãªã‚“ã‹ã£ã½ã„ã£ã¦è¨€ã†ã‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚³ãƒ³ãƒ‘ã‚¹ã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨å‘¼ã‚“ã§ã€åä»˜ã‘ã¦ã‚³ãƒ³ãƒ‘ã‚µã€‚</p>
<br>

<p>ã€œï¼šæœ€åˆã¯ã‚°ãƒ¼ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ãƒœãƒ³ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ˆã—ã€ç§ã“ã“ã€ä¿®å­¦æ—…è¡Œã¿ãŸã„ã ã­ã€‚</p>
<p>æ—¥å‘ï¼šéŠã³ã«æ¥ãŸã‚ã‘ã˜ã‚ƒãªã„ã ãã€‚</p>
<p>ç™½ç€¬ï¼šãƒ†ãƒ³ãƒˆã§å¯ã‚‹ã®ã‚‚ç«‹æ´¾ãªè¨“ç·´ã®æ‰€ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€ã¾ã ï¼˜æ™‚å‰ã ã‚ˆã€ã»ã‚‰ã€éšŠé•·ã‚‚åˆå®¿ã®å¤œã¯è¦ªç¦ä¼šã‚„ã‚‹ã£ã¦è¨€ã£ã¦ãŸã—ã€‚</p>
<p>æ—¥å‘ï¼šã„ã„ã‹ã‚‰ã€å¯ã‚ã†ï¼</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã‹è©±ãã‚ˆã€‚</p>
<p>æ—¥å‘ï¼šã“ã£ã¡æŠœããªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ€–ã„è©±è¨€ã£ã¡ã‚ƒã†ï¼Ÿ</p>
<p>çµæœˆï¼šè»½ãæ­»ãªã›ã¾ã™ã‚ˆã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã‚ã€ã‚‚ã—ã‹ã—ã¦çµæœˆã¡ã‚ƒã‚“å«Œã„ãªã®æ€–ã„è©±ã€‚</p>
<p>çµæœˆï¼šã†ã‚‹ã‹ã«ã—ã¦ãã ã•ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚‹ã‹ã«ã—ã¦ãã ã•ã„ã£ã¦ãªã«ï¼Ÿ</p>
<p>çµæœˆï¼šä¸€å¿œå…ˆè¼©ã ã‹ã‚‰è¨€ã„ç›´ã—ãŸã‚“ã§ã™ã€ã‚‚ã†è¨€ã„ãŸã„ã“ã¨ã¯ã‚ã‹ã‚‹ã‹ã‚‰ã„ã„ã˜ã‚ƒãªã„ã§ã™ã‹ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã†ã‚‹ã‹ã«ã—ã¦ãã ã•ã„ã€‚</p>
<p>æ—¥å‘ï¼šã„ã„ã‹ã‚‰ã€ã‚„ã‚ã‚ã€æ±ºã¾ã‚Šã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç™½ç€¬ã¡ã‚ƒã‚“ã¯å¯ã£ã¡ã‚ƒã£ãŸï¼Ÿèã“ã†ã¨æ€ã£ã¦ãŸã‚“ã ã‘ã©ã€ç™½ç€¬ã¡ã‚ƒã‚“ã£ã¦ã•ã€éšŠé•·ã•ã‚“ã¨çŸ¥ã‚Šåˆã„ãªã®ï¼Ÿ</p>
<p>ç™½ç€¬ï¼šã©ã†ã—ã¦ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãªã‚“ã¨ãªãã€‚</p>
<p>ç™½ç€¬ï¼šã‚ã®äººã¯ãŠæ¯ã•ã‚“ãŒé«˜æ ¡ã®ã”ã‚çŸ¥ã‚Šåˆã„ã€ãŠæ¯ã•ã‚“ã¨ä¸€ç·’å—æ¥µã«è¡Œã£ãŸäººã€ã‚ã®äººã¯å¸°ã£ã¦æ¥ã¦ã€ãŠæ¯ã•ã‚“ã ã‘ã¯å¸°ã£ã¦ã“ãªã‹ã£ãŸã€ãã‚Œã ã‘ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæº€å¤©ã€åŒ—æ¥µæ˜Ÿã©ã‚Œï¼Ÿ</p>
<p>çµæœˆï¼šãˆãˆã¨ã€åŒ—æ–—ä¸ƒæ˜Ÿã®ãªã«ã‹ä¼¸ã°ã™ã—ãŸã‚“ã ã£ã‘ã€‚</p>
<p>æ—¥å‘ï¼šã‚«ã‚·ãƒ¥ãƒ™ãƒ¤ã ã‚ã†ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šå—æ¥µæ˜Ÿã¯ï¼Ÿ</p>
<p>çµæœˆï¼šå—æ¥µæ˜Ÿï¼Ÿã‚ã‚‹ã‚“ã§ã™ã‹ï¼Ÿ</p>
<p>æ—¥å‘ï¼šä¸€å¿œã‚ã‚‹ã‚ˆã€ãã‚“ãªã«ã¯ã£ãã‚Šã¨ã¯è¦‹ãˆãªã„ã‚‰ã—ã„ã‘ã©ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã¯ã€ã©ã‚Œï¼Ÿ</p>
<p>æ—¥å‘ï¼šã“ã“ã‹ã‚‰è¦‹ãˆã‚‹ã‚ã‘ãªã„ã ã‚ã†ã€ç©ºã«ã‚ã‚‹æ˜ŸãŒå…¨ã¦ã¨æ€ã†ãªã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæ—¥å‘ã¡ã‚ƒã‚“ã®è¨€è‘‰ã§ã—ã‚‡ã†ã€‚</p>
<p>æ—¥å‘ï¼šã¡ã‚‡ã£ã¨ã§ãæ‚ªã‹ã£ãŸãªã€‚</p>
<p>éšŠé•·ï¼šã“ã¡ã¯æ˜­å’ŒåŸºåœ°ã€ã‚ªã‚ªãƒ­ãƒ©éšŠã€èã“ãˆã¾ã™ã‹ï¼Ÿã©ã†ãã€‚</p>
<p>æ±ºã¾ã‚Šï¼šããŸã€‚</p>
<p>æ—¥å‘ï¼šã“ã¡ã¯ã‚ªã‚ªãƒ­ãƒ©éšŠã€ä¸‰å®…ã§ã™ã€ã“ã‚“ã©è‰¯å¥½ã§ã™ã€ã©ã†ãã€‚</p>
<p>éšŠé•·ï¼šä¾‹å®Ÿäº¤ä¿¡ã§ã™ã€ç•°å¸¸ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿãã†ãã€‚</p>
<p>æ—¥å‘ï¼šæœ¬æ—¥ã€ã‚ªã‚ªãƒ­ãƒ©éšŠå››åã€äººå“¡ã€è£…å‚™ã€ç•°å¸¸ãªã—ã§ã™ã€ã©ã†ãã€‚</p>
<p>éšŠé•·ï¼šã‚ã‹ã‚Šã¾ã—ãŸã€æ˜ã‘ã‚‹ã¨ã€œä½“èª¿ã«æ³¨æ„ã—ã¦ã€ä¾‹å®Ÿäº¤ä¿¡çµ‚ã‚ã‚Šã¾ã™ã€ã”å®‰å…¨ã«ã€‚</p>
<p>æ—¥å‘ï¼šã”å®‰å…¨ã«ã€‚</p>
<p>çµæœˆï¼šæœ¬å½“ã«æ¥ã¾ã—ãŸã­ã€‚</p>
<p>æ—¥å‘ï¼šãŠå¿˜ã‚‹æ‰€ã ã€‚</p>
<br>

<p>æ±ºã¾ã‚Šï¼šå¯’ã„ã€ã‚ã®ã€ãªã«ãŒè¦‹ãˆã¾ã™ã‹ï¼Ÿç™½ç€¬ã¡ã‚ƒã‚“ã®ãŠæ¯ã•ã‚“ã£ã¦ã©ã‚“ãªäººã ã£ãŸã‚“ã§ã™ã‹ï¼Ÿ</p>
<p>éšŠé•·ï¼šã©ã‚“ãªã¨èã“ã‚‹ã¨ã€å¤‰ãªäººã£ã¦ã¨ç­”ãˆã—ã‹å‡ºã¦ã“ãªã„ã­ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šç™½ç€¬ã¡ã‚ƒã‚“ã¨ä¼¼ã£ã¦ã¾ã™ï¼Ÿ</p>
<p>éšŠé•·ï¼šãã†ã€ç§ã¯å¨˜ã®ã“ã¨ãŒã‚ˆãçŸ¥ã‚‰ãªãã€ãŸã ã€ã‚ã®ã²ã¤ã“ã•ã¨æ€ã„ã“ã¿å¼·ã•ã¯ãã£ãã‚Šã­ã€ã‚ã‚“ã©ãã•ã„ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ã„ã§ã™ã‚ˆã­ã€ã‚ã‚“ã©ãã•ã„ã®ã€‚</p>
<p>éšŠé•·ï¼šå—æ¥µå‘ã®æ€§æ ¼ã­ã€ã‚ãªãŸã¯ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šæœ¬å½“ã§ã™ã‹ï¼Ÿ</p>
<p>éšŠé•·ï¼šã©ã†ã—ã¦å—æ¥µã«ï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šãˆï¼Ÿ</p>
<p>éšŠé•·ï¼šã‚ã®å­ã«èª˜ã‚ã‚ŒãŸï¼Ÿ</p>
<p>æ±ºã¾ã‚Šï¼šã¯ã„ã€ã§ã‚‚æ±ºã‚ãŸã®ã¯ç§ã§ã™ã€ä¸€ç·’ã«è¡ŒããŸã„ã£ã¦ã€ã“ã®ã¾ã¾é«˜æ ¡ç”Ÿæ´»ãŒçµ‚ã‚ã‚‹ã®å«Œã ã£ã¦ã€ã“ã“ã˜ã‚ƒãªã„ã€ã©ã“ã‹ã«è¡ŒããŸã„ã£ã¦ã€‚</p>
<p>éšŠé•·ï¼šãã†ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã§ã‚‚ã€æ—¥å‘ã¡ã‚ƒã‚“ã¨çŸ¥ã‚Šåˆã£ã¦ã€çµæœˆã¡ã‚ƒã‚“ã¨çŸ¥ã‚Šåˆã£ã¦ã€è¦³æ¸¬éšŠã®äººã®æ°—æŒã¡ã‚’çŸ¥ã£ã¦ã€éšŠé•·ã¨ç™½ç€¬ã¡ã‚ƒã‚“ã®ã“ã¨ã‚’èã„ã¦æ€ã„ã¾ã—ãŸã€ã©ã“ã‹ã˜ã‚ƒãªã„ã€å—æ¥µã ã£ã¦ã€‚ç§ã¿ã‚“ãªã¨å—æ¥µã«è¡Œã£ã¦ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã¿ã‚“ãªã€èµ·ãã¦ã€‚</p>
<p>æ—¥å‘ï¼šãªã‚“ã ï¼Ÿ</p>
<p>çµæœˆï¼šæœè‹¦æ‰‹ãªã‚“ã§ã™ã€‚</p>
<p>æ±ºã¾ã‚Šï¼šã„ã„ã‹ã‚‰ã€èµ·ãã¦ã€ç™½ç€¬ã¡ã‚ƒã‚“ã‚‚ï¼æ—©ãã€æ—©ãï¼</p>
<p>æ±ºã¾ã‚Šï¼šç§ã€ã¿ã‚“ãªã¨è¡ŒããŸã„ã€ã¿ã‚“ãªã¨ä¸€ç·’å—æ¥µæ˜Ÿã‚’è¦‹ã¤ã‘ã¦ã€ã‚ªã‚ªãƒ­ãƒ©è¦‹ã¦ã€ã‹ãæ°·ã‚’é£Ÿã¹ã¦ã€ãƒšãƒ³ã‚®ãƒ³ã¨è¨˜å¿µå†™çœŸæ’®ã‚ŠãŸã„ï¼çµ¶å¯¾è¡Œã“ã†ï¼</p>
<p>ç™½ç€¬ï¼šã‚“ã€‚</p>
]]></content>
      <categories>
        <category>æ—¥è¯­</category>
      </categories>
      <tags>
        <tag>æ—¥è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€å°æ—¶å­¦ä¼šSwagger</title>
    <url>/2020/10/18/%E4%B8%80%E5%B0%8F%E6%97%B6%E5%AD%A6%E4%BC%9ASwagger/</url>
    <content><![CDATA[<p>ç½‘ä¸Šæ— æ„é—´çœ‹åˆ°çš„Swaggeræ•™ç¨‹ï¼Œä¸€å£æ°”å…¨éƒ¨çœ‹å®Œäº†ï¼Œè®²å¾—å¾ˆä¸é”™ã€‚</p>
<blockquote>
<p>ç§¦ç–†è€å¸ˆSpringBootè¯¾ç¨‹æ‰©å±•ä¹‹Swaggerå­¦ä¹ ï¼› è¿™å¯èƒ½æ˜¯å…¨ç½‘æœ€è¯¦ç»†çš„Swaggerè§†é¢‘äº† ä»ç”Ÿæ´»åˆ°ä»£ç ï¼Œä»ç®€å•åˆ°æ·±å…¥ã€‚é£è¶£å¹½é»˜,é€šä¿—æ˜“æ‡‚ã€‚</p>
</blockquote>
<iframe src="//player.bilibili.com/player.html?aid=64841843&bvid=BV1Y441197Lw&cid=112543089&page=3" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="height:500px;width=600px"> </iframe>

<span id="more"></span>

<p>è®² new Docket().enable(true|false) å’Œdev | prod | testç­‰ç¯å¢ƒä¸‹çš„ä½¿ç”¨çš„æ—¶å€™å› ä¸ºç¯å¢ƒå˜åŒ–æ‰€ä»¥é…ç½®çš„ç«¯å£å·æ”¹å˜å´è¿˜ç”¨8080ç«¯å£è®¿é—®é¡¹ç›®å¯¼è‡´ swagger æŠ¥é”™å¯¼è‡´è¿›ä¸å»é¡¹ç›®ã€‚</p>
]]></content>
      <categories>
        <category>Swagger</category>
      </categories>
      <tags>
        <tag>Swagger</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ƒç‰›äº‘å¤‡æ¡ˆåŸŸåè¿‡æœŸå¯¼è‡´å›¾ç‰‡æ— æ³•æŸ¥çœ‹å’Œä¸‹è½½</title>
    <url>/2020/09/30/%E4%B8%83%E7%89%9B%E4%BA%91%E5%A4%87%E6%A1%88%E5%9F%9F%E5%90%8D%E8%BF%87%E6%9C%9F%E5%AF%BC%E8%87%B4%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8B%E5%92%8C%E4%B8%8B%E8%BD%BD/</url>
    <content><![CDATA[<p>ä¹‹å‰ä¸€ç›´ç”¨ä¸ƒç‰›äº‘åšåšå®¢å›¾åºŠï¼Œä¸ƒç‰›äº‘åšå¾—è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œé€Ÿåº¦å¿«ã€ç¨³å®šå¹¶ä¸”è¿˜æœ‰å…è´¹ç©ºé—´å’Œæµé‡ã€‚ä½†æ˜¯å‰æ®µæ—¶é—´å¤‡æ¡ˆçš„åŸŸåé™¤äº†ç‚¹é—®é¢˜ï¼Œå¯¼è‡´åŸŸåè¢«ä¸ƒç‰›äº‘åˆ é™¤äº†ã€‚</p>
<span id="more"></span>

<p><img src="https://images2.imgbox.com/15/5f/zAPOVGJv_o.png" alt="æˆªå›¾"></p>
<p>åŸŸååˆ é™¤å½±å“éå¸¸å¤§ï¼Œä¹‹å‰åœ¨åšå®¢é‡Œå¼•ç”¨çš„å›¾ç‰‡æ— æ³•æŸ¥çœ‹ï¼Œå¹¶ä¸”ç™»å½•åˆ°ä¸ƒç‰›äº‘åå°ä¹Ÿæ— æ³•é¢„è§ˆã€ä¸‹è½½å›¾ç‰‡ï¼Œæ•´ä¸ªæœåŠ¡å®Œå…¨ä¸å¯ç”¨äº†ã€‚äºæ˜¯åœ¨ç½‘ä¸ŠæŸ¥äº†è®¸å¤šèµ„æ–™æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ã€‚</p>
<p>å®˜æ–¹å¼€å‘äº†å·¥å…·æ¥ç®¡ç†å­˜å‚¨çš„æ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·å«â€œqrsctlâ€ã€‚å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥åšä¸€äº›ä¸Šä¼ ä¸‹è½½ã€ç§»åŠ¨å¤åˆ¶å’Œç©ºé—´ç®¡ç†ç­‰æ“ä½œã€‚</p>
<p>å®‰è£…åŠä½¿ç”¨æ–¹æ³• &gt;&gt;  <a href="https://developer.qiniu.com/kodo/tools/1300/qrsctl">å‘½ä»¤è¡Œè¾…åŠ©å·¥å…·(qrsctl)</a></p>
<p>ä½¿ç”¨ä¸‹é¢çš„shellè„šæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†å­˜å‚¨ç©ºé—´åç§°æ¢ä¸ºè‡ªå·±çš„ç©ºé—´åç§°</span></span><br><span class="line">imgs=`./qrsctl listprefix youyou-2608 &#x27;&#x27;`</span><br><span class="line"></span><br><span class="line">i=0 </span><br><span class="line">echo $imgs | tr &quot; &quot; &quot;\n&quot; | while read line</span><br><span class="line">do</span><br><span class="line">    if(($i&gt;0))</span><br><span class="line">    then</span><br><span class="line">        echo $line</span><br><span class="line">        ./qrsctl get youyou-2608 $line ./$line</span><br><span class="line">    fi</span><br><span class="line">    i=$(($i+1))</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼Œç„¶åè¿è¡Œå³å¯ã€‚</p>
<p>ä½†æ˜¯ç”¨è„šæœ¬ä¸‹è½½å›¾ç‰‡æ—¶é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåç§°ä¸­å¸¦æœ‰â€œ/â€è¿™ç§åœ¨Linuxç³»ç»Ÿè¢«ç”¨ä½œç›®å½•åˆ†éš”ç¬¦çš„å›¾ç‰‡æ— æ³•ä¸‹è½½ï¼Œä¼šæŠ¥â€œæ‰¾ä¸åˆ°è¯¥æ–‡ä»¶â€çš„é”™è¯¯ï¼Œå› ä¸ºå®ƒæŠŠâ€œ/â€å‰çš„éƒ¨åˆ†å½“ä½œç›®å½•ã€è€ŒæŠŠååŠéƒ¨åˆ†å½“ä½œæ–‡ä»¶åï¼Œå½“ç„¶æ‰¾ä¸åˆ°æ–‡ä»¶äº†ã€‚</p>
<p>åœ¨ä¸ƒç‰›äº‘æäº†å·¥å•ä¹‹åï¼Œä¸ƒç‰›äº‘çš„å·¥ç¨‹å¸ˆè¯´æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«æœ‰é—®é¢˜ã€‚æ²¡åŠæ³•ï¼Œæœ€ååªèƒ½ä¸€ä¸ªä¸€ä¸ªå»æ”¹æ–‡ä»¶åï¼ˆåŸŸåè¢«åˆ é™¤åè¿˜èƒ½æ”¹æ–‡ä»¶åï¼‰ï¼Œç„¶åå†ä¸‹è½½ã€‚ä¸å¾—ä¸è¯´ï¼Œå·¥ä½œé‡ä¸æ˜¯ä¸€èˆ¬çš„å¤§ã€‚</p>
<p>æœ€åå°±æ˜¯å›¾åºŠçš„é—®é¢˜äº†ï¼Œçœ‹äº†è®¸å¤šç½‘ä¸Šæ¨èçš„å›¾åºŠæ„Ÿè§‰éƒ½ä¸å¤ªé è°±ï¼Œå€’ä¸‹ä¸€ä¸ªå›¾åºŠåˆéœ€è¦é‡æ–°æŠ˜è…¾ä¸€éã€‚æƒ³ç€åé¢æœ‰æ—¶é—´è‡ªå·±æ­å»ºä¸€ä¸ªå›¾åºŠï¼Œè¿™æ ·æ¯”è¾ƒå®‰å¿ƒä¸€äº›ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Letâ€™s Encryptç»™ç½‘ç«™åŠ å¯†</title>
    <url>/2020/11/07/%E4%BD%BF%E7%94%A8Let%E2%80%99s-Encrypt%E7%BB%99%E7%BD%91%E7%AB%99%E5%8A%A0%E5%AF%86/</url>
    <content><![CDATA[<p>ä½¿ç”¨ <strong>Letâ€™s Encrypt</strong> ç»™ç½‘ç«™åŠ å¯†</p>
<p>è¿˜æ²¡ç»™ä½ çš„ç½‘ç«™åŠ ä¸ŠHttpsï¼Ÿå¿«ç”¨ <strong>Letâ€™s Encrypt</strong>  ç»™ä½ çš„ç½‘ç«™åŠ ä¸ªå°é”å§ï¼</p>
<span id="more"></span>

<h2 id="è¯ä¹¦ç”³è¯·"><a href="#è¯ä¹¦ç”³è¯·" class="headerlink" title="è¯ä¹¦ç”³è¯·"></a>è¯ä¹¦ç”³è¯·</h2><p>åˆ° <a href="https://letsencrypt.osfipin.com/">æ¥æ­¤åŠ å¯†</a> æŒ‰ç…§æ­¥éª¤ç»™åŸŸåç”³è¯·è¯ä¹¦ï¼Œéœ€è¦ç”¨é‚®ç®±æ³¨å†Œè´¦å·ã€‚</p>
<p>éªŒè¯çš„è¯ï¼Œç›´æ¥åœ¨åŸŸåè§£æé‡ŒåŠ ä¸ª TXT ç±»å‹çš„ DNS è§£æï¼Œç­‰ 3 åˆ†é’Ÿå°±å¯ä»¥éªŒè¯äº†ã€‚æ·»åŠ å®Œäº†å¯ä»¥ç”¨ nslookup -q=txt _acme-challenge.xxx.com éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸã€‚</p>
<br>

<p>æœ¬æ¥ä¹‹å‰æˆ‘ç”¨ FreeSSL çš„ï¼Œè¿˜æœ‰ä¸ªå®¢æˆ·ç«¯ KeyManagerï¼Œé˜¿é‡Œäº‘å¯ä»¥ä¸€é”®ç”³è¯·è¯ä¹¦å’Œä¸€é”®éƒ¨ç½²éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘åœ¨ç”¨ä¸€é”®éƒ¨ç½²çš„æ—¶å€™ä¸€ç›´å¡ä½ï¼Œè¯•äº†å‡ æ¬¡æ²¡æˆåŠŸå°±æ”¾å¼ƒäº†ã€‚æ¢äº† Letâ€™s Encryptã€‚</p>
<h2 id="ä¸Šä¼ è¯ä¹¦"><a href="#ä¸Šä¼ è¯ä¹¦" class="headerlink" title="ä¸Šä¼ è¯ä¹¦"></a>ä¸Šä¼ è¯ä¹¦</h2><p>è¯ä¹¦ç”³è¯·æˆåŠŸåï¼Œä¸‹è½½ä¸‹æ¥æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹ç¼©åé‡Œé¢æœ‰å‡ ä¸ªæ–‡ä»¶ï¼Œç”¨ scp å‘½ä»¤æˆ–è€… ftp å·¥å…·å°†æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp -r local_path remote_path user@ip:remote_path </span><br></pre></td></tr></table></figure>



<h2 id="æ›´æ”¹-Nginxé…ç½®æ–‡ä»¶"><a href="#æ›´æ”¹-Nginxé…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ”¹ Nginxé…ç½®æ–‡ä»¶"></a>æ›´æ”¹ Nginxé…ç½®æ–‡ä»¶</h2><p>æ‰“å¼€ /etc/nginx/sites-available/default æ–‡ä»¶ï¼Œæ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    </span><br><span class="line">    # SSLé…ç½®</span><br><span class="line">    ssl_certificate path/fullchain.crt;</span><br><span class="line">    ssl_certificate_key path/private.pem;</span><br><span class="line">    ssl_protocols TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_session_cache shared:SSL:10m;</span><br><span class="line">    ssl_session_timeout 10m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>path æ˜¯è¯ä¹¦çš„ç›®å½•ã€‚</p>
<p><strong>ä¸€å®šè¦æ³¨æ„æ¯ä¸€è¡Œåé¢æœ‰åˆ†å·</strong>ï¼Œæˆ‘å°±æ˜¯æ²¡æ³¨æ„è¿™ä¸ªåˆ†å·ï¼Œå¯¼è‡´é‡å¯ nginx çš„æ—¶å€™ä¸€ç›´æŠ¥é”™ï¼Œè¯´ ssl_certificate æ˜¯æœªå®šä¹‰å˜é‡ã€‚ä¸»è¦æ˜¯ <a href="https://letsencrypt.osfipin.com/">https://letsencrypt.osfipin.com</a> è¿™ä¸ªç½‘ç«™å®˜æ–¹é…ç½®è¯´æ˜é‡Œå°±æ²¡æœ‰åˆ†å·ã€‚</p>
<p>443 ç«¯å£ä¸€å®šè¦æ”¾å¼€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure>

<p>é‡å¯ nginx å°±å¯ä»¥ç”¨ https è®¿é—®äº†ï¼</p>
]]></content>
      <categories>
        <category>SSL</category>
      </categories>
      <tags>
        <tag>SSL</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨Pythonçˆ¬å–Bç«™æ•°æ®</title>
    <url>/2018/11/22/%E5%88%A9%E7%94%A8Python%E7%88%AC%E5%8F%96B%E7%AB%99%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h3 id="æœ€åˆçš„æƒ³æ³•"><a href="#æœ€åˆçš„æƒ³æ³•" class="headerlink" title="æœ€åˆçš„æƒ³æ³•"></a>æœ€åˆçš„æƒ³æ³•</h3><p>æœ€è¿‘åœ¨æƒ³èµ·èƒ½ä¸èƒ½çˆ¬ä¸€ä¸‹Bç«™çš„ç”¨æˆ·ä¿¡æ¯ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ç»Ÿè®¡ä¸€ä¸‹Bç«™çš„å¹´é¾„ä¿¡æ¯ã€‚ä½†æ˜¯å¾ˆé—æ†¾ï¼Œåœ¨ä¸ªäººä¸»é¡µé‡Œåªèƒ½çœ‹åˆ°æ³¨å†Œæ—¥æœŸå’Œç”Ÿæ—¥ï¼Œè€Œä¸èƒ½çœ‹åˆ°å®Œæ•´çš„ç”Ÿæ—¥ä¿¡æ¯ã€‚</p>
<p>è¿˜æ˜¯æ¢ä¸ªç›®æ ‡å§ï¼Œå¥½ä¹…æ²¡ç”¨pythonäº†ï¼Œå°±å½“æ˜¯å¤ä¹ ä¸€ä¸‹åŸºç¡€çŸ¥è¯†ã€‚äºæ˜¯æ‰¾äº†ä¸€ä¸‹Bç«™çš„APIï¼Œå®˜æ–¹æ²¡æœ‰å¼€æ”¾çš„APIå¯ä¾›è°ƒç”¨ï¼Œæ„æ–™ä¹‹ä¸­ï¼Œå·²ç»æœ‰å¤§ä½¬å‡†å¤‡å¥½äº†ï¼š<a href="https://github.com/Kotobuki-Tsumugi/Bilibili_Views_spider">GitHub-Bç«™é‡ç”Ÿæ¥å£</a> ã€‚</p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BilibiliSpider</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.online_api = <span class="string">&quot;https://api.bilibili.com/x/web-interface/online&quot;</span>  <span class="comment"># åœ¨çº¿äººæ•°</span></span><br><span class="line">        self.video_api = <span class="string">&quot;https://api.bilibili.com/x/web-interface/archive/stat?&amp;aid=%s&quot;</span>  <span class="comment"># è§†é¢‘ä¿¡æ¯</span></span><br><span class="line">        self.newlist_api = <span class="string">&quot;https://api.bilibili.com/x/web-interface/newlist?&amp;rid=%s&amp;pn=%s&amp;ps=%s&quot;</span>  <span class="comment"># æœ€æ–°è§†é¢‘ä¿¡æ¯</span></span><br><span class="line">        self.region_api = <span class="string">&quot;https://api.bilibili.com/x/web-interface/dynamic/region?&amp;rid=%s&amp;pn=%s&amp;ps=%s&quot;</span>  <span class="comment"># æœ€æ–°åŠ¨æ€ä¿¡æ¯</span></span><br><span class="line">        self.member_api = <span class="string">&quot;http://space.bilibili.com/ajax/member/GetInfo&quot;</span>  <span class="comment"># ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        self.stat_api = <span class="string">&quot;https://api.bilibili.com/x/relation/stat?vmid=%s&quot;</span>  <span class="comment"># ç”¨æˆ·å…³æ³¨æ•°å’Œç²‰ä¸æ€»æ•°</span></span><br><span class="line">        self.upstat_api = <span class="string">&quot;https://api.bilibili.com/x/space/upstat?mid=%s&quot;</span>  <span class="comment"># ç”¨æˆ·æ€»æ’­æ”¾é‡å’Œæ€»é˜…è¯»é‡</span></span><br><span class="line">        self.follower_api = <span class="string">&quot;https://api.bilibili.com/x/relation/followings?vmid=%s&amp;pn=%s&amp;ps=%s&quot;</span>  <span class="comment"># ç”¨æˆ·å…³æ³¨ä¿¡æ¯</span></span><br><span class="line">        self.fans_api = <span class="string">&quot;https://api.bilibili.com/x/relation/followers?vmid=%s&amp;pn=%s&amp;ps=%s&quot;</span>  <span class="comment"># ç”¨æˆ·ç²‰ä¸ä¿¡æ¯</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="æŠ“å–åœ¨çº¿äººæ•°"><a href="#æŠ“å–åœ¨çº¿äººæ•°" class="headerlink" title="æŠ“å–åœ¨çº¿äººæ•°"></a>æŠ“å–åœ¨çº¿äººæ•°</h3><p>æœ€ç®€å•çš„ä¾‹å­ï¼Œåœ¨ StuPeter çš„ä¾‹å­é‡Œæœ‰ç°æˆçš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">member_online_count</span>(<span class="params">self</span>):</span></span><br><span class="line">    ret_val = requests.get(self.online_api)</span><br><span class="line">    <span class="keyword">if</span> ret_val.status_code != <span class="number">200</span> <span class="keyword">or</span> ret_val.content <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è·å–å½“å‰åœ¨çº¿äººæ•°å¤±è´¥&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    ret_content = json.loads(ret_val.content)</span><br><span class="line">    <span class="keyword">return</span> ret_content[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;web_online&quot;</span>]</span><br></pre></td></tr></table></figure>



<h3 id="å°†è¿”å›æ•°æ®å†™å…¥æ–‡ä»¶"><a href="#å°†è¿”å›æ•°æ®å†™å…¥æ–‡ä»¶" class="headerlink" title="å°†è¿”å›æ•°æ®å†™å…¥æ–‡ä»¶"></a>å°†è¿”å›æ•°æ®å†™å…¥æ–‡ä»¶</h3><p>æ¯æ¬¡æ‰§è¡Œè„šæœ¬éƒ½è®°å½•ä¸‹å½“å‰æ—¶é—´ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_file</span>(<span class="params">self, cnt</span>):</span></span><br><span class="line">    now = datetime.datetime.now().strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">    f = <span class="built_in">open</span>(self.file, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">    content_to_write = <span class="string">&quot;[&quot;</span> + now + <span class="string">&quot;] : [&quot;</span> + <span class="built_in">str</span>(cnt) + <span class="string">&quot;]&quot;</span></span><br><span class="line">    f.write(content_to_write + <span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="é…ç½®å®šæ—¶ä»»åŠ¡"><a href="#é…ç½®å®šæ—¶ä»»åŠ¡" class="headerlink" title="é…ç½®å®šæ—¶ä»»åŠ¡"></a>é…ç½®å®šæ—¶ä»»åŠ¡</h3><p>é…ç½®å®šæ—¶ä»»åŠ¡(Ubantu18.04)æ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">0,10,20,30,40,50</span> <span class="string">* * * * python /home/username/python/bilibili_spider.py</span></span><br></pre></td></tr></table></figure>



<h3 id="matplotlibæŠ˜çº¿å›¾å±•ç¤º"><a href="#matplotlibæŠ˜çº¿å›¾å±•ç¤º" class="headerlink" title="matplotlibæŠ˜çº¿å›¾å±•ç¤º"></a>matplotlibæŠ˜çº¿å›¾å±•ç¤º</h3><p>çˆ¬å®Œæ•°æ®ä¹‹åæ•°æ®æ•°æ®éƒ½åœ¨æ–‡ä»¶é‡Œï¼Œç›´æ¥æ•°æ®æ–‡ä»¶ä¸­è¯»å–è®°å½•ä¸‹çš„ æ—¶é—´ å’Œ äººæ•°å€¼ï¼ŒåšæˆæŠ˜çº¿å›¾ï¼š</p>
<p>è¿˜éœ€è¦å†ç ”ç©¶ç ”ç©¶ï¼Œto be updatedâ€¦</p>
]]></content>
      <categories>
        <category>æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>æŠ˜è…¾</tag>
      </tags>
  </entry>
  <entry>
    <title>å†è®°Hexoåšå®¢æ¢å¤</title>
    <url>/2019/06/09/%E5%86%8D%E8%AE%B0Hexo%E5%8D%9A%E5%AE%A2%E6%81%A2%E5%A4%8D/</url>
    <content><![CDATA[<p>Hexoåšå®¢æ¢å¤</p>
<p>ä»å®˜ç½‘ä¸‹è½½ Nodejs <strong>äºŒè¿›åˆ¶</strong> æ–‡ä»¶ï¼ˆ.tar.xzï¼‰ï¼Œè§£å‹åˆ° /opt ç›®å½•ä¸‹ï¼Œæ·»åŠ è¿æ¥ï¼š</p>
<p><code>sudo tar -xvf xxxx.tar.xz</code></p>
<p><code>sudo ln -s /opt/node-linux-x64xxxx/bin/node /usr/local/bin/node</code></p>
<p><code>sudo ln -s /opt/node..../bin/npm /usr/local/bin/npm</code></p>
<p>ç„¶åè¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ</p>
<p><code>sudo npm install</code></p>
<p>å³å¯å®Œæˆæ¢å¤ã€‚</p>
<hr>
<p>æŠ˜è…¾äº†åŠå¤©ä¸€ç›´å„ç§æŠ¥é”™ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆç®€å•ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨æ–°æœºå™¨ä¸­æ¢å¤Hexoåšå®¢</title>
    <url>/2019/03/03/%E5%9C%A8%E6%96%B0%E6%9C%BA%E5%99%A8%E4%B8%AD%E6%81%A2%E5%A4%8DHexo%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h2 id="åœ¨æ–°æœºå™¨ä¸Šæ¢å¤Hexoåšå®¢"><a href="#åœ¨æ–°æœºå™¨ä¸Šæ¢å¤Hexoåšå®¢" class="headerlink" title="åœ¨æ–°æœºå™¨ä¸Šæ¢å¤Hexoåšå®¢"></a>åœ¨æ–°æœºå™¨ä¸Šæ¢å¤Hexoåšå®¢</h2><h3 id="å‡†å¤‡æºæ–‡ä»¶"><a href="#å‡†å¤‡æºæ–‡ä»¶" class="headerlink" title="å‡†å¤‡æºæ–‡ä»¶"></a>å‡†å¤‡æºæ–‡ä»¶</h3><p>å¯ä»¥å¤‡ä»½åˆ°githubæˆ–è€…codingï¼Œæˆ–è€…ä½¿ç”¨äº‘ç›˜åŒæ­¥ï¼ˆä¾‹å¦‚åšæœäº‘ï¼‰ã€‚</p>
<span id="more"></span>



<h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å®‰è£…npm</span></span></span><br><span class="line">sudo apt install npm</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å®‰è£…hexo</span></span></span><br><span class="line">sudo apt install -g hexo-cli</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å…‹éš†æºæ–‡ä»¶</span></span></span><br><span class="line">git clone user@github.com/repo/</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#åœ¨ä»“åº“ä¸­æ·»åŠ SSH key</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å®‰è£…éƒ¨ç½²æ’ä»¶</span></span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#RSSè®¢é˜…æ’ä»¶</span></span></span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#ç«™ç‚¹åœ°å›¾æ’ä»¶</span></span></span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å®‰è£…æœ¬åœ°æœåŠ¡å™¨</span></span></span><br><span class="line">npm install hexo-server --save</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#ç”Ÿæˆindex.htmlæ’ä»¶</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-generator-archive --save</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#æœç´¢åŠŸèƒ½æ’ä»¶</span></span></span><br><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#é¢„è§ˆ</span></span></span><br><span class="line">hexo s</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>



<h3 id="é—®é¢˜æ’æŸ¥"><a href="#é—®é¢˜æ’æŸ¥" class="headerlink" title="é—®é¢˜æ’æŸ¥"></a>é—®é¢˜æ’æŸ¥</h3><p>é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šç”Ÿæˆåè®¿é—® <a href="http://localhost:4000/">http://localhost:4000</a> å‡ºç°ç™½ç‰ˆå’Œâ€Cannot GET /â€œï¼Œâ€/â€œæ˜¯å› ä¸ºåœ¨public ç›®å½•ä¸‹å°‘äº†index.htmlæ–‡ä»¶ï¼Œå†æ¬¡ç”Ÿæˆè¿˜æ˜¯æ— æ•ˆåï¼Œç¡®è®¤æ˜¯å°‘äº†ç»„ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-index</span><br></pre></td></tr></table></figure>

<p>å‚è§ï¼š<a href="https://www.jianshu.com/p/af83fc73e525">ã€å®Œç¾è§£å†³ã€‘Hexoåšå®¢å‡ºç°â€œCannot GET/xxxâ€é”™è¯¯</a></p>
<p>åæ§½ä¸€ä¸‹codingå’Œè…¾è®¯äº‘ä¹‹é—´çš„è´¦å·äº’é€šé—®é¢˜ï¼Œä¸€é˜µçå¼•å¯¼ï¼Œç«Ÿç„¶åˆ›å»ºäº†ä¸€ä¸ªæ–°è´¦å·ï¼Œä»¥å‰çš„é¡¹ç›®æ‰¾ä¸å›æ¥ï¼Œä¸¤ä¸ªç½‘ç«™ä¹‹é—´æ¥å›ç»•äº†å‡ éï¼Œæ— æ„é—´åˆç”¨é‚®ç®±ç™»å½•ä¸Šå»äº†ï¼Œä¹‹å‰éƒ½æ˜¯èƒ½è‡ªåŠ¨è·³è½¬ç™»å½•çš„ï¼Œç°åœ¨è¿˜å’ŒCSDNä¸€æ ·å¼€å§‹æ°çƒ‚é’±ï¼Œå¼ºåˆ¶ç»‘å®šå¾®ä¿¡å’Œæ‰‹æœºå·ï¼Œæ— è¯­ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº mjpg-streamer çš„æ ‘è“æ´¾è§†é¢‘ç›‘æ§</title>
    <url>/2019/08/05/%E5%9F%BA%E4%BA%8E-mjpg-streamer-%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E8%A7%86%E9%A2%91%E7%9B%91%E6%8E%A7/</url>
    <content><![CDATA[<h2 id="åŸºäºmjpg-streamerçš„è§†é¢‘ç›‘æ§"><a href="#åŸºäºmjpg-streamerçš„è§†é¢‘ç›‘æ§" class="headerlink" title="åŸºäºmjpg-streamerçš„è§†é¢‘ç›‘æ§"></a>åŸºäº<strong>mjpg-streamer</strong>çš„è§†é¢‘ç›‘æ§</h2><h3 id="è§†é¢‘ç›‘æ§æ­å»º"><a href="#è§†é¢‘ç›‘æ§æ­å»º" class="headerlink" title="è§†é¢‘ç›‘æ§æ­å»º"></a>è§†é¢‘ç›‘æ§æ­å»º</h3><p>æœ¬æ¥æƒ³ç”¨ python æ¥åšçš„ï¼Œä½†æ˜¯ VLC ä¸²æµä¸çŸ¥é“æ˜¯ä¸æ˜¯è®¾ç½®çš„é—®é¢˜ï¼Œè§†é¢‘é‡‡é›†æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯æ¥æ”¶ç«¯æ¥æ”¶åˆ°çš„è§†é¢‘ä¸€å›¢ç³Šï¼Œåœ¨æ— æ„é—´çŸ¥é“äº† <strong>mjpg-streamer</strong> è¿™ä¸ªé¡¹ç›®ï¼ŒGitHub åœ°å€ï¼š<a href="https://github.com/jacksonliam/mjpg-streamer%E3%80%82">https://github.com/jacksonliam/mjpg-streamerã€‚</a></p>
<span id="more"></span>



<p>å®‰è£…æ–¹æ³•å‚ç…§GitHubï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get install cmake libjpeg8-dev</span><br><span class="line"></span><br><span class="line">sudo apt-get install gcc g++</span><br><span class="line"></span><br><span class="line">cd mjpg-streamer-experimental</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>



<p>å®‰è£…å®Œä¹‹åå°±å¯ä»¥ç›´æ¥å¯åŠ¨äº†ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./mjpg_streamer -o &quot;output_http.so -w ./www&quot; -i &quot;input_raspicam.so&quot;</span><br></pre></td></tr></table></figure>



<p>é»˜è®¤ä½¿ç”¨8080ç«¯å£ï¼Œæµè§ˆå™¨æ‰“å¼€åœ°å€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">http://192.168.0.103:8080/?action=stream</span><br></pre></td></tr></table></figure>

<p>å°±èƒ½å®æ—¶æŸ¥çœ‹æ ‘è“æ´¾æ‘„åƒå¤´é‡‡é›†åˆ°çš„è§†é¢‘ã€‚</p>
<h3 id="å¤–ç½‘è®¿é—®"><a href="#å¤–ç½‘è®¿é—®" class="headerlink" title="å¤–ç½‘è®¿é—®"></a>å¤–ç½‘è®¿é—®</h3><p>åœ¨å±€åŸŸç½‘å†…ï¼Œç›´æ¥è®¿é—®æ ‘è“æ´¾çš„ ip åœ°å€å°±èƒ½æŸ¥çœ‹è§†é¢‘ï¼Œä½†æ˜¯å¦‚æœæƒ³ä»å¤–ç½‘è®¿é—®çš„è¯ï¼Œè¿˜éœ€è¦åšç‚¹æ‰‹è„šã€‚</p>
<p>ä½¿ç”¨ frp åå‘éš§é“è¿›è¡Œå†…ç½‘ç©¿é€ã€‚</p>
<p>å…ˆåˆ†åˆ«åœ¨vps å’Œæ ‘è“æ´¾ä¸Šå®‰è£…frp æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.20.0/frp_0.20.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p>è§£å‹ä¸Šé¢ä¸‹è½½çš„æ–‡ä»¶ã€‚</p>
<p>æœåŠ¡å™¨ç«¯é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿›å»ç›®å½•</span><br><span class="line"></span><br><span class="line">vi  frps.ini</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">bind_port = 7000         # frpä¸å®¢æˆ·ç«¯ç»‘å®šè¿›è¡Œé€šä¿¡çš„ç«¯å£</span><br><span class="line">auto_token = frp7</span><br><span class="line">vhost_http_port = 9000   # http è®¿é—®ç«¯å£</span><br></pre></td></tr></table></figure>



<p>æ ‘è“æ´¾é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.è¿›å»ç›®å½•</span><br><span class="line">2.vi frpc.ini</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr = äº‘æœåŠ¡å™¨çš„IP  Â # frpsæ‰€åœ¨çš„æœåŠ¡å™¨çš„ IP</span><br><span class="line">server_port = 7000Â  Â  Â  Â  Â  Â  Â  Â  Â # frpä¸æœåŠ¡å™¨ç»‘å®šè¿›è¡Œé€šä¿¡çš„ç«¯å£</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 192.168.0.103Â  Â  Â  Â  # Piæ‰€åœ¨å±€åŸŸç½‘IP</span><br><span class="line">local_port = 22Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æœ¬åœ°ç«¯å£</span><br><span class="line">remote_port = 6000Â  Â  Â  Â  Â  Â  Â  Â # sshè¿œç¨‹è®¿é—®ç«¯å£</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_port = 8080Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # web æœåŠ¡å¯¹åº”çš„ç«¯å£â€”â€”mjpg-streameræ‰€éœ€ç«¯å£</span><br><span class="line">custom_domains = äº‘æœåŠ¡å™¨IP Â  # frpsæ‰€åœ¨çš„æœåŠ¡å™¨çš„ IP</span><br></pre></td></tr></table></figure>



<p>ä¾æ¬¡å¯åŠ¨æœåŠ¡å™¨ç«¯çš„ frpï¼Œæ ‘è“æ´¾è§†é¢‘é‡‡é›†ï¼Œæ ‘è“æ´¾ç«¯ frpã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./frps -c ./frps.ini</span><br><span class="line"></span><br><span class="line">./mjpg_streamer -o &quot;output_http.so -w ./www&quot; -i &quot;input_raspicam.so&quot;</span><br><span class="line"></span><br><span class="line">./frpc -c ./frpc.ini</span><br></pre></td></tr></table></figure>



<p>ç„¶åæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š<a href="http://xxx.xxx.xxx.xxx:9000/stream.html">http://xxx.xxx.xxx.xxx:9000/stream.html</a> ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸º VPS åœ¨å›½å¤–çš„åŸå› ï¼Œå»¶è¿Ÿæœ‰3 s è¿™æ ·å­ã€‚ã€‚</p>
<p>æ³¨æ„ï¼š<strong>æ ‘è“æ´¾åªèƒ½è¿è¡Œ arm æ¶æ„çš„ frpï¼ˆ<a href="http://diannaobos.iok.la:81/frp/frp-v0.20.0/frp_0.20.0_linux_arm.tar.gz">æ ‘è“æ´¾frp</a>ï¼‰</strong>ã€‚</p>
<hr>
<p>å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/weixin_40535588/article/details/89296894">åŸºäºæ ‘è“æ´¾+mjpg+frp+é˜¿é‡Œäº‘æœåŠ¡å™¨çš„è¿œç¨‹ç›‘æ§</a></p>
<p><a href="https://www.jianshu.com/p/069c61315e8a">æ ‘è“æ´¾ä¸ŠMJPG-streamerå®‰è£…æ‰‹é¡º</a></p>
]]></content>
      <categories>
        <category>æ ‘è“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤§æ•°æ®å…¥é—¨</title>
    <url>/2021/05/30/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h2 id="Hadoopçš„å®‰è£…å’Œé…ç½®"><a href="#Hadoopçš„å®‰è£…å’Œé…ç½®" class="headerlink" title="Hadoopçš„å®‰è£…å’Œé…ç½®"></a>Hadoopçš„å®‰è£…å’Œé…ç½®</h2><h3 id="Hadoopä¸‹è½½"><a href="#Hadoopä¸‹è½½" class="headerlink" title="Hadoopä¸‹è½½"></a>Hadoopä¸‹è½½</h3><h3 id="Hadoopç¯å¢ƒå˜é‡"><a href="#Hadoopç¯å¢ƒå˜é‡" class="headerlink" title="Hadoopç¯å¢ƒå˜é‡"></a>Hadoopç¯å¢ƒå˜é‡</h3><h3 id="Hadoopå¯åŠ¨å’Œåœæ­¢"><a href="#Hadoopå¯åŠ¨å’Œåœæ­¢" class="headerlink" title="Hadoopå¯åŠ¨å’Œåœæ­¢"></a>Hadoopå¯åŠ¨å’Œåœæ­¢</h3><span id="more"></span>

<h2 id="Hiveçš„å®‰è£…å’Œé…ç½®"><a href="#Hiveçš„å®‰è£…å’Œé…ç½®" class="headerlink" title="Hiveçš„å®‰è£…å’Œé…ç½®"></a>Hiveçš„å®‰è£…å’Œé…ç½®</h2><p>Hive-3.1.2ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼š<a href="https://mirrors.bfsu.edu.cn/apache/hive/hive-3.1.2/apache-hive-3.1.2-bin.tar.gz">apache-hive-3.1.2-bin.tar.gz</a></p>
<p>ä¸‹è½½ä¹‹åè§£å‹å¹¶å¤åˆ¶åˆ° /opt ç›®å½•ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf apache-hive-3.1.2-bin.tar.gz</span><br><span class="line">cp -r apache-hive-3.1.2-bin /opt/hive-3.1.2</span><br><span class="line">sudo chown -R currUser:currUserGroup hive3.1.2</span><br></pre></td></tr></table></figure>

<br>

<p>é…ç½®hiveè·¯å¾„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> HIVE_HOME=/opt/hive-3.1.2</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HIVE_HOME</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<br>

<p>å¯åŠ¨Hiveæ—¶å…ˆå¯åŠ¨Hadoopï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$HADOOP_HOME</span>/bin</span><br><span class="line">start-all.sh</span><br><span class="line"></span><br><span class="line">hive</span><br></pre></td></tr></table></figure>

<br>

<p>é‡åˆ°çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>Hiveå¯åŠ¨æŠ¥é”™ï¼šjava.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument</p>
</blockquote>
<p>å› ä¸º HIVE_HOME/libä¸‹çš„ guava jar åŒ…çš„ç‰ˆæœ¬ä¸ªHADOOP_HOME/share/hadoop/common/libä¸‹çš„ guava åŒ…ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œå…ˆåˆ é™¤å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬æ¯”è¾ƒä½çš„ï¼Œç„¶åå°†å¦ä¸€ä¸ªç›®å½•ä¸‹çš„ guava åŒ…å¤åˆ¶è¿‡å»å°±å¯ä»¥äº†ã€‚</p>
<br>

<blockquote>
<p>Hiveå¯åŠ¨æŠ¥é”™ï¼š Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClientå¼‚å¸¸</p>
</blockquote>
<p>åœ¨ HIVE_HOME/conf ç›®å½•ä¸‹é…ç½® hive-site.xml æ–‡ä»¶ï¼Œå» hive-site.xml è®¾ç½®Derbyæ•°æ®åº“çš„ä½ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.warehouse.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		        <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/hive-3.1.2/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.local<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		        <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:derby:/opt/hive-3.1.2/metastore_db;databaseName=metastore_db;create=true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>/data æ˜¯è‡ªå·±å»ºç«‹çš„æ•°æ®ä»“åº“ç›®å½•ã€‚</p>
<p>ç„¶ååˆ é™¤åŸæ¥çš„metadb schemaï¼Œå†é‡æ–°åˆå§‹åŒ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf <span class="variable">$HIVE_HOME</span>/metastore_db</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$HIVE_HOME</span></span><br><span class="line">schematool -initSchema -dbType derby</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">Initialization script completed</span><br><span class="line">schemaTool completed</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†è¿›å…¥hiveï¼Œæ‰§è¡Œshow databases; å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;name1&#x27;</span> <span class="keyword">and</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¤§æ•°æ®</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹è±¡æ’åºå¹¶å»é‡â€”â€”ä¸€é“ç¬”è¯•é¢˜</title>
    <url>/2020/10/27/%E5%AF%B9%E8%B1%A1%E6%8E%92%E5%BA%8F%E5%B9%B6%E5%8E%BB%E9%87%8D%E2%80%94%E2%80%94%E4%B8%80%E9%81%93%E7%AC%94%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<h2 id="é¢˜ç›®è¦æ±‚"><a href="#é¢˜ç›®è¦æ±‚" class="headerlink" title="é¢˜ç›®è¦æ±‚"></a>é¢˜ç›®è¦æ±‚</h2><p>è¾“å…¥ä¸€è¡Œæ•°æ®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(abc,1),(123,2),(ddd,1),(abc,1)</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€ç»„æ•°æ®(String, int)å½¢å¼ï¼Œå·¦è¾¹ä¸ºå­—ç¬¦ä¸²ï¼Œå³è¾¹ä¸ºä¼˜å…ˆçº§ï¼Œå°†è¿™ä¸€è¡Œæ•°æ®æŒ‰ä¼˜å…ˆçº§ä»å¤§åˆ°å°æ’åˆ—ï¼Œå¹¶ä¸”è¿‡æ»¤æ‰å­—ç¬¦ä¸²ä¸ä¼˜å…ˆçº§ç›¸åŒçš„æ•°æ®ï¼Œ ç›¸åŒä¼˜å…ˆçº§ã€å­—ç¬¦ä¸²ä¸åŒçš„æŒ‰å…ˆåé¡ºåºæ˜¾ç¤ºï¼Œæ’åˆ—åç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(123,2),(abc,1),(ddd,1)</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<br>

<h2 id="åˆ†æé¢˜æ„"><a href="#åˆ†æé¢˜æ„" class="headerlink" title="åˆ†æé¢˜æ„"></a>åˆ†æé¢˜æ„</h2><p>æˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼š</p>
<ol>
<li>ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†å­—ç¬¦ä¸²ä¸­çš„é”®å€¼å¯¹æå–å‡ºæ¥ï¼›</li>
<li>å°†æå–å‡ºæ¥çš„é”®å€¼å¯¹æ”¾åˆ°List&lt;Map&gt;ä¸­ï¼›</li>
<li>éå†Listè¿›è¡Œæ’åºï¼›</li>
</ol>
<p>ä½†æ˜¯çœŸæ­£å¼€å§‹å†™çš„æ—¶å€™ç¬¬ä¸€æ­¥å°±å¡ä½äº†ï¼Œå†™å‡ºæ¥çš„æ­£åˆ™è¡¨è¾¾å¼åªèƒ½æå–æœ€å·¦è¾¹å·¦æ‹¬å·åˆ°æœ€å³è¾¹å³æ‹¬å·çš„å†…å®¹ï¼Œå°±æ˜¯ä¸€æ•´ä¸ªå­—ç¬¦ä¸²å…¨ç»™æå–å‡ºæ¥äº†ï¼Œå¡äº†åŠå°æ—¶æ²¡åŠæ³•ï¼Œæ”¾å¼ƒäº†æ­£åˆ™è¡¨è¾¾å¼çš„åšæ³•ï¼Œæ”¹æˆäº†éå† + split() çš„æ–¹æ³•ã€‚</p>
<p>æ‹†åˆ†ä¹‹åä»”ç»†æƒ³æƒ³ï¼Œå»ºä¸€ä¸ªå®ä½“ç±»å¹¶ä¸”å®ç°Comparableæ¥å£å¥½åƒæ›´ç®€ä¾¿ä¸€äº›ï¼ŒåŒæ—¶é‡å†™ hashCode() æ–¹æ³•å’Œ equals() æ–¹æ³•å†åˆ©ç”¨ Set è¿˜èƒ½è¾¾åˆ°å»é‡çš„æ•ˆæœï¼Œå¯ä»¥æ»¡è¶³é¢˜ç›®çš„è¦æ±‚ã€‚</p>
<br>

<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>æ„Ÿè§‰ä»£ç æœ‰ç‚¹åˆè‡­åˆé•¿ï¼Œæ˜å¤©å†çœ‹ä¸‹ç½‘ä¸Šæœ‰æ²¡æœ‰è¿™ä¸ªé¢˜ç›®ï¼Œçœ‹çœ‹æ›´æ ‡å‡†çš„ç­”æ¡ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> :  zhulongkun20@gmail.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> :  10-27-2020 21:15:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> :  æŒ‰ä¼˜å…ˆçº§æ’åºå¹¶å»é‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> :  v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MediumMain</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">            String line = scanner.nextLine();</span><br><span class="line">            List&lt;Entity&gt; list = sort(line);</span><br><span class="line">            System.out.println(list);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Entity&gt; <span class="title">sort</span><span class="params">(String inputLine)</span> </span>&#123;</span><br><span class="line">        String[] split1 = inputLine.split(<span class="string">&quot;\\),\\(&quot;</span>);</span><br><span class="line">        Set&lt;Entity&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; split1.length; i++) &#123;</span><br><span class="line">            String[] split2 = split1[i].split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            String str;</span><br><span class="line">            <span class="keyword">int</span> priority;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                str = split2[<span class="number">0</span>].substring(<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                str = split2[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i == split1.length - <span class="number">1</span>) &#123;</span><br><span class="line">                priority = Integer.parseInt(split2[<span class="number">1</span>].split(<span class="string">&quot;\\)&quot;</span>)[<span class="number">0</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                priority = Integer.parseInt(split2[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            Entity entity = <span class="keyword">new</span> Entity(str, priority);</span><br><span class="line">            set.add(entity);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Entity&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">        list.sort(Comparator.naturalOrder());</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Entity</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Entity</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String str;</span><br><span class="line">    <span class="keyword">private</span> Integer priority;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Entity</span><span class="params">(String str, Integer priority)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.str = str;</span><br><span class="line">        <span class="keyword">this</span>.priority = priority;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// getter and setter</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str.hashCode() * priority.hashCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Entity) &#123;</span><br><span class="line">            Entity entity = (Entity) obj;</span><br><span class="line">            <span class="keyword">return</span> entity.getPriority() == <span class="keyword">this</span>.getPriority() &amp;&amp; entity.getStr().equals(<span class="keyword">this</span>.getStr());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Entity entity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.getPriority() &gt; entity.getPriority()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.getPriority() &lt; entity.getPriority()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.getStr().compareTo(entity.getStr());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>å°†YouTubeç›´æ’­è½¬æ’­åˆ°bilibiliçš„æƒ³æ³•åŠå°è¯•</title>
    <url>/2019/12/17/%E5%B0%86YouTube%E7%9B%B4%E6%92%AD%E8%BD%AC%E6%92%AD%E5%88%B0bilibili%E7%9A%84%E6%83%B3%E6%B3%95%E5%8F%8A%E5%B0%9D%E8%AF%95/</url>
    <content><![CDATA[<p>å°†YouTubeç›´æ’­è½¬æ’­åˆ°bilibiliçš„æƒ³æ³•åŠå°è¯•</p>
<p>å‘¨æœ«çš„æ—¶å€™æœ¬æ¥åœ¨å­¦ä¹ Swiftçš„ï¼Œä¸ç»æ„é—´æ‰“å¼€Youtubeç›´æ’­ï¼Œçœ‹åˆ° å¤§é˜ªä¼Šä¸¹å›½é™…æœºåœºçš„ live camera ç›´æ’­ï¼Œå‡ºäºå¯¹æ°‘èˆªçš„å…´è¶£ï¼Œè§‰å¾—ç›´æ’­é‡Œçš„é™†ç©ºå¯¹è¯å¯ä»¥å¾ˆå¥½çš„æ‰“å‘æ—¶é—´ï¼Œäºæ˜¯äº§ç”Ÿäº†èƒ½å¦24å°æ—¶å°†Youtubeçš„ç›´æ’­è½¬æ’­åˆ°å¢™å†…çš„ç–‘é—®ï¼Œå¸¦ç€è¿™ä¸ªç–‘é—®æŠ˜è…¾äº†ä¸¤å¤©ã€‚</p>
<span id="more"></span>

<iframe width="560" height="315" src="https://www.youtube.com/embed/pV2RaaoxyF8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<å¤§é˜ªå›½é™…æœºåœºlive cameraå«é™†ç©ºå¯¹è¯>(éœ€è¦æ¢¯å­)



<p>åœ¨å¾€ä¸Šæœäº†ä¸€äº›èµ„æ–™ï¼Œå‘ç°å·²ç»æœ‰å¾ˆå¤šäººå®ç°äº†æˆ‘çš„æƒ³æ³•ï¼Œè€Œä¸”åšæ³•ä¹Ÿè¶…çº§ç®€å•ï¼š</p>
<ul>
<li>YouTube ç›´æ’­åœ°å€</li>
<li>ä¸€ä¸ªæµ·å¤–vps</li>
<li>youtube-dl</li>
<li>ffmpeg</li>
<li>bilibiliç›´æ’­åœ°å€</li>
</ul>
<p>ç”¨youtube-dlè·å–ç›´æ’­m3u8æ–‡ä»¶ï¼Œç„¶åç”¨ffmpegä¸æ–­è¯»å–æµæ•°æ®ï¼Œç„¶åæ¨æµåˆ°bilibiliç›´æ’­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -re -i <span class="string">&quot;<span class="subst">$(youtube-dl -f 95 -g <span class="string">&quot;https://www.youtube.com/watch?v=pV2RaaoxyF8&quot;</span>)</span>&quot;</span> -c:v copy -c:a aac -b:v 5000k -ar 44100 -ab 320k -ac 2 -strict -2 -flags +global_header -bsf:a aac_adtstoasc -bufsize 3000k -f flv <span class="string">&quot;rtmp://txy.live-send.acg.tv/live-txy/?streamname=xxxx&amp;key=yyyy&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç”¨è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥å®ç°ä¸Šé¢çš„åŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨æ“ä½œè¿‡ç¨‹ä¸­ï¼Œæ€»æ˜¯åœ¨å‘é€äº†100å¸§æ•°æ®å·¦å³å¼€å§‹æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[tls @ 0x5566d890ffe0] The TLS connection was non-properly terminated.</span><br><span class="line">[tls @ 0x5566d8fd25a0] The TLS connection was non-properly terminated.</span><br><span class="line">[tls @ 0x5566d8fd25a0] The specified session has been invalidated <span class="keyword">for</span> some reason.</span><br><span class="line"></span><br><span class="line">av_interleaved_write_frame(): Broken pipe</span><br><span class="line">Error writing trailer of rtmp://txy.live-send.acg.tv/live-txy/?streamname=xxxx</span><br><span class="line">[aac @ 0x5566d8cf45e0] Qavg: 65536.000</span><br><span class="line">Conversion failed!</span><br></pre></td></tr></table></figure>



<p>TLSè¿æ¥è¢«å…³é—­ï¼Œåœ¨æœäº†ä¸€å¤§å †èµ„æ–™åæˆ‘ä¾ç„¶æ€€ç–‘æ˜¯youtubeæ²¡æœ‰æ­£ç¡®çš„å…³é—­è¿æ¥ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è¿˜åšäº†å¾ˆå¤šå…¶ä»–çš„éªŒè¯ï¼š</p>
<ul>
<li>å°è¯•åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…ffmpegå¾€bilibiliæ¨æµï¼Œç›´æ’­äº†ä¸€ä¸ªç½‘ä¸Šå°†è¿‘åæ¥ä¸ªå°æ—¶ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</li>
<li>åœ¨é¦™æ¸¯vpsä¸Šå°†ä¸€æ®µå·²ç»ä¸‹è½½å¥½çš„è§†é¢‘æ¨æµåˆ°bilibiliï¼Œæœ‰é—®é¢˜ã€‚</li>
<li>åœ¨ç¾å›½vpsä¸Šå°†ä¸€æ®µå·²ç»ä¸‹è½½å¥½çš„è§†é¢‘æ¨åˆ°bilibiliï¼Œæœ‰é—®é¢˜ã€‚</li>
<li>åœ¨é¦™æ¸¯vpsä¸Šå°†ä¸€æ®µå·²ç»ä¸‹è½½å¥½çš„è§†é¢‘æ¨æµåˆ°YouTubeï¼Œæ²¡æœ‰é—®é¢˜ã€‚</li>
<li>åœ¨ç¾å›½vpsä¸Šå°†ä¸€æ®µå·²ç»ä¸‹è½½å¥½çš„è§†é¢‘æ¨æµåˆ°YouTubeï¼Œæ²¡æœ‰é—®é¢˜ã€‚</li>
<li>åœ¨é¦™æ¸¯å’Œç¾å›½vpsä¸Šæ¢äº†å’Œæ ‘è“æ´¾ç›¸åŒç‰ˆæœ¬çš„v4.1.1 ffmpegé‡å¤ä¸Šè¿°æ“ä½œï¼Œç»“æœä¸å˜ã€‚</li>
</ul>
<p>å°†googleæœç´¢åˆ°çš„ç»“æœå‡ ä¹éƒ½çœ‹äº†ä¸€éï¼Œä¹Ÿæ²¡æ‰¾åˆ°å¤šå°‘æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p>
<p>ä»Šå¤©æ™šä¸Šåœ¨æ€è€ƒå…¶ä»–è§£å†³æ–¹æ¡ˆçš„æ—¶å€™ï¼Œçœ‹åˆ°bilibiliä¸“æ çš„æ–‡ç« ï¼Œå°è¯•äº†ä½œè€…ç”¨javaå†™çš„jaråŒ…ï¼Œä¹ŸæŠ¥ç›¸åŒçš„é”™è¯¯ï¼Œäºæ˜¯è”ç³»äº†ä½œè€…ï¼Œæ‰å¾—çŸ¥ï¼ŒåŸæ¥è¿™ä¸ªæ–¹æ³•å·²ç»å¤±æ•ˆäº†ã€‚</p>
<blockquote>
<p> <strong>è¿™ä¸ªè„šæœ¬æ—©å°±æŠ¥åºŸäº†çš„ï¼Œç°åœ¨Bç«™åªæœ‰å®˜æ–¹pyæˆ–è€…æŠ¥å¤‡äº†çš„æ‰å¯ä»¥ä»æµ·å¤–æ¨ã€‚ç›®å‰è½¬æ’­manå·²ç»å¤±ä¸šï¼Œæœ‰æ›´å¥½è½¬æ’­çš„æ–¹æ¡ˆã€‚çˆ±ä¸½ä¸</strong></p>
</blockquote>
<p>åŸæ¥ä¸Šé¢çš„æŠ¥é”™æ˜¯å› ä¸ºbilibiliææ–­äº†è¿æ¥å¯¼è‡´çš„ã€‚ä¸è¿‡è¿™ä¹Ÿæ‰“æ¶ˆäº†æˆ‘æœ€åˆçš„ç–‘è™‘ï¼šä¾µæƒé—®é¢˜ã€‚</p>
<p>è¿™ä¸ªæƒ³æ³•å¯èƒ½è¦å…ˆæ”¾ä¸€æ®µæ—¶é—´äº†ï¼Œç›®å‰çš„æƒ³æ³•æ˜¯æƒ³å°è¯•ä¸€ä¸‹ç”¨ OpenCV å’Œ ffmpeg èƒ½ä¸èƒ½å®ç°ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰èƒ½é‡æ–°æ¡èµ·æ¥ï¼ˆé€ƒï¼‰ã€‚</p>
]]></content>
      <categories>
        <category>æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>æŠ˜è…¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘åœ¨JavaScriptä¸­è¸©è¿‡çš„å‘</title>
    <url>/2019/05/19/%E6%88%91%E5%9C%A8JavaScript%E4%B8%AD%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<p>æˆ‘åœ¨Javascriptä¸­è¸©è¿‡çš„å‘ï¼</p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ—¶è‡³ä»Šæ—¥ä¹Ÿæ²¡æœ‰ç³»ç»Ÿæ·±å…¥çš„å­¦ä¹ è¿‡JavaScriptï¼Œè™½ç„¶å¸¸ç”¨ï¼Œä½†æ˜¯ä¹Ÿåªåœç•™åœ¨æœ€åŸºç¡€çš„ä½¿ç”¨ä¸Šã€‚æ²¡æœ‰ç³»ç»Ÿæ·±å…¥çš„äº†è§£ï¼Œå¿…ç„¶è¦è¸©ä¸€äº›å‰ç«¯ä¼—æ‰€å‘¨çŸ¥ï¼Œå´è®©å°ç™½ç»å°½è„‘æ±åœ°å¤§å‘ï¼</p>
<p>ä»Šå¤©åˆåœ¨å‘é‡Œæ‘¸äº†ä¸€å¤©ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæƒå½“æ˜¯å†™æ—¥è®°äº†ã€‚</p>
<p>æœ€è¿‘è¿ç»­åŠ ç­ï¼Œç¡®å®æœ‰äº›èº«å¿ƒä¿±ç–²ï¼›åŠ ä¸Šæ˜¨å¤©ä¸‹åˆçš„â€œåˆåå°ç¡â€å¯¼è‡´æ™šä¸Šå¤±çœ ï¼Œåˆ°å¿«å››ç‚¹é’Ÿæ‰ç¡ç€ï¼Œä»Šå¤©æ—©ä¸Šå¿«åç‚¹é’Ÿè¿˜èººåœ¨åºŠä¸Šã€‚</p>
<span id="more"></span>



<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æ­£åœ¨é€›Twitterï¼Œåšæ¯•è®¾åœ°å­¦å¦¹ç»™æˆ‘æäº†ä¸¤ä¸ªéœ€æ±‚ï¼š</p>
<ul>
<li>ç™»é™†é¡µé¢çš„è¡¨å•æ£€éªŒï¼›</li>
<li>æ³¨å†Œé¡µé¢çš„é‡å¤ç”¨æˆ·åæ£€æµ‹ã€‚</li>
</ul>
<h2 id="é—®é¢˜ï¼šä»Ajaxä¸­è¿”å›å€¼"><a href="#é—®é¢˜ï¼šä»Ajaxä¸­è¿”å›å€¼" class="headerlink" title="é—®é¢˜ï¼šä»Ajaxä¸­è¿”å›å€¼"></a>é—®é¢˜ï¼šä»Ajaxä¸­è¿”å›å€¼</h2><p>ç”¨JQuery.validateæ’ä»¶ç»™ç™»é™†è¡¨å•åŠ äº†æ ¡éªŒï¼ŒæŒºç®€å•ï¼ŒåŒæ ·çš„æ–¹æ³•ç»™æ³¨å†Œç•Œé¢åŠ ä¸ªæ ¡éªŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯éœ€è¦ä½¿ç”¨ajaxä»åå°è¯·æ±‚åˆ°ç”¨æˆ·åæ˜¯å¦å·²ç»å­˜åœ¨ï¼Œä¹ŸæŒºç®€å•ã€‚</p>
<p>äºæ˜¯ä¹ï¼Œæœ‰äº†ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// do something</span></span><br><span class="line">$.validator.addMethod(<span class="string">&quot;checkUniqueUsername&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.optional(element) || checkUniqueUsername(value);</span><br><span class="line">&#125;, <span class="string">&quot;ç”¨æˆ·åå·²è¢«å ç”¨ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkUniqueUsername</span>(<span class="params">username</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (username !== <span class="literal">null</span> &amp;&amp; username !== <span class="literal">undefined</span> &amp;&amp; username !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> data = &#123;<span class="string">&#x27;loginname&#x27;</span>: username&#125;;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/checkloginname&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">contentType</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="built_in">parseInt</span>(res.tip) === <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸‰äº”åˆ†é’Ÿï¼Œå°±å†™å®Œäº†ä»£ç ï¼Œè·‘ä¸€è·‘æµ‹ä¸€ä¸‹å‡†å¤‡éªŒæ”¶äº†ã€‚è¯¡å¼‚çš„äº‹æƒ…å‡ºç°äº†ï¼Œ<code>checkUniqueUsername()</code>æ€»æ˜¯è¿”å›falseã€‚</p>
<h2 id="Ajaxä¸­returnçš„ç»“æœ"><a href="#Ajaxä¸­returnçš„ç»“æœ" class="headerlink" title="Ajaxä¸­returnçš„ç»“æœ"></a>Ajaxä¸­returnçš„ç»“æœ</h2><p>æ²¡äº‹ï¼Œé™ä¸‹å¿ƒæ¥æ…¢æ…¢è°ƒï¼Œå°±è¿™å‡ è¡Œä»£ç ï¼Œæ€ä¹ˆè¯´ä¹Ÿè¦ç»™ä½ è°ƒå¾—æ˜æ˜ç™½ç™½çš„ã€‚è°ƒè¯•åå‘ç°<code>parseInt(res.tip)===0</code>æ˜¯trueï¼Œå¯æ˜¯return ä¹‹åå‡½æ•°çš„è¿”å›å€¼æ˜¯falseï¼Œè¿™æ²¡é“ç†å•Šï¼</p>
<p>ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥æ˜¯åœ¨<strong>ajaxä¸­ç›´æ¥returnå¹¶ä¸æ˜¯returnåˆ°å¤–å±‚å‡½æ•°ä¸­</strong>ï¼Œä¸æ·±ç©¶ï¼Œæ”¹ä¸ªå†™æ³•ï¼Œäºæ˜¯æœ‰äº†v2ç‰ˆæœ¬ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// do something</span></span><br><span class="line">$.validator.addMethod(<span class="string">&quot;checkUniqueUsername&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.optional(element) || checkUniqueUsername(value);</span><br><span class="line">&#125;, <span class="string">&quot;ç”¨æˆ·åå·²è¢«å ç”¨ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkUniqueUsername</span>(<span class="params">username</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (username !== <span class="literal">null</span> &amp;&amp; username !== <span class="literal">undefined</span> &amp;&amp; username !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">var</span> data = &#123;<span class="string">&#x27;loginname&#x27;</span>: username&#125;;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/checkloginname&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">contentType</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                result = (<span class="built_in">parseInt</span>(res.tip) === <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œå†ä¹Ÿæƒ³ä¸å‡ºè¿˜èƒ½æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œé‚£å°±è·‘ä¸€ä¸‹å§ã€‚è¯¡å¼‚çš„ç»“æœåˆå‡ºç°äº†ï¼Œå‡½æ•°è¿”å›å€¼ä¾æ—§æ˜¯falseï¼Œå¿ƒæ€å´©äº†ï¼Œè¿™å°±å¥½æ¯” <code>var count = 1; console.log(count);</code>å´è¾“å‡ºäº†2ä¸€æ ·ï¼Œéš¾ä»¥ç½®ä¿¡ï¼</p>
<h2 id="AjaxåŒæ­¥å’Œå¼‚æ­¥"><a href="#AjaxåŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="AjaxåŒæ­¥å’Œå¼‚æ­¥"></a>AjaxåŒæ­¥å’Œå¼‚æ­¥</h2><p>æŸ¥äº†åŠå¤©ï¼Œç»ˆäºçœ‹åˆ°ä¸€ä¸ªç­”æ¡ˆï¼š<strong>ajaxçš„åŒæ­¥å’Œå¼‚æ­¥ã€‚</strong>å¯è°“æ˜¯ä¸€è¯­æƒŠé†’æ¢¦ä¸­äººï¼Œæˆ‘è´£å¤‡è‡ªå·±ä¸ºä»€ä¹ˆè°ƒè¯•äº†è¿™ä¹ˆä¹…ï¼Œå´æ²¡æœ‰æƒ³åˆ°è¿™ä¸ªæ–¹å‘ï¼Œè€Œä¸”åŒæ­¥å¼‚æ­¥çš„å‘å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡è¸©äº†ã€‚v3ç‰ˆæœ¬ç»ˆäºè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¤±ä¹‹æ¯«å˜ï¼Œå·®ä¹‹åƒé‡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// do something</span></span><br><span class="line">$.validator.addMethod(<span class="string">&quot;checkUniqueUsername&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.optional(element) || checkUniqueUsername(value);</span><br><span class="line">&#125;, <span class="string">&quot;ç”¨æˆ·åå·²è¢«å ç”¨ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkUniqueUsername</span>(<span class="params">username</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (username !== <span class="literal">null</span> &amp;&amp; username !== <span class="literal">undefined</span> &amp;&amp; username !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">var</span> data = &#123;<span class="string">&#x27;loginname&#x27;</span>: username&#125;;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/checkloginname&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">contentType</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                result = (<span class="built_in">parseInt</span>(res.tip) === <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æ¯æ¬¡è¿è¡Œæ§åˆ¶å°éƒ½ä¼šå‡ºç°JQueryçš„æç¤ºï¼š<strong>ä½¿ç”¨åŒæ­¥ä¼šé™ä½ç”¨æˆ·ä½“éªŒ</strong>ï¼Œæ€»å½’æ˜¯æœ‰ä¸ªè§£å†³åŠæ³•ï¼Œæœ‰æ—¶é—´å†æ·±ç©¶ä¸€ä¸‹å§ã€‚</p>
<h2 id="JavaScriptæµ®ç‚¹è¿ç®—"><a href="#JavaScriptæµ®ç‚¹è¿ç®—" class="headerlink" title="JavaScriptæµ®ç‚¹è¿ç®—"></a>JavaScriptæµ®ç‚¹è¿ç®—</h2><p>ä»Šå¤©çš„ç»å†è®©æˆ‘å›æƒ³èµ·äº†å»å¹´é‡åˆ°çš„ä¸€ä¸ªJavaScriptçš„é—®é¢˜ï¼Œå½“æ—¶åœ¨åšä¸€ä¸ªç°é‡‘æµç®¡ç†ç³»ç»Ÿï¼Œé‡åˆ°ä¸€ä¸ªéœ€æ±‚æ˜¯æ ¹æ®å›ºå®šåˆ©æ¯å’Œæµ®åŠ¨åˆ©æ¯è‡ªåŠ¨è®¡ç®—å‡ºæœ€ç»ˆåˆ©æ¯ï¼Œéšä¾¿è¾“äº†å‡ ç»„æ•°æ®æµ‹è¯•ï¼Œæ²¡æœ‰å‡ºç°å¼‚æ ·ï¼Œä½†æ˜¯æœ€åä¸€ç»„æ•°æ®çš„æ—¶å€™å‡ºç°äº†è¯¡å¼‚çš„ç»“æœï¼<code>4.1 + 4.3 =Â 8.399999999999999</code>ï¼Œè¿™çœŸæ˜¯è§äº†é¬¼äº†ã€‚ã€‚å¾ˆä¹…ä¹‹å‰å­¦è¿‡çš„çŸ¥è¯†è¿™åˆ†é’Ÿå“ªé‡Œå›æƒ³å¾—èµ·æ¥ã€‚ä¸Šç½‘æŸ¥äº†æ‰å‘ç°åŸæ¥æ˜¯JavaScriptçš„è®¾è®¡ç¼ºé™·å¯¼è‡´çš„é—®é¢˜ï¼Œä¹Ÿéƒ½æå‡ºäº†å‡ ç§è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>å¹³æ—¶ç”¨Javaä¹ æƒ¯äº†ï¼Œæ€ç»´æ–¹å¼æœ‰äº›ä¸çµæ´»ï¼Œä»å¯¹Pythonçš„ç†è§£ä¸­ä¹Ÿèƒ½çœ‹å‡ºæ¥ã€‚</p>
<p>æ€»ä¹‹ï¼Œé‡åˆ°é—®é¢˜ï¼Œè¦å‘æ•£æ€ç»´ï¼Œå°½é‡å¿«é€Ÿçš„å»ç¡®å®šè°ƒæŸ¥çš„æ–¹å‘ï¼Œæœ€ç»ˆå°½å¿«çš„è§£å†³é—®é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>æš‚æ—¶å®‰å®šä¸‹æ¥</title>
    <url>/2020/10/15/%E6%9A%82%E6%97%B6%E5%AE%89%E5%AE%9A%E4%B8%8B%E6%9D%A5/</url>
    <content><![CDATA[<p>ä»ä¹æœˆåå…­å·ä»ç¦å»ºä¸‰æ˜å‡ºæ¥ï¼Œåˆ°ä»Šå¤©æ­£å¥½ä¸€ä¸ªæœˆçš„æ—¶é—´ã€‚è¿™æ®µæ—¶é—´æ¯å¤©éƒ½åœ¨å¤–é¢æµæµªï¼ŒèƒŒç€ä¸ªåŒ…ã€æ‹–ç€ä¸ªè¡Œæç®±ï¼Œå±…æ— å®šæ‰€ã€æƒ³åˆ°å“ªå„¿å°±å»å“ªå„¿ï¼Œå»äº†æ˜†æ˜ã€æˆéƒ½ã€å¹¿å·ã€è´µé˜³ï¼Œæœ¬æ¥æƒ³å»å¼ å®¶ç•Œæ¥ç€ï¼Œä½†æ˜¯å› ä¸ºä¸­é€”é‡åˆ°äº†åˆä¸­åŒå­¦ï¼Œåˆåˆšå¥½èµ¶ä¸Šå›½åº†ï¼Œå°±ä½œç½¢äº†ã€‚æœ‹å‹è¯´æˆ‘çœŸè‡ªåœ¨ï¼Œæ˜¯ä¸æ˜¯æ‰“ç®—è¦ç¯æ¸¸ä¸­å›½äº†ã€‚ä½†æ˜¯è¿™å…¶ä¸­çš„æ»‹å‘³ï¼Œææ€•åªæœ‰è‡ªå·±äº²è‡ªå»ä½“éªŒæ‰èƒ½æ„Ÿå—åˆ°äº†ã€‚</p>
<span id="more"></span>

<p>ä¹‹å‰åœ¨å¹¿å·å¬ä¸­ä»‹è¯´å¸ƒå‰è¿™è¾¹æˆ¿å­ä¾¿å®œï¼Œæ˜¨å¤©åœ¨è¿™å„¿ç§Ÿäº†ä¸ªæˆ¿å­ï¼Œè¿™è¾¹æˆ¿ä»·çœŸæ˜¯æ‰¿å—ä¸èµ·ï¼Œä¸å¤§ç‚¹åœ°æ–¹ï¼Œå´å·®ä¸å¤šè®©æˆ‘æç©ºè…°åŒ…ã€‚è¿™æˆ¿å­é‡Œåº”è¯¥æ˜¯è¿˜ä½äº†ä¸‰ä¸ªäººï¼Œä»Šå¤©æœ‰ä¸€ä¸ªæ²¡å»ä¸Šç­ï¼Œä¸­åˆåœ¨å¨æˆ¿ç…®é¢ï¼Œç…åˆ°ä¸€çœ¼ã€‚åº”è¯¥æ‰“ä¸ªæ‹›å‘¼çš„ï¼Œä½†æ˜¯æƒ³åˆ°ä¹Ÿä¸é•¿ä½ï¼Œä»¥åä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆäº¤é›†ï¼Œç®—äº†ã€‚</p>
<p>ä¸€ä¸ªä¹‹å‰å…³ç³»å¾ˆå¥½çš„åŒå­¦åœ¨è¿™è¾¹å·¥ä½œï¼Œå»å¹´æƒ³æ¢å·¥ä½œçš„æ—¶å€™æ›¾ç»è”ç³»è¿‡ï¼Œåº”è¯¥è¯·äººå®¶åƒä¸ªé¥­çš„ï¼Œä½†æ˜¯ç°åœ¨è¿™å¤„å¢ƒä¸æ˜¯å¾ˆå¥½æ„æ€ï¼Œå…ˆç­‰ç­‰å§ï¼Œå®‰å®šä¸‹æ¥å†è”ç³»å§ã€‚</p>
<p>æ˜¨å¤©æ™šä¸Šå¸®ä¸€ä¸ªç½‘å‹æ­åšå®¢ï¼Œæ— æ„é—´åœ¨è´´å§é‡Œçœ‹åˆ°ä¸€ä½åŒå±Šå¹¶ä¸”å³å°†æ¯•ä¸šçš„åŒ–å·¥ç ”ä¸‰æ ¡å‹è‡ªæ€äº†ï¼Œå¿ƒé‡Œå—åˆ°ç‚¹åˆºæ¿€ã€‚å†æ€ä¹ˆæ ·æ¯•ä¸šäº†è¿˜èƒ½æ‰¾ä¸ªä¸é”™çš„å·¥ä½œï¼Œæˆ–è€…è€ƒä¸ªå…¬åŠ¡å‘˜åšä¸ªäººä¸Šäººï¼Œå¹´çºªè½»è½»å‰é€”å…‰æ˜ï¼Œå´åœ¨è¿™æ—¶å€™é€‰æ‹©äº†remakeã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘å‘¢ï¼Ÿæ¯•ä¸šä¸¤å¹´ä¸€äº‹æ— æˆï¼Œæˆ‘æ‰æ˜¯ä¸ªçœŸçœŸæ­£æ­£çš„FWï¼Œè™½ç„¶ä¹Ÿæ—¶å¸¸æœ‰è¿™ç§æƒ³æ³•ï¼Œä½†æ˜¯æƒ³åˆ°å®¶äººå°±è§‰å¾—å³ä¾¿æ˜¯æ··åƒç­‰æ­»ä¹Ÿè¦å¥½å¥½æ´»ç€ï¼Œæˆ‘ä»¬çš„ç”Ÿå‘½ä¸ä»…æ˜¯è‡ªå·±çš„ï¼Œä¹Ÿæ˜¯äº²äººçš„ã€‚å¯èƒ½è‡ªå·±ç¡®å®æ˜¯è§£è„±äº†ï¼Œç•™ä¸ªäº²äººæœ‹å‹çš„åªæœ‰æ‚²ç—›ã€‚æˆ‘ä½©æœä»–çš„å‹‡æ°”ï¼Œä½†æ˜¯æ„Ÿè§‰ä»–åªæ˜¯ä¸€æ—¶æ²¡æƒ³é€šï¼Œé’»ç‰›è§’å°–äº†ï¼Œå¦‚æœå½“æ—¶èƒ½æœ‰ä¸ªäººå’Œä»–æ²Ÿé€šäº¤æµä¸€ä¸‹ï¼Œå°±ä¸ä¼šå‘ç”Ÿè¿™æ ·çš„æ‚²å‰§ã€‚</p>
<p>åœ¨å¾ˆå¤šåŸå¸‚éƒ½çœ‹åˆ°è·¯è¾¹çš„å®£ä¼ æ ‡è¯­ï¼šå­¦ä¼šè‡ªå·±è§£å‹ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œè¿˜æ˜¯å¤šé€›é€›å•æ‰€å§ï¼Œæœ‰æ—¶å€™è§‰å¾—çœŸçš„åšæŒä¸ä¸‹å»äº†ï¼Œå»å•æ‰€å’Œè›†å®å®ä»¬å˜´è‡­å‡ å¥ï¼Œçœ‹çœ‹å¤§å®¶çš„æ•…äº‹ä¼šï¼Œä¸€ä¸‹å¿ƒæ€å°±è½¬å˜è¿‡æ¥äº†ï¼Œå‡ éæ˜¯æ´»æˆäº†åƒåœ¾å †é‡Œçš„ä¸€åªè€é¼ ï¼Œä¹Ÿä¸è¦æƒ³ç€remakeï¼Œä¹Ÿè¦ç¬‘ç€æ´»ä¸‹å»ã€‚</p>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›´æ¢ä¸ƒç‰›äº‘è¿‡æœŸSSLè¯ä¹¦</title>
    <url>/2019/11/10/%E6%9B%B4%E6%8D%A2%E4%B8%83%E7%89%9B%E4%BA%91%E8%BF%87%E6%9C%9FSSL%E8%AF%81%E4%B9%A6/</url>
    <content><![CDATA[<p>æ›´æ¢ä¸ƒç‰›äº‘è¿‡æœŸSSLè¯ä¹¦</p>
<p>è½¬çœ¼åšå®¢å·²ç»è·‘äº†ä¸€å¹´äº†ï¼Œæœ€è¿‘åˆæ˜¯åŸŸååˆ°æœŸã€åˆæ˜¯SSLè¯ä¹¦åˆ°æœŸã€‚</p>
<p>åˆšç»™åŸŸåç»­äº†5å¹´çš„è´¹ï¼Œå­˜å‚¨åœ¨ä¸ƒç‰›äº‘çš„å›¾ç‰‡å› ä¸ºSSLè¯ä¹¦åˆ°æœŸåŠ è½½ä¸å‡ºæ¥äº†ã€‚æç¤ºâ€œå­˜åœ¨éšç§å®‰å…¨éšæ‚£â€ï¼Œé€šè¿‡å›¾ç‰‡å¤–é“¾è®¿é—®ä¹Ÿæ— æ³•åŠ è½½å›¾ç‰‡ï¼ŒChromeç›´æ¥æ‹’ç»è¿æ¥ã€‚</p>
<p>ä¸€å¹´å‰é…ç½®çš„ï¼Œæµç¨‹æœ‰äº›å¿˜äº†ï¼Œä»Šå¤©æ™šä¸Šåˆæ‘¸ç´¢äº†ä¸€éã€‚</p>
<span id="more"></span>



<h2 id="ä¸ƒç‰›äº‘ç”³è¯·è¯ä¹¦"><a href="#ä¸ƒç‰›äº‘ç”³è¯·è¯ä¹¦" class="headerlink" title="ä¸ƒç‰›äº‘ç”³è¯·è¯ä¹¦"></a>ä¸ƒç‰›äº‘ç”³è¯·è¯ä¹¦</h2><p>æ®è¯´ä¸ƒç‰›äº‘ä¸æ”¯æŒé˜¿é‡Œäº‘ç”³è¯·çš„è¯ä¹¦ï¼Œæ‰€ä»¥æ²¡åœ¨é˜¿é‡Œäº‘ç”³è¯·ï¼Œç›´æ¥åœ¨ä¸ƒç‰›äº‘ç”³è¯·äº†TrustAisaçš„ä¸€å¹´å…è´¹è¯ä¹¦ã€‚</p>
<p>å…·ä½“æµç¨‹ï¼š</p>
<p>ç™»å½•ä¸ƒç‰›äº‘ &gt; SSLè¯ä¹¦æœåŠ¡ &gt; è´­ä¹°è¯ä¹¦ &gt; å¡«å†™å¿…è¦ä¿¡æ¯è´­ä¹°æŒ‡å‘ç›®æ ‡åŸŸåçš„è¯ä¹¦ï¼ˆé€‰æ‹©TrustAsiaå…è´¹è¯ä¹¦ï¼ŒéªŒè¯æ–¹å¼é€‰æ‹©DNSéªŒè¯ï¼Œä¸ªäººä¿¡æ¯å¯ä»¥éšä¾¿å¡«ï¼Œè²Œä¼¼ä¸éœ€è¦éªŒè¯ï¼‰</p>
<h2 id="æ·»åŠ åŸŸåéªŒè¯"><a href="#æ·»åŠ åŸŸåéªŒè¯" class="headerlink" title="æ·»åŠ åŸŸåéªŒè¯"></a>æ·»åŠ åŸŸåéªŒè¯</h2><p>åˆ°åŸŸåè§£æé‡Œæ·»åŠ å¯¹åº”çš„TEXTç±»å‹çš„è®°å½•ï¼Œè®°å½•å€¼ä¸ºç”³è¯·è¯ä¹¦æ—¶æŒ‡å®šçš„å€¼ã€‚æˆ‘ç›´æ¥å°†ä»¥å‰çš„å€¼å˜æ›´æˆäº†æ–°çš„å€¼ã€‚</p>
<h2 id="åº”ç”¨SSLè¯ä¹¦"><a href="#åº”ç”¨SSLè¯ä¹¦" class="headerlink" title="åº”ç”¨SSLè¯ä¹¦"></a>åº”ç”¨SSLè¯ä¹¦</h2><p>å¤§æ¦‚ååˆ†é’Ÿå·¦å³è¯ä¹¦ç­¾å‘æˆåŠŸåï¼Œåˆ° å¯¹è±¡å­˜å‚¨ &gt; åŸŸåç®¡ç† &gt; é…ç½® &gt; HTTPS é…ç½® &gt; å¼ºåˆ¶ HTTPS &gt; å¯æ›´æ¢è¯ä¹¦åˆ—è¡¨é‡Œé€‰æ‹©åˆšæ‰ç”³è¯·çš„è¯ä¹¦ï¼Œç„¶ååº”ç”¨ã€‚ç­‰å¾…å‡ åˆ†é’Ÿä¹‹åï¼Œä¾¿èƒ½é€šè¿‡HTTPSè®¿é—®å­˜å‚¨å†…å®¹äº†ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢ç»´æŠ¤</category>
      </categories>
      <tags>
        <tag>åšå®¢ç»´æŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›´æ”¹DNSä¸º8.8.8.8è®¿é—®cn.bing.com</title>
    <url>/2019/01/24/%E6%9B%B4%E6%94%B9DNS%E4%B8%BA8-8-8-8%E8%AE%BF%E9%97%AEcn-bing-com/</url>
    <content><![CDATA[<p>æ˜¨å¤©æ—©ä¸Šå¼€å§‹ <a href="https://cn.bing.com/">https://cn.bing.com</a> å°±æ— æ³•è®¿é—®ï¼š</p>
<p>ä»Šå¤©æ™šä¸Šæƒ³å» <a href="https://weibo.com/bingisfordoing">Bingæœç´¢å¾®åš</a> äº†è§£ä¸€ä¸‹æƒ…å†µï¼Œpingäº†ä¸€ä¸‹ï¼ŒDNSéƒ½æ˜¯127.0.0.1ï¼Œå°†DNSæ”¹ä¸º8.8.8.8è¿˜èƒ½æ­£å¸¸è®¿é—®ã€‚æ®è¯´å½“å¹´Googleå¼€å§‹ä¹Ÿæ˜¯å‡ºç°DNSæ±¡æŸ“ï¼Œåæ¥æ‰ç¦»å¼€å¤§é™†çš„ï¼Œæƒ³æƒ³Bingä¹Ÿæ²¡æœ‰äº†ï¼Œæ¯å¤©åªèƒ½åœ¨ç™¾åº¦çœ‹ç™¾å®¶å·é‚£äº›åŠ£è´¨å†…å®¹å°±è§‰å¾—å¯æ€•ã€‚</p>
<span id="more"></span>



<p>ä»å»å¹´å¼€å§‹å°±æ²¡ç”¨ç™¾åº¦æœç´¢äº†ï¼Œé™¤äº†CSDNï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿè¢«å¹¿å‘Šæ·¹æ²¡äº†ï¼‰è¿˜æœ‰ç‚¹æœ‰ç”¨çš„ä¸œè¥¿ã€‚å‰ä¸¤å¤©æœç‚¹ä¸œè¥¿ï¼Œå‘ç°ä¸å¤ªå¯¹ï¼Œå¥½åƒæ‰€æœ‰çš„ç»“æœé¡µé¢é£æ ¼éƒ½å·®ä¸å¤šï¼Œè¿‡ä¸¤å¤©æ‰çœ‹åˆ°åŸŸåï¼Œç»™æˆ‘å“åˆ°äº†ï¼Œå‰å‡ é¡µå…¨æ˜¯ <strong>baijiahao.baidu.com</strong> çš„æ–‡ç« ã€‚ç»™è‡ªå·±å®¶äº§å“å¼•æµæ— å¯åšéï¼Œä½†æ˜¯åšåˆ°è¿™ç§ç¨‹åº¦è¿˜èƒ½ç®—æ˜¯ä¸€ä¸ªæœç´¢å¼•æ“å—ï¼Ÿè€Œä¸”å¥½å¤šæ–‡ç« éƒ½æ˜¯æ–‡ä¸å¯¹é¢˜ï¼Œå¯èƒ½éƒ½æ²¡æœ‰å®¡æ ¸ã€‚æœ€ä»¤äººæ¶å¿ƒçš„æ˜¯ç«Ÿç„¶éƒ½æ²¡æœ‰è¯„è®ºåŠŸèƒ½ï¼Œå¯èƒ½ç™¾åº¦ä¹Ÿè§‰å¾—è¿™äº›ä½è´¨é‡å†…å®¹å¼€æ”¾è¯„è®ºä¼šè¢«å–·å¾—ä½“æ— å®Œè‚¤å§ã€‚ã€‚ã€‚</p>
<p>é‚£æ—¶å€™è¿˜æ²¡æƒ³åˆ°æ˜¯ç™¾åº¦æçš„å¯¼æµï¼Œè¿˜ç‰¹æ„å»æŸ¥äº†å„ç§ç™¾åº¦è°·æ­Œé«˜çº§æœç´¢çš„èµ„æ–™å­¦ä¹ äº†ä¸€ä¸‹ï¼ŒæŠ˜è…¾ä¸€ç•ªä½†æ˜¯æ”¶æ•ˆç”šå¾®ã€‚</p>
<p>æƒ³çœ‹çœ‹å¤§å®¶å¯¹ç™¾åº¦æœç´¢çš„çœ‹æ³•ï¼Œçœ‹åˆ°ä¸€ç¯‡å¾ˆç«çš„æ–‡ç« ï¼š<a href="https://www.huxiu.com/article/282406.html">ç™¾åº¦æœç´¢å¼•æ“å·²æ­»</a> ï¼Œ æ–‡ç« ä¸¾äº†å‡ ä¸ªä¾‹å­ï¼Œæœç„¶å…¨æ˜¯ç™¾å®¶å·çš„æ¶å¿ƒå†…å®¹ã€‚</p>
<p><img src="http://i2.chinanews.com/simg/cmshd/2019/01/24/f6c14493849a45ee99d6bb64c583098a.jpg" alt="ç™¾åº¦å·²æ­»"></p>
<p><img src="https://img.huxiucdn.com/article/content/201901/22/225013242046.jpg?imageView2/2/w/1000/format/jpg/interlace/1/q/85" alt="ç™¾åº¦æœç´¢ç»“æœ"></p>
<p>æ²¡æœ‰ç«äº‰å¯¹æ‰‹ï¼Œæ‰èƒ½ä¸ºæ‰€æ¬²ä¸ºå§ã€‚</p>
<p>å¼•ç”¨åŸæ–‡ä¸­å¾—ä¸€å¥è¯ï¼š<strong>å†™åˆ°è¿™é‡Œï¼Œå¾ˆæ˜¯æ‚²å“€ï¼šåŒå¤§çš„ä¸­æ–‡äº’è”ç½‘ç«Ÿå·²å •è½åˆ°å¦‚æ­¤å¢ƒåœ°ï¼Œè¿ä¸€ä¸ªæœç´¢å¼•æ“éƒ½æ²¡æœ‰äº†ã€‚</strong></p>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€è¿‘å‡é‡å¿ƒå¾—</title>
    <url>/2021/03/11/%E6%9C%80%E8%BF%91%E5%87%8F%E9%87%8D%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<h2 id="ä½“é‡æš´å¢"><a href="#ä½“é‡æš´å¢" class="headerlink" title="ä½“é‡æš´å¢"></a>ä½“é‡æš´å¢</h2><p>é‰´äºå»å¹´å¹´åº•çš„ä¸¤ä¸‰ä¸ªæœˆåœ¨é¥®é£Ÿæ–¹é¢æœ‰ç‚¹ä¸è§„å¾‹ï¼Œå¯¼è‡´ä»åä¸€æœˆä»½åˆ°ä»Šå¹´ä¸€æœˆä»½ä½“é‡ä»55kgä¸€ä¸‹æ¶¨åˆ°äº†æ¥è¿‘59kgï¼Œåˆ›ä¸‹äº†ä½“é‡è®°å½•çš„æ–°é«˜ã€‚å‰ä¸¤å¤©å›å»ç¿»äº†19å¹´çš„ä½“é‡è®°å½•ï¼Œå› ä¸ºé‚£æ—¶å€™å…¶å®ä¹Ÿä¹°äº†ä¸€ä¸ªä½“é‡ç§°ï¼Œæ¯å¤©å…³æ³¨ä½“é‡çš„ï¼Œå‘ç°é‚£æ—¶å€™æˆ‘çš„ä½“é‡ç«Ÿç„¶æ‰53kgï¼Œè¿™å‡ ä¸ªæœˆé•¿äº†5kgå·¦å³ï¼Œå› ä¸ºåƒå¾—å¤šè¿˜æ²¡æœ‰è¿åŠ¨ï¼Œé‚£æ®µæ—¶é—´åŠ ç­ä¹Ÿæ˜¯æ¯å¤©å¾ˆæ™šæ‰åƒé¥­ã€‚<span id="more"></span></p>
<p><img src="https://images2.imgbox.com/b3/1e/ODamB6aP_o.png" alt="å¾ˆä¹…ä¹‹å‰çš„ä½“é‡è®°å½•"></p>
<p>ä¸€ç›´éƒ½å¯¹ä½“é‡æ¯”è¾ƒæ•æ„Ÿï¼Œæ¯å¤©åœ¨åœ°é“ç«™é‡Œçœ‹åˆ°é‚£äº›æŒºç€ä¸ªå¤§è‚šå­çš„ä¸­å¹´æ²¹è…»ç”·æ€»æ˜¯ä¸€è„¸é„™è§†ï¼ŒçœŸä¸çŸ¥é“ä»–ä»¬ä¸ºä»€ä¹ˆèƒ½å¿å—é‚£æ ·çš„è‡ªå·±ã€‚</p>
<br>

<h2 id="ä¸å¯åŸè°…çš„æ²¹è…»"><a href="#ä¸å¯åŸè°…çš„æ²¹è…»" class="headerlink" title="ä¸å¯åŸè°…çš„æ²¹è…»"></a>ä¸å¯åŸè°…çš„æ²¹è…»</h2><p>ä¸€ç›´å¾ˆåæ„Ÿé‚£äº›ä¸­å¹´æ²¹è…»ç”·ï¼Œå…¶å®ç”Ÿæ´»å†è‰°éš¾ï¼Œä¹Ÿæ€»æ˜¯èƒ½æŒ¤å‡ºç‚¹æ—¶é—´æ¥æ‰“ç†è‡ªå·±çš„ã€‚ä»äºŒæœˆåˆå¼€å§‹è·‘æ­¥æ§åˆ¶ä½“é‡ä¹‹åï¼Œæ›´åŠ è§‰å¾—ï¼Œæ‰€æœ‰è‚¥èƒ–çš„äººéƒ½æ€ªä»–ä»¬è‡ªå·±ï¼Œè¦ä¹ˆå°±æ˜¯æŠµä¸ä½ç¾é£Ÿçš„è¯±æƒ‘ã€è¦ä¹ˆå°±æ˜¯å¿å—ä¸äº†è¿åŠ¨çš„ç…ç†¬ï¼Œå®æ„¿æ¯å¤©æ‹–ç€è‚¥èƒ–çš„èº«ä½“ä¹Ÿä¸æ„¿èŠ‚é£Ÿè¿åŠ¨ã€‚å‰ä¸¤ä¸ªå‘¨æœ«ï¼Œå› ä¸ºæ™šä¸Šä¸‹é›¨æ²¡å»è·‘æ­¥ï¼Œæ­£å¥½èµ¶ä¸Šå‘¨äº”æ™šä¸Šï¼Œå°±æ”¾æ¾ä¸€ä¸‹å»äº†å°åŒºé—¨å£çš„æ±‰å ¡ç‹ï¼Œçœ‹åˆ°ä½“é‡ä¸¥é‡è¶…æ ‡çš„ä¸€ç”·ä¸€å¥³ï¼Œå½“æ—¶å°±æƒ³ç€ï¼Œè¦æ˜¯æˆ‘æ˜¯è¿™ä¸ªä½“é‡çš„è¯ï¼Œåƒç±³é¥­éƒ½ä¼šæœ‰ç½ªæ¶æ„Ÿçš„ï¼Œæ›´åˆ«ææ±‰å ¡å¯ä¹ç‚¸é¸¡è¿™æ ·çš„é«˜çƒ­é‡é£Ÿç‰©äº†ã€‚</p>
<br>

<h2 id="èŠ‚é£Ÿ-è¿åŠ¨"><a href="#èŠ‚é£Ÿ-è¿åŠ¨" class="headerlink" title="èŠ‚é£Ÿ+è¿åŠ¨"></a>èŠ‚é£Ÿ+è¿åŠ¨</h2><p>ä»2æœˆä»½å¼€å§‹æ¯å¤©éª‘å•è½¦+è·‘æ­¥ï¼Œå¹³å‡æ¯å¤©ä¸€ä¸ªå°æ—¶çš„é”»ç‚¼æ—¶é—´ã€‚é™¤äº†è¿‡å¹´ä¸­æ–­ä¹‹å¤–ï¼Œè¿˜åšæŒäº†ä¸€æ®µæ—¶é—´ï¼Œä¸è¿‡æ•ˆæœä¸æ˜æ˜¾ï¼Œåˆ°äº†57.30kgå°±å‡ä¸ä¸‹å»äº†ï¼Œé‚£æ®µæ—¶é—´è¿˜åšæŒä¸åƒæ—©é¤å’Œæ™šé¤ï¼Œä¸­åˆä¹Ÿåªæ˜¯6.5ä¸€ä»½çš„åˆ€å‰Šé¢ã€‚</p>
<p><img src="https://images2.imgbox.com/3b/67/ZOomPKd1_o.png" alt="2æœˆè¿åŠ¨è®°å½•"></p>
<p>åè€Œæ˜¯è¿›å…¥3æœˆä»½ä¹‹åï¼Œå·²ç»è¿ç»­ä¸€ä¸ªæ˜ŸæœŸæ²¡æœ‰å»è¿åŠ¨äº†ï¼Œåˆé¤å’Œæ™šé¤ä¹Ÿæ­£å¸¸åƒäº†ï¼Œåªæ˜¯æ—©é¤è¿˜æ˜¯ç»§ç»­æ²¡æœ‰ï¼Œæ˜¨å¤©æ™šä¸Šä½“é‡ç«Ÿç„¶ä¸‹é™åˆ°äº†57.15kgï¼Œä»Šå¤©æ™šä¸Šæ›´æ˜¯åªæœ‰56.70kgï¼Œä¸€ä¸‹å­åˆæœ‰åŠ¨åŠ›äº†ã€‚æ˜¨å¤©æ²¡åƒæ—©é¤å’Œåˆé¥­ï¼Œä»Šå¤©æ™šä¸Šæ²¡åƒæ—©é¤å’Œæ™šé¥­ï¼Œå›æ¥å°±åƒäº†ä¸€ä¸ªæ©˜å­ã€‚æ™šä¸Šå»äº†ç›Šç”°å‡æ—¥å¹¿åœºï¼Œæœ¬æ¥æƒ³å»çœ‹çœ‹13å¯¸çš„MacBook Proï¼Œèµ°è¿‡ç¾é£ŸåŒºçš„æ—¶å€™ï¼ŒçœŸçš„å¥½é¥¿ï¼Œè¿˜æ˜¯å¿ä½äº†æ²¡å»åƒã€‚ï¼ˆ13å¯¸çš„MacBook Proçš„å±å¹•è¿˜æ˜¯æœ‰ç‚¹å°ï¼Œåœ¨ä¾¿æºæ€§å’Œå±å¹•å¤§å°ä¹‹é—´çº ç»“ï¼Œå¥½åƒ2020æ¬¾çš„é”®ç›˜æ‰‹æ„Ÿä¹Ÿä¸å¦‚2015æ¬¾è¿™ä¹ˆå¥½ï¼ŒçŠ¹è±«è¦ä¸è¦ä¹°ï¼‰ã€‚</p>
<p><img src="https://images2.imgbox.com/c4/10/Xl9Jo2Va_o.png" alt="æœ€è¿‘çš„ä½“é‡"></p>
<p>ä»Šå¤©åˆé‡æ–°åˆ†æ´¾äº†å¼€å‘ä»»åŠ¡ï¼Œå‘¨å¤©å°±è¦ç§»äº¤ï¼Œå‘¨æœ«åº”è¯¥è¦åŠ ç­ï¼Œè¿™ä¸¤å¤©éƒ½ä¼šå¾ˆå¿™ï¼Œæš‚æ—¶å†³å®šæ˜å¤©æ™šä¸Šå¼€å§‹è·‘æ­¥ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰æ—¶é—´å»ï¼Œå¯èƒ½ä¼šåŠ ç­åˆ°å¾ˆæ™šã€‚</p>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€è¿‘å­¦åˆ°çš„IDEAä½¿ç”¨æŠ€å·§</title>
    <url>/2021/02/05/%E6%9C%80%E8%BF%91%E5%AD%A6%E5%88%B0%E7%9A%84IDEA%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p>æ˜¨å¤©æ™šä¸ŠåŠ ç­åˆ°å‡Œæ™¨3ç‚¹ï¼Œå’Œå‰è¾ˆä¸€èµ·æ”¹ä¸€æ®µä»£ç ï¼Œä»£ç æäº¤å®Œï¼Œåœ¨ç­‰æµ‹è¯•çš„æ—¶å€™ï¼Œå’Œå‰è¾ˆäº¤æµäº†ä¸€ä¸‹IDEAçš„ä½¿ç”¨æŠ€å·§ï¼Œå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚ä¸Šæ¬¡æœ‰è¿™ç§æ„Ÿè§‰è¿˜æ˜¯å®ä¹ çš„æ—¶å€™ï¼Œé‚£æ—¶å€™å­¦ä¼šäº†å¾ˆå¤šSublimeçš„å°æŠ€å·§ã€‚</p>
<ul>
<li>MyBatisXæ’ä»¶ï¼Œç›´æ¥æŸ¥çœ‹MyBatiså¯¹åº”çš„SQLï¼Œè‡ªå¸¦MapperGeneratoræ’ä»¶</li>
<li>Ctrl+Shift+F æŸ¥æ‰¾æ‰€æœ‰</li>
<li>Ctrl+Shfit+R æ›¿æ¢æ‰€æœ‰</li>
<li>RestfulToolæ’ä»¶ç›´æ¥å‘æ¥å£å‘é€è¯·æ±‚ã€‚</li>
<li>Ctrl+QæŸ¥çœ‹Javaæ–‡æ¡£æ³¨é‡Šï¼ŒæŸ¥çœ‹è¡¨ä¿¡æ¯å¹¶æŸ¥çœ‹å‰åæ¡æ•°æ®</li>
<li>Ctrl+Shfit+ä¸Š/ä¸‹ï¼šä¸Šä¸‹ç§»åŠ¨ä¸€è¡Œä»£ç </li>
<li>å¤šä½¿ç”¨IDEAè‡ªå¸¦çš„Databaseæ’ä»¶ï¼Œå¯ä»¥å¤šä¸ªSQLè„šæœ¬ä¸€é”®æ‰§è¡Œï¼ŒSQLå­—æ®µæç¤ºã€‚</li>
<li>å¤šä½¿ç”¨IDEAé›†æˆçš„gitå’ŒSVNæ’ä»¶ï¼Œæ–¹ä¾¿æŸ¥çœ‹ä»£ç å˜æ›´ã€‚</li>
</ul>
<p>æ‰ä¸€ä¸ªä¸åˆ°10ä¸‡äººä½¿ç”¨çš„ç³»ç»Ÿï¼Œå°±å‡ºç°äº†å¾ˆå¤šæ€§èƒ½é—®é¢˜ï¼Œç¬¬ä¸€æ¬¡åœ¨å·¥ä½œä¸­æ¥è§¦åˆ°æ€§èƒ½é—®é¢˜ã€‚æ¯ä¸ªSQLï¼Œæ¯ä¸ªå¾ªç¯ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¼å…¥å¯¼å‡ºï¼Œä¸€ä¸å°å¿ƒå°±ä¼šè¶…æ—¶å‡ºç°æ•°æ®æäº¤å¤±è´¥çš„æƒ…å†µã€‚å¤§é‡ä¼˜åŒ–ä»£ç é€»è¾‘ï¼Œä¼˜åŒ–SQLæ‰§è¡Œæ•ˆç‡ï¼ŒåŒæ­¥æ”¹å¼‚æ­¥ï¼Œå¤šçº¿ç¨‹ï¼Œå‰ç«¯å°½å¯èƒ½å°‘æäº¤æ•°æ®ï¼Œä¸€æ™šä¸Šå¿™å¾—æ™•å¤´è½¬å‘ã€‚è™½ç„¶è¿™ä¸¤ä¸ªæ˜ŸæœŸæ¯å¤©æ™šä¸Šæåˆ°å¾ˆæ™šï¼Œèº«å¿ƒç–²æƒ«ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰æ‰€æ”¶è·ï¼ŒçœŸåˆ‡çš„ä½“ä¼šåˆ°äº†å†™é«˜è´¨é‡ä»£ç çš„å¿…è¦æ€§ã€‚</p>
<p>æ˜¨å¤©ä¸Šåˆå› ä¸ºä¸€æ¡SQLé‡ŒåŠ äº†é€’å½’ï¼Œå¤§é‡æ•°æ®å¯¼è‡´æŸ¥è¯¢æ•ˆç‡ä½ä¸‹ï¼Œæµé‡é«˜å³°çš„æ—¶å€™ç³»ç»Ÿç›´æ¥æŒ‚äº†ï¼Œç„¶ååˆå‘ç´§æ€¥ç‰ˆæœ¬ä¿®å¤ã€‚ä¹‹å‰ä»æœªä½¿ç”¨è¿‡Oracleæ•°æ®åº“ï¼Œå¾ˆå¤šè¯­æ³•ä¸æ‡‚ï¼Œå€Ÿæ­¤æœºä¼šï¼Œæ­£å¥½å¯ä»¥å­¦ä¹ ä¸€ä¸‹Oracleã€‚</p>
]]></content>
      <categories>
        <category>IDEA</category>
      </categories>
      <tags>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>æœåŠ¡æ— æ³•æ³¨å†Œåˆ°Eurekaæ³¨å†Œä¸­å¿ƒ</title>
    <url>/2020/11/22/%E6%9C%8D%E5%8A%A1%E6%97%A0%E6%B3%95%E6%B3%A8%E5%86%8C%E5%88%B0Eureka/</url>
    <content><![CDATA[<p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šeurekaå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ­£å¸¸å¯åŠ¨ï¼Œæ§åˆ¶å°ä¹Ÿæ²¡æœ‰ä»»ä½•é”™è¯¯ï¼Œå¹¶ä¸”å®¢æˆ·ç«¯éƒ½å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œæ²¡æœ‰ä»€ä¹ˆæŠ¥é”™ä¿¡æ¯ï¼Œä½†æ˜¯æ— æ³•æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒï¼Œå†ä¸‰æ£€æŸ¥ä¹Ÿæ²¡å‘ç°é…ç½®æœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p>
<span id="more"></span>

<br>

<h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># eureka serverçš„é…ç½®</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">fetchRegistry:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">registerWithEureka:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">serviceUrl:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka-service</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯çš„é…ç½®</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8001</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">cloud-payment-service</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">registerWithEureka:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">fetchRegistry:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">serviceUrl:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8000/eureka</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<p>æ³¨å†Œä¸­å¿ƒæ˜¾ç¤ºï¼šNo instances availableã€‚</p>
<p><img src="https://images2.imgbox.com/58/86/iqhoWfeW_o.png"></p>
<br>

<p>ä»”ç»†çœ‹å¯åŠ¨æ—¥å¿—ï¼ŒæœåŠ¡ç«¯æœ‰æ³¨å†Œæ—¥å¿—ï¼Œä½†æ˜¯å®¢æˆ·ç«¯å¯åŠ¨æ—¥å¿—æ²¡æœ‰ã€‚</p>
<p><img src="https://images2.imgbox.com/79/53/TWHAQpgc_o.png"></p>
<br>

<h2 id="é”™è¯¯çš„Mavenä¾èµ–"><a href="#é”™è¯¯çš„Mavenä¾èµ–" class="headerlink" title="é”™è¯¯çš„Mavenä¾èµ–"></a>é”™è¯¯çš„Mavenä¾èµ–</h2><p>æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œå‘ç°ä¸€èˆ¬éƒ½æ˜¯å¯åŠ¨é˜¶æ®µç›´æ¥æŠ¥é”™çš„ï¼Œå¯ä»¥æ ¹æ®æŠ¥é”™ä¿¡æ¯æ’æŸ¥ã€‚</p>
<p>çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://ask.csdn.net/questions/752782">spring-cloudï¼Œeurekaå®¢æˆ·ç«¯æ³¨å†Œæ²¡æœ‰ä»»ä½•å“åº”</a> ï¼Œç‚¹è¿›å»ç„ä¸€çœ¼ï¼Œåœ¨ç»“å°¾çœ‹åˆ°æè¿°è·Ÿæˆ‘çš„é—®é¢˜ä¸€æ ·ï¼š<em>æˆ‘çš„æä¾›è€…æ— æ³•å®Œæˆæ³¨å†Œï¼Œæ—¥å¿—æ²¡æœ‰ä»»ä½•æ³¨å†Œç›¸å…³çš„æ¶ˆæ¯ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å¼‚å¸¸æ‰“å°ã€‚</em>  </p>
<p><img src="https://images2.imgbox.com/52/21/fqco8f2G_o.png"></p>
<p>ç¬¬ä¸€æ—¶é—´æŸ¥çœ‹Mavenä¾èµ–ï¼Œå‘ç°é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>æ­£ç¡®çš„ä¾èµ–æ˜¯ï¼š<code>spring-cloud-starter-netflix-eureka-client</code> ï¼Œè€Œä¸æ˜¯ <code>spring-cloud-netflix-eureka-client</code> ã€‚</p>
<p><img src="https://images2.imgbox.com/9f/a7/Mn5cqj4b_o.png"></p>
<br>

<h2 id="æ­£ç¡®å¯åŠ¨"><a href="#æ­£ç¡®å¯åŠ¨" class="headerlink" title="æ­£ç¡®å¯åŠ¨"></a>æ­£ç¡®å¯åŠ¨</h2><p>æ”¹å®Œpomæ–‡ä»¶ï¼Œreimportç›¸å…³ä¾èµ–ï¼Œé‡æ–°å¯åŠ¨å®¢æˆ·ç«¯ï¼Œä¸€åˆ‡æ­£å¸¸äº†ã€‚</p>
<p><img src="https://images2.imgbox.com/e8/e5/9bGjR7aG_o.png"></p>
<p><img src="https://images2.imgbox.com/9f/85/9ZTtdwRa_o.png"></p>
]]></content>
      <categories>
        <category>SpringCloud</category>
        <category>åˆ†å¸ƒå¼</category>
        <category>å¾®æœåŠ¡</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾å®‰è£…OpenCV-Python</title>
    <url>/2019/11/10/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85OpenCV-Python/</url>
    <content><![CDATA[<p>ä¹‹å‰åœ¨MacOSä¸Šå®‰è£…OpenCVè¿˜æ¯”è¾ƒé¡ºåˆ©ï¼Œç›´æ¥åœ¨PyCharmé‡Œç”¨pipå®‰è£…å°±æˆåŠŸäº†ã€‚ä½†æ˜¯åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…OpenCVä¸€ç›´ä¾èµ–å…³ç³»çš„é”™ã€‚æœ€ç»ˆåœ¨é‡æ–°å®‰è£…å®ŒRaspberry OSä¹‹åï¼Œç”¨æ¸…åçš„æºå®‰è£…æˆåŠŸäº†ã€‚</p>
<span id="more"></span>



<h2 id="æ›´æ¢æ¸…åæº"><a href="#æ›´æ¢æ¸…åæº" class="headerlink" title="æ›´æ¢æ¸…åæº"></a>æ›´æ¢æ¸…åæº</h2><p>å®˜æ–¹èµ„æ–™ï¼š<a href="https://mirror.tuna.tsinghua.edu.cn/help/raspbian/">Raspbian é•œåƒä½¿ç”¨å¸®åŠ©</a></p>
<p>è®¾ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘ `/etc/apt/sources.list` æ–‡ä»¶ï¼Œåˆ é™¤åŸæ–‡ä»¶æ‰€æœ‰å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘ `/etc/apt/sources.list.d/raspi.list` æ–‡ä»¶ï¼Œåˆ é™¤åŸæ–‡ä»¶æ‰€æœ‰å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="å®‰è£…OpenCV-Python"><a href="#å®‰è£…OpenCV-Python" class="headerlink" title="å®‰è£…OpenCV-Python"></a>å®‰è£…OpenCV-Python</h2><p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å¿…è¦è½¯ä»¶</span></span><br><span class="line">sudo apt-get install -y libjasper-dev libqtgui4 libqt4-test</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…OpenCV</span></span><br><span class="line">sudo apt install python-opencv</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3b+æ›´æ¢ä¸ºå›½å†…æºçš„è¯å¤§æ¦‚ä¸€ä¸¤åˆ†é’Ÿï¼Œå°±å®‰è£…å®Œæˆäº†ã€‚</p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>åˆ©ç”¨OpenCVæ‰“å¼€æ‘„åƒå¤´ï¼Œå¹¶è¯»å–è§†é¢‘æ•°æ®æ˜¾ç¤ºå‡ºæ¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># !/usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_ coding:utf-8 _*_</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> cap.isOpened():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;camera is still closed.&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> cap.isOpened():</span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:</span><br><span class="line">        cv2.imshow(<span class="string">&#x27;Frame&#x27;</span>, frame)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">25</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å¦‚æœæ˜¯åˆ©ç”¨ç»ˆç«¯å‘½ä»¤é€šè¿‡sshè¿œç¨‹æ‰§è¡Œçš„è¯ï¼Œä¼šå‡ºé”™ï¼šcannot open displayï¼Œå› ä¸ºsshæ— æ³•æ‰“å¼€çª—å£ï¼Œåœ¨æ ‘è“æ´¾ç»ˆç«¯æ‰§è¡Œä¸ä¼šæŠ¥é”™ã€‚</p>
]]></content>
      <categories>
        <category>OpenCV</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾é€šè¿‡æ— åˆ·ç”µè°ƒé©±åŠ¨æ— åˆ·ç”µæœº</title>
    <url>/2020/01/05/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%80%9A%E8%BF%87%E6%97%A0%E5%88%B7%E7%94%B5%E8%B0%83%E9%A9%B1%E5%8A%A8%E6%97%A0%E5%88%B7%E7%94%B5%E6%9C%BA/</url>
    <content><![CDATA[<p>ä»Šå¤©å°è¯•äº†ä½¿ç”¨æ— åˆ·ç”µè°ƒæ¥é©±åŠ¨æ— åˆ·ç”µæœºï¼Œä½†æ˜¯åˆšå¼€å§‹é‡åˆ°ç‚¹é—®é¢˜ï¼Œæ²¡ç†è§£ç½‘ä¸Šçš„åšæ–‡ï¼Œè¿˜å¥½æ¿å­æ²¡è¢«çƒ§æ‰ğŸ’¦</p>
<p><a href="https://blog.csdn.net/qf0129/article/details/70769054">æ ‘è“æ´¾pwmæ§åˆ¶æ— åˆ·ç”µæœº</a></p>
<span id="more"></span>

<h2 id="è¿çº¿"><a href="#è¿çº¿" class="headerlink" title="è¿çº¿"></a>è¿çº¿</h2><p>åˆšå¼€å§‹äº†å¡åœ¨äº†è¿çº¿è¿™é‡Œï¼Œç”µè°ƒæœ‰ä¸¤æ ¹ç”µæºçº¿ï¼Œè¿æ¥12Vç”µæºï¼Œå…¶ä¸­ä¸‰æ ¹çº¿è¿æ¥æ ‘è“æ´¾ï¼Œ<strong>å¦‚æœæ ‘è“æ´¾ç‹¬ç«‹ä¾›ç”µçš„è¯ï¼Œç”µè°ƒåªéœ€è¦å°†ä¿¡å·æ§åˆ¶çº¿å’Œåœ°çº¿è¿æ¥åˆ°æ ‘è“æ´¾çš„GPIOå£å’ŒGNDå£</strong>ã€‚</p>
<p>æˆ‘åˆšå¼€å§‹è¿é”™äº†ï¼Œæ ‘è“æ´¾ç‹¬ç«‹ä¾›ç”µçš„åŒæ—¶ï¼Œå°†ç”µè°ƒçš„5Vè¾“å‡ºç«¯å’ŒGNDçº¿éƒ½è¿æ¥åˆ°äº†æ ‘è“æ´¾ä¸Šï¼Œæ¿å­çªç„¶è‡ªå·±å¼€æœºäº†ï¼Œæ‰æ„è¯†åˆ°æ¥é”™äº†ã€‚åæ¥æƒ³ç€ä¸éœ€è¦ç”µè°ƒè¾“å‡ºçš„ç”µå‹ï¼Œæ‰€ä»¥åªæ¥äº†ä¿¡å·æ§åˆ¶çº¿ï¼Œ5Vè¾“å‡ºå’ŒGNDéƒ½æ²¡æ¥ï¼Œç¨‹åºè·‘äº†ä½†æ˜¯ç”µæœºæ²¡è½¬åŠ¨ï¼Œä¹Ÿæ²¡ä¿¡å·å£°éŸ³ã€‚çœ‹äº† <a href="https://www.cnblogs.com/raffeale/p/5585757.html">æŠ˜è…¾äº†2ä¸ªæ™šä¸Šæ— åˆ·ç”µè°ƒ(ESC)ï¼Œç”µæœºç»ˆäºè½¬èµ·æ¥äº†ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹</a> æ‰æ„è¯†åˆ°ç”µè°ƒçš„GNDçº¿æ˜¯ä¸€å®šè¦æ¥åˆ°æ ‘è“æ´¾çš„GNDå£çš„ï¼Œç„¶åç”µæœºå°±åŠ¨äº†ã€‚</p>
<p>è¿æ¥å›¾ï¼š</p>
<p><img src="https://images2.imgbox.com/ae/6d/bJjjdFRf_o.png" alt="è¿æ¥å›¾"></p>
<p><em>ä¸Šé¢çš„å›¾ä¸­ç”µè°ƒçš„è¾“å…¥ç”µå‹åº”è¯¥æ˜¯12Vï¼Œå¯ä»¥ç”¨4èŠ‚5å·ç”µæ± ä¸²è”ã€‚</em></p>
<h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><p>è¿æ¥å¥½ä¹‹åï¼Œç»™æ ‘è“æ´¾é€šç”µï¼Œæ¥é€šç”µè°ƒè¿æ¥çš„ç”µæºï¼Œç„¶åç”¨RPi.GPIO.PWM()æ§åˆ¶ç”µæœºçš„è½¬é€Ÿã€‚</p>
<p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># !/usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_ coding:utf-8 _*_</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pin = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line">GPIO.setup(pin, GPIO.OUT)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢‘ç‡400Hz</span></span><br><span class="line">p = GPIO.PWM(pin, <span class="number">400</span>)</span><br><span class="line">p.start(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">dc = <span class="number">10</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">40</span>):</span><br><span class="line">        dc += <span class="number">2</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;dc:&#x27;</span>, dc</span><br><span class="line">        p.ChangeDutyCycle(dc)</span><br><span class="line">        time.sleep(<span class="number">0.3</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    p.stop()</span><br><span class="line">    GPIO.cleanup()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ ‘è“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾é©±åŠ¨4ä½æ•°ç ç®¡</title>
    <url>/2020/01/04/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%A9%B1%E5%8A%A84%E4%BD%8D%E6%95%B0%E7%A0%81%E7%AE%A1/</url>
    <content><![CDATA[<p>å¬æ­Œï¼š<a href="http://url.cn/5vzNt1p">å®‡å®™ã‚’è¦‹ä¸Šã’ã¦</a> ï¼ˆåŠ¨ç”»ã€Šæ¯”å®‡å®™æ›´è¿œçš„åœ°æ–¹ã€‹æ’å…¥æ›²ï¼‰</p>
<p>ç»è¿‡ä¸Šä¸ªå‘¨æœ«ä»¥åŠå…ƒæ—¦ä¸€å¤©çš„åŠªåŠ›ï¼Œæ‰‹é‡Œçš„webé¡¹ç›®ä¹Ÿè¿‡åŠäº†ï¼Œäºæ˜¯é™†ç»­å‡†å¤‡äº†è®¸å¤šææ–™æ‰“ç®—å¼€å§‹åšåŸºäºæ ‘è“æ´¾å’ŒOpenCVçš„è‡ªä¸»å¯»è¿¹å°è½¦ã€‚æ­£å¥½ä»Šå¤©å‘¨å…­æ•°ç æ˜¾ç¤ºç®¡åˆ°äº†ï¼Œäºæ˜¯æƒ³å…ˆæ‘¸ç´¢ç€ç‚¹äº®çœ‹çœ‹ï¼Œä¹‹å‰ä¹Ÿæ²¡æè¿‡ã€‚å¾€ä¸Šèµ„æ–™ä¸æ˜¯å¾ˆè¯¦ç»†ï¼ŒèŠ±äº†ä¸¤ä¸‰ä¸ªå°æ—¶æ‰ææ˜ç™½ï¼Œè®°å½•ä¸€ä¸‹å¤‡å¿˜ã€‚</p>
<span id="more"></span>

<br>

<h2 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h2><ul>
<li>æ ‘è“æ´¾ï¼ˆ3b+ï¼‰</li>
<li>4ä½æ•°ç æ˜¾ç¤ºç®¡</li>
<li>Tå‹æ‰©å±•æ¿ï¼ˆéå¿…éœ€ï¼‰</li>
<li>12æ ¹æ¯å¯¹æ¯æœé‚¦çº¿</li>
</ul>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><a href="https://www.kawabangga.com/posts/1408">æ ‘è“æ´¾æ§åˆ¶3641BSæ•°ç ç®¡æ˜¾ç¤ºæ•°å­—</a></p>
<p>å…ƒä»¶ç”µè·¯å›¾ï¼š</p>
<p><img src="https://www.kawabangga.com/wp-content/uploads/2015/10/7segLed.gif" alt="4ä½æ•°ç ç®¡ç”µè·¯åŸç†å›¾"></p>
<p>æˆ‘è‡ªå·±ä¹°çš„å…±é˜´æçš„ã€‚</p>
<p>å¼•è„šï¼š</p>
<p><img src="https://www.kawabangga.com/wp-content/uploads/2015/10/3461.jpg"></p>
<p>å¼•è„šç¼–å·ä»ä¸‹å¾€ä¸Šï¼Œä»å·¦å¾€å³ç„¶åå†ä»å³å¾€å·¦ã€‚</p>
<p>å…¶ä¸­ 12 å·å¼•è„šæ§åˆ¶ç¬¬ä¸€ä¸ªæ•°å­—çš„æ˜¾ç¤ºï¼Œç„¶å 9 -&gt; 2ï¼Œ8 -&gt; 3ï¼Œ6 -&gt; 4ã€‚</p>
<h2 id="æ¥çº¿"><a href="#æ¥çº¿" class="headerlink" title="æ¥çº¿"></a>æ¥çº¿</h2><p>åœ¨æ¥çº¿è¿™å„¿çŠ¹è±«äº†ä¸€ä¼šå„¿ï¼Œå› ä¸ºæ‹…å¿ƒæ¥çº¿æ¥é”™äº†å¯èƒ½ä¼šç›´æ¥çƒ§æ¯æ•°ç æ˜¾ç¤ºå™¨å’Œæ ‘è“æ´¾ï¼Œå¾€ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°è¯¦ç»†çš„çº¿è·¯å›¾ã€‚åæ¥çœ‹äº†ç”µè·¯å›¾åç›´æ¥å°†æ‰€æœ‰å¼•è„šç”¨æ¯å¯¹æ¯æœé‚¦çº¿æ¥åˆ°äº†GPIOå£ã€‚æ¥å®Œäº†äº†ä¹‹ååªæµ‹è¯•äº†ä¸€ä¸ªæ•°å­—çš„æ˜¾ç¤ºï¼Œç¡®è®¤æ˜¾ç¤ºæ­£å¸¸å€¼åæ‰å¼€å§‹å†™ä»£ç ã€‚</p>
<p>åœ¨æˆ‘çš„3b+ Tå‹æ‰©å±•æ¿ä¸Šï¼ˆç”¨çš„BCMç¼–ç æ–¹å¼ï¼‰ï¼Œè¿çº¿æ˜¯è¿™æ ·çš„ï¼š</p>
<table>
<thead>
<tr>
<th>æ ‘è“æ´¾å¼•è„šï¼ˆBCMï¼‰</th>
<th>æ•°ç æ˜¾ç¤ºå™¨å¼•è„š</th>
</tr>
</thead>
<tbody><tr>
<td>G18</td>
<td>11</td>
</tr>
<tr>
<td>G19</td>
<td>7</td>
</tr>
<tr>
<td>G20</td>
<td>4</td>
</tr>
<tr>
<td>G21</td>
<td>2</td>
</tr>
<tr>
<td>G22</td>
<td>1</td>
</tr>
<tr>
<td>G23</td>
<td>10</td>
</tr>
<tr>
<td>G24</td>
<td>5</td>
</tr>
<tr>
<td>G25</td>
<td>3</td>
</tr>
<tr>
<td>G13</td>
<td>12</td>
</tr>
<tr>
<td>G16</td>
<td>9</td>
</tr>
<tr>
<td>G17</td>
<td>8</td>
</tr>
<tr>
<td>G26</td>
<td>6</td>
</tr>
</tbody></table>
<h2 id="æ˜¾ç¤ºå½“å‰æ—¶é—´çš„ä»£ç "><a href="#æ˜¾ç¤ºå½“å‰æ—¶é—´çš„ä»£ç " class="headerlink" title="æ˜¾ç¤ºå½“å‰æ—¶é—´çš„ä»£ç "></a>æ˜¾ç¤ºå½“å‰æ—¶é—´çš„ä»£ç </h2><p>ä»£ç æ˜¯ä»è¿™é‡Œæ¬è¿‡æ¥çš„ï¼Œä½†æ˜¯æˆ‘æŠŠæ—¶é—´æ”¹æˆäº†å°æ—¶+åˆ†é’Ÿçš„å½¢å¼ï¼Œç„¶åè¿™æ®µä»£ç æœ‰äº›bugï¼Œåšäº†ä¸€äº›ä¿®æ”¹ã€‚</p>
<p><a href="https://www.kawabangga.com/posts/1408">æ ‘è“æ´¾æ§åˆ¶3641BSæ•°ç ç®¡æ˜¾ç¤ºæ•°å­—</a></p>
<p>æœ€åä¿®æ­£åçš„ä»£ç å¦‚ä¸‹ï¼Œå°†é«˜ç”µä½å’Œä½ç”µä½è¿›è¡Œäº†åè½¬ï¼›åœ¨Ln157åˆ°Ln176è¡Œå¢åŠ äº†æ˜¾ç¤º1, 2, 3, 4å…¶ä¸­ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå°†å…¶ä»–ä¸‰ä¸ªæ•°å­—é€‰æ‹©ç½®äºé«˜ç”µå¹³ï¼Œæ˜¯é«˜ç”µä½å“¦ï¼›åœ¨ç¨‹åºé€€å‡ºæ—¶å¢åŠ äº†RPi.GPIO.cleanup()ï¼Œé¿å…ç¨‹åºé€€å‡ºæ•°ç ç®¡ä¾ç„¶æ˜¾ç¤ºã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># !/usr/bin/bin/env python</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># mapping LED to GPIO</span></span><br><span class="line">LED_A = <span class="number">18</span> <span class="comment"># 11</span></span><br><span class="line">LED_B = <span class="number">19</span> <span class="comment"># 7</span></span><br><span class="line">LED_C = <span class="number">20</span> <span class="comment"># 4</span></span><br><span class="line">LED_D = <span class="number">21</span> <span class="comment"># 2</span></span><br><span class="line">LED_E = <span class="number">22</span> <span class="comment"># 1</span></span><br><span class="line">LED_F = <span class="number">23</span> <span class="comment"># 10</span></span><br><span class="line">LED_G = <span class="number">24</span> <span class="comment"># 5</span></span><br><span class="line">LED_DP = <span class="number">25</span> <span class="comment"># 3</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># mapping public GPIO</span></span><br><span class="line">DIGIT1 = <span class="number">13</span> <span class="comment"># 12</span></span><br><span class="line">DIGIT2 = <span class="number">16</span> <span class="comment"># 9</span></span><br><span class="line">DIGIT3 = <span class="number">17</span> <span class="comment"># 8</span></span><br><span class="line">DIGIT4 = <span class="number">26</span> <span class="comment"># 6</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#sleep time - loop displey</span></span><br><span class="line">t=<span class="number">0.001</span></span><br><span class="line"> </span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line"> </span><br><span class="line">GPIO.setup(LED_A, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_B, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_C, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_D, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_E, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_F, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_G, GPIO.OUT)</span><br><span class="line">GPIO.setup(LED_DP, GPIO.OUT)</span><br><span class="line">GPIO.setup(DIGIT1, GPIO.OUT)</span><br><span class="line">GPIO.setup(DIGIT2, GPIO.OUT)</span><br><span class="line">GPIO.setup(DIGIT3, GPIO.OUT)</span><br><span class="line">GPIO.setup(DIGIT4, GPIO.OUT)</span><br><span class="line"> </span><br><span class="line">GPIO.output(DIGIT1, <span class="literal">True</span>)</span><br><span class="line">GPIO.output(DIGIT2, <span class="literal">True</span>)</span><br><span class="line">GPIO.output(DIGIT3, <span class="literal">True</span>)</span><br><span class="line">GPIO.output(DIGIT4, <span class="literal">True</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showDigit</span>(<span class="params">no, num, showDotPoint=<span class="literal">False</span></span>):</span></span><br><span class="line"></span><br><span class="line">    GPIO.setup(LED_A, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_B, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_C, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_D, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_E, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_F, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_G, <span class="literal">False</span>)</span><br><span class="line">    GPIO.setup(LED_DP, <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    GPIO.output(DIGIT1, <span class="literal">False</span>)</span><br><span class="line">    GPIO.output(DIGIT2, <span class="literal">False</span>)</span><br><span class="line">    GPIO.output(DIGIT3, <span class="literal">False</span>)</span><br><span class="line">    GPIO.output(DIGIT4, <span class="literal">False</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">1</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">2</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">3</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">4</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">5</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">6</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">7</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">8</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line">    <span class="keyword">elif</span> (num == <span class="number">9</span>) :</span><br><span class="line">        GPIO.output(LED_A, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_B, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_C, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_D, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_E, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(LED_F, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_G, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(LED_DP, showDotPoint)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (no == <span class="number">1</span>) :</span><br><span class="line">        GPIO.output(DIGIT1, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(DIGIT2, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT3, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT4, <span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">elif</span> (no == <span class="number">2</span>) :</span><br><span class="line">        GPIO.output(DIGIT1, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT2, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(DIGIT3, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT4, <span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">elif</span> (no == <span class="number">3</span>) :</span><br><span class="line">        GPIO.output(DIGIT1, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT2, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT3, <span class="literal">False</span>)</span><br><span class="line">        GPIO.output(DIGIT4, <span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        GPIO.output(DIGIT1, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT2, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT3, <span class="literal">True</span>)</span><br><span class="line">        GPIO.output(DIGIT4, <span class="literal">False</span>)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>():</span></span><br><span class="line">	<span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	    now = time.localtime(time.time())</span><br><span class="line">        time.sleep(t)</span><br><span class="line">        showDigit(<span class="number">1</span>, <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%H&quot;</span>, now)) / <span class="number">10</span>, <span class="literal">False</span>)</span><br><span class="line">        time.sleep(t)</span><br><span class="line">        showDigit(<span class="number">2</span>, <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%H&quot;</span>, now)) % <span class="number">10</span>, <span class="literal">True</span>)</span><br><span class="line">        time.sleep(t)</span><br><span class="line">        showDigit(<span class="number">3</span>, <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%M&quot;</span>, now)) / <span class="number">10</span>, <span class="literal">False</span>)</span><br><span class="line">        time.sleep(t)</span><br><span class="line">        showDigit(<span class="number">4</span>, <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%M&quot;</span>, now)) % <span class="number">10</span>, <span class="literal">False</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	display_time()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">	GPIO.cleanup()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h2><p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://images2.imgbox.com/d8/19/mHf8LGzs_o.png"></p>
<p>å¯èƒ½æ˜¯äºŒæç®¡ä½™è¾‰çš„åŸå› ï¼Ÿæ¯ä¸ªæ•°å­—æ˜¾ç¤ºå¾—éƒ½å¾ˆä¸çº¯å‡€ï¼Œæš‚æ—¶å…ˆè¿™æ ·å§ã€‚</p>
]]></content>
      <categories>
        <category>æ ‘è“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±ç”°æ­å­çš„æ—¥å‰§è·‘</title>
    <url>/2018/12/02/%E6%B7%B1%E7%94%B0%E6%81%AD%E5%AD%90%E7%9A%84%E6%97%A5%E5%89%A7%E8%B7%91/</url>
    <content><![CDATA[<p>æ·±ç”°æ­å­çš„æ—¥å‰§è·‘â€”Bilibili</p>
<iframe src="//player.bilibili.com/player.html?aid=9855476&cid=16293423&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height="470px" width="700px"> </iframe>



<iframe src="//player.bilibili.com/player.html?aid=9921445&cid=16402294&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height="470px" width="700px"> </iframe>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¡é…¸ç”˜æ²¹ç‚¸è¯çš„åˆ¶ä½œ</title>
    <url>/2019/10/27/%E7%A1%9D%E9%85%B8%E7%94%98%E6%B2%B9%E7%82%B8%E8%8D%AF%E7%9A%84%E5%88%B6%E4%BD%9C/</url>
    <content><![CDATA[<p>ç‚¸å¼¹â€‹ ğŸ’£ åˆ¶ä½œä»å…¥é—¨åˆ°å…¥åœŸ ğŸ‘»</p>
<blockquote>
<p>åœ¨ YouTube ä¸Šçœ‹åˆ°äº†â€œå›å½¢é’ˆğŸ“â€çš„â€œåŸå­å¼¹åˆ¶ä½œæ•™ç¨‹â€ï¼Œæ„Ÿè§‰æ˜¯ä¸€ä¸ªæé«˜åŠ¨æ‰‹èƒ½åŠ›çš„é¡¹ç›®ï¼Œå°½ç®¡åŸç†å’Œæµç¨‹éƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯ææ–™å’Œè®¾å¤‡ä¸æ˜“å¾—ã€‚äºæ˜¯æƒ³å…ˆä»æ™®é€šçš„ç¡é…¸ç”˜æ²¹ç‚¸è¯å¼€å§‹å­¦ä¹ å§ï¼ŒåŸæ–™æ˜“å¾—ï¼Œå±é™©æ€§ä¹Ÿä¸æ˜¯é‚£ä¹ˆé«˜ã€‚</p>
</blockquote>
<p>å­¦ä¹ èµ„æ–™ï¼š<a href="https://blog.boxun.com/hero/201208/haozhonghua2012/29_1.shtml">è‡ªåˆ¶ç‚¸è¯åˆ¶ä½œæ–¹æ³•</a></p>
<span id="more"></span>



<h2 id="æ–¹å¼ä¸€ï¼šé­ç‚®"><a href="#æ–¹å¼ä¸€ï¼šé­ç‚®" class="headerlink" title="æ–¹å¼ä¸€ï¼šé­ç‚®"></a>æ–¹å¼ä¸€ï¼šé­ç‚®</h2><p>æœ€ç®€å•æ˜“å¾—çš„æ–¹å¼æ˜¯é€‰æ‹©é»‘ç«è¯ã€‚</p>
<ol>
<li>ä»å”®å–çƒŸèŠ±çˆ†ç«¹çš„åœ°æ–¹è´­ä¹°1000å“å·¦å³çš„é­ç‚®</li>
<li>å°†é­ç‚®ä¸€ä¸ªä¸ªæ‹†å¼€ï¼Œå°†ç«è¯èšé›†èµ·æ¥</li>
</ol>
<p>ä¸€ä¸ªä¸ªæ‹†å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå·¥ä½œé‡æ¯”è¾ƒå¤§ã€‚ä½œä¸ºç®€ä¾¿é€”å¾„ï¼Œå¯ä»¥å…ˆå°†é­ç‚®åœ¨ç…¤æ²¹ä¸­æµ¸æ³¡ä¸€æ®µæ—¶é—´ï¼Œç„¶åæ”¾å…¥ç»è‚‰é¦…çš„æœºå™¨é‡Œï¼Œç²‰ç¢ç„¶åæ™¾å¹²å¯ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆåƒä¸‡ä¸èƒ½äº§ç”Ÿç«èŠ±ï¼‰</p>
<p>è¿™ç§æ–¹å¼çš„æˆæœ¬åœ¨100å—é’±ä»¥å†…ã€‚</p>
<h2 id="æ–¹å¼äºŒï¼šè‡ªåˆ¶ç¡é…¸ç”˜æ²¹ç‚¸è¯"><a href="#æ–¹å¼äºŒï¼šè‡ªåˆ¶ç¡é…¸ç”˜æ²¹ç‚¸è¯" class="headerlink" title="æ–¹å¼äºŒï¼šè‡ªåˆ¶ç¡é…¸ç”˜æ²¹ç‚¸è¯"></a>æ–¹å¼äºŒï¼šè‡ªåˆ¶ç¡é…¸ç”˜æ²¹ç‚¸è¯</h2><h3 id="åŸæ–™åŠææ–™"><a href="#åŸæ–™åŠææ–™" class="headerlink" title="åŸæ–™åŠææ–™"></a>åŸæ–™åŠææ–™</h3><p>æ»´ç®¡ï¼Œç»ç’ƒæ¯æ¯ï¼ˆ2ä¸ªï¼‰ï¼Œç¢³é…¸é’ ï¼ˆè‹æ‰“ï¼‰ï¼Œæµ“ç¡é…¸ï¼Œæµ“ç¡«é…¸ï¼Œç”˜æ²¹ï¼Œæ°´ï¼ˆä¸€ç›†ï¼‰ï¼Œä¸€ä¸ªèŒ¶ç¼¸ï¼Œæ¸©åº¦è®¡ï¼ˆé‡ç¨‹å¤§ä¸€äº›ï¼‰ï¼Œé…¸ç¢±æŒ‡ç¤ºå‰‚æˆ–è€…PHè¯•çº¸ã€‚</p>
<h3 id="æµç¨‹åŠæ­¥éª¤"><a href="#æµç¨‹åŠæ­¥éª¤" class="headerlink" title="æµç¨‹åŠæ­¥éª¤"></a>æµç¨‹åŠæ­¥éª¤</h3><ol>
<li>å–ä¸€ä¸ªç»ç’ƒæ¯å¹¶å‘å…¶ä¸­åŠ å…¥80mlå·¦å³çš„æ°´ã€‚</li>
<li>å–å¦ä¸€ä¸ªç»ç’ƒæ¯åŠ å…¥80mlå·¦å³çš„æ°´ï¼Œå†åŠ å…¥ä¸€å¹³å‹ºç¢³é…¸é’ ï¼Œé…æˆç¢³é…¸é’ æº¶æ¶²ã€‚</li>
<li>å°†èŒ¶ç¼¸æ”¾å…¥æ°´ç›†ä¸­ï¼Œå‘èŒ¶ç¼¸ä¸­ <strong>ç¼“æ…¢æ»´å…¥</strong>âš ï¸ 8~10mlå·¦å³çš„æµ“ç¡é…¸ï¼Œä¿æŒæ¸©åº¦åœ¨20â„ƒä»¥ä¸‹ã€‚å¦‚æœæ˜¯å¤å¤©çš„è¯ï¼Œå¯èƒ½éœ€è¦å‡†å¤‡ä¸€äº›å†°å—ã€‚</li>
<li>å‘èŒ¶ç¼¸ä¸­ <strong>ç¼“æ…¢æ»´å…¥</strong>âš ï¸ 22~28mlæµ“ç¡«é…¸ï¼Œæ³¨æ„ä¿æŒæ¸©åº¦åœ¨20â„ƒä»¥ä¸‹ï¼Œå¿…è¦æ—¶å‘ç›†ä¸­åŠ å…¥å†°å—ã€‚</li>
<li>ä¿æŒ4~5æ»´/åˆ†é’Ÿçš„é€Ÿç‡å°†ç”˜æ²¹ <strong>æ»´å…¥</strong> ä¸Šè¿°æ··åˆç‰©ä¸­ï¼Œä¸€ç›´æ»´åˆ°ç”˜æ²¹åœ¨æ··åˆç‰©è¡¨é¢å½¢æˆç”˜æ²¹å±‚ä¸ºæ­¢ã€‚æ³¨æ„ä¿æŒæ¸©åº¦åœ¨20â„ƒä»¥ä¸‹ï¼</li>
<li>ä½æ¸©ä¸‹æ…æ‹Œæ··åˆç‰©15åˆ†é’Ÿä»¥åï¼Œå°†æ··åˆç‰©å€’å…¥å·²ç»åŠ å…¥è’¸é¦æ°´çš„æ¯å­ä¸­ã€‚ç¡é…¸ç”˜æ²¹ä¼šæ²‰åº•ã€‚</li>
<li>æŠŠä¸‹å±‚çš„ç¡é…¸ç”˜æ²¹æ»´å…¥ç¢³é…¸é’ æº¶æ¶²ä¸­ï¼ˆä¸ºäº†å»é™¤å¤šä½™çš„é…¸ï¼‰ï¼ŒçŸ¥é“PHå€¼ä¸ºä¸­æ€§ã€‚ï¼ˆâ€‹âš ï¸â€‹ åƒä¸‡ä¸èƒ½æŒ¯è¡æˆ–æ™ƒåŠ¨â€‹ï¼ï¼‰</li>
</ol>
<h3 id="å¡«å……å‰‚"><a href="#å¡«å……å‰‚" class="headerlink" title="å¡«å……å‰‚"></a>å¡«å……å‰‚</h3><p>å°†ç»ç’ƒç“¶åˆ»èš€ï¼Œå½¢æˆå°å—ï¼ŒæŠŠå¤´éƒ¨ç“¶å£ç”¨èƒ¶å¸¦ä¹‹ç±»çš„ä¸œè¥¿å¯†å°èµ·æ¥ï¼Œä»¥ä¿è¯çˆ†ç‚¸æ—¶ç»ç’ƒç“¶ä½“èƒ½å½¢æˆå¼¹ç‰‡ã€‚ä¸ºäº†åŠ å¤§å¼¹ç‰‡çš„å¨åŠ›ï¼Œå¯ä»¥è€ƒè™‘ <strong>å°†å¡«å……å‰‚æ¢æˆé“çƒ­å‰‚</strong> ï¼ˆé“ç²‰å’Œæ°§åŒ–é“ç²‰ï¼‰ï¼Œå‘ç”Ÿçˆ†ç‚¸çš„æ—¶å€™ï¼Œé«˜æ¸©ä¼šä½¿å…¶å‰§çƒˆååº”ï¼Œäº§ç”Ÿæ›´å¤§çš„æ€ä¼¤åŠ›ã€‚</p>
<h3 id="å¼•çˆ†"><a href="#å¼•çˆ†" class="headerlink" title="å¼•çˆ†"></a>å¼•çˆ†</h3><p>æ¥ä¸‹æ¥æ˜¯å¼•çˆ†ç³»ç»Ÿéƒ¨åˆ†ã€‚</p>
<h4 id="çŸ­è·¯ç”µè·¯å¼•çˆ†"><a href="#çŸ­è·¯ç”µè·¯å¼•çˆ†" class="headerlink" title="çŸ­è·¯ç”µè·¯å¼•çˆ†"></a>çŸ­è·¯ç”µè·¯å¼•çˆ†</h4><p>æ‹†è§£æ— çº¿ç”µç³»ç»Ÿï¼Œå¾—åˆ°ä¸€ä¸ªå…±é¢‘ç³»ç»Ÿï¼Œå°†å…¶ä¸­ä¸€ä¸ªçŸ­è·¯çš„æƒ…å†µå®‰è£…åˆ°ç‚¸å¼¹ä¸Šï¼Œç„¶åç”¨å…¶ä»–ä¸€äº›ç”µç«èŠ±å³å¯å¼•ç‡ƒçš„ç‰©è´¨ä¸ç‚¸è¯æ”¾åœ¨ä¸€èµ·ï¼Œå¯å®ç° é€šè¯ &gt; çŸ­è·¯ &gt; ç«èŠ± &gt; çˆ†ç‚¸ çš„é¥æ§æ•ˆæœã€‚ ï¼ˆå¾…ç ”ç©¶ï¼‰</p>
<h4 id="å®šæ—¶ç³»ç»Ÿå¼•çˆ†"><a href="#å®šæ—¶ç³»ç»Ÿå¼•çˆ†" class="headerlink" title="å®šæ—¶ç³»ç»Ÿå¼•çˆ†"></a>å®šæ—¶ç³»ç»Ÿå¼•çˆ†</h4><p>å®šæ—¶ç³»ç»Ÿæ¯”è¾ƒç®€å•ï¼Œæ™®é€šçš„ç”µå­é—¹é’Ÿå°±å¯ä»¥èƒœä»»ã€‚</p>
<blockquote>
<p>æœ€åå‘å„ä½è¯´æ˜çš„æ˜¯ï¼Œåˆ¶ä½œç‚¸å¼¹ä¹Ÿå¥½ï¼Œç‡ƒçƒ§å¼¹ä¹Ÿå¥½ï¼Œæ—¢ä¸æ˜¯é«˜ç²¾å°–ç§‘æŠ€ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªä½ æ»å­ä¸€ä¸ªé›·å¼çš„åœŸæ³•ç”Ÿäº§ã€‚éœ€è¦åŒ–å­¦ï¼Œç‰©ç†ï¼Œç»“æ„åŠ›å­¦ï¼Œææ–™åŠ›å­¦ç”šè‡³æ—¥å¸¸ç”Ÿæ´»æ–¹é¢å„ç§çš„çŸ¥è¯†ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>æŠ˜è…¾</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»™æ ‘è“æ´¾å®‰è£…Ubuntu MATEç³»ç»Ÿ</title>
    <url>/2019/06/11/%E7%BB%99%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85Ubuntu-MATE%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>ç»™æ ‘è“æ´¾å®‰è£…Ubantu MATEæ“ä½œç³»ç»Ÿ</p>
<p>ç”±äºå¹³æ—¶ç”¨çš„æ˜¯Ubuntuç³»ç»Ÿï¼Œå¯¹è¿™ä¸ªç³»ç»Ÿæ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¹Ÿæƒ³ç»™æ ‘è“æ´¾ä¹Ÿè£…è¿™ä¸ªç³»ç»Ÿï¼ŒLinuxä¸‹åšSDå¡å¯åŠ¨ç›˜ç½‘ä¸Šèµ„æ–™æ¯”è¾ƒå°‘ï¼Œæ‹…å¿ƒå‘ç”Ÿå¯¹ç¬”è®°æœ¬ç£ç›˜çš„è¯¯æ“ä½œï¼Œæœ€ååœ¨å®˜ç½‘ä¸Šæ‰¾åˆ°äº†æ•™ç¨‹ã€‚</p>
<span id="more"></span>



<h3 id="ä¸‹è½½ç³»ç»Ÿ"><a href="#ä¸‹è½½ç³»ç»Ÿ" class="headerlink" title="ä¸‹è½½ç³»ç»Ÿ"></a>ä¸‹è½½ç³»ç»Ÿ</h3><p><a href="https://ubuntu-mate.org/raspberry-pi"><a href="https://ubuntu-mate.org/raspberry-pi/">Ubuntu MATE for the Raspberry Pi Model B 2, 3 and 3+</a></a></p>
<h3 id="å®‰è£…å·¥å…·å¹¶å†™å…¥ç³»ç»Ÿ"><a href="#å®‰è£…å·¥å…·å¹¶å†™å…¥ç³»ç»Ÿ" class="headerlink" title="å®‰è£…å·¥å…·å¹¶å†™å…¥ç³»ç»Ÿ"></a>å®‰è£…å·¥å…·å¹¶å†™å…¥ç³»ç»Ÿ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install gddrescue xz-utils</span><br><span class="line">unxz --verbose ubuntu-mate-18.04.2-beta1-desktop-armhf+raspi-ext4.img.xz</span><br><span class="line">sudo ddrescue -D --force ubuntu-mate-18.04.2-beta1-desktop-armhf+raspi-ext4.img /dev/sdx</span><br></pre></td></tr></table></figure>

<p><code>/dev/sda</code>ä»£è¡¨ç¬”è®°æœ¬çš„ç£ç›˜ï¼ŒSDå¡çš„ç›˜ç¬¦ä¸€èˆ¬<code>/dev/sdb1</code>ã€‚</p>
<p><img src="https://image.youyou-2608.com/blog/finished.png" alt="å®‰è£…Ubuntu MATE"></p>
<h3 id="æ˜¾ç¤ºå±æ— ååº”"><a href="#æ˜¾ç¤ºå±æ— ååº”" class="headerlink" title="æ˜¾ç¤ºå±æ— ååº”"></a>æ˜¾ç¤ºå±æ— ååº”</h3><p>ç½‘ä¸Šè¯´å¯èƒ½æ˜¯ config.txt è®¾ç½®é—®é¢˜ï¼Œå’Œæ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ä¹‹ç±»çš„æœ‰å…³ï¼Œä½†æ˜¯å†™å…¥äº†é•œåƒä¹‹åå†å°†SDå¡æ’å…¥åˆ°PCï¼Œå·²ç»æ— æ³•æŒ‚è½½ï¼ŒæŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo mount /dev/sdb1 /mnt/sdb1</span><br><span class="line">mount: /mnt/sdb1: wrong fs type, bad option, bad superblock on /dev/sdb1, missing codepage or helper program, or other error.</span><br></pre></td></tr></table></figure>



<h3 id="é—®é¢˜æ’æŸ¥"><a href="#é—®é¢˜æ’æŸ¥" class="headerlink" title="é—®é¢˜æ’æŸ¥"></a>é—®é¢˜æ’æŸ¥</h3><p>è¿›ä¸å»SDå¡ï¼ŒæŒ‚è½½é”™è¯¯ï¼Œè¯´æ˜¯æ–‡ä»¶ç±»å‹é”™è¯¯ã€‚</p>
<p>å®‰è£…å·¥å…·ï¼š</p>
<p><code>sudo apt-get install nfs-common</code></p>
<p>ä»ç„¶æ˜¯æ— æ³•è¯»å–ã€‚</p>
<p>å…ˆå®‰è£… <code>gnome-disk-utility</code> ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ <code>./gnome-disk-utility</code> ï¼Œé€‰æ‹© <code>Restore Image...</code> ï¼Œå†™å…¥é•œåƒã€‚</p>
<p><img src="https://image.youyou-2608.com/blog/finished.png" alt="Ubuntu MATE"></p>
<p>å†™å®Œä¹‹åï¼Œé€€å‡ºSDå¡ã€‚</p>
<p>å°†å†™å…¥é•œåƒçš„SDå¡æ’å…¥æ ‘è“æ´¾ï¼Œè¿æ¥æ˜¾ç¤ºå™¨ï¼Œæ¥é€šç”µæºï¼ŒæˆåŠŸè¿›å…¥ç³»ç»Ÿå¼•å¯¼ç•Œé¢ï¼Œæ¸…æ–°çš„ç»¿è‰²ç•Œé¢ã€‚</p>
]]></content>
      <categories>
        <category>æ ‘è“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³Echartsè‡ªå®šä¹‰tooltipä¹‹åå›¾ä¾‹ä¸¢å¤±é—®é¢˜</title>
    <url>/2020/12/12/%E8%A7%A3%E5%86%B3Echarts%E8%87%AA%E5%AE%9A%E4%B9%89tooltip%E4%B9%8B%E5%90%8E%E5%9B%BE%E4%BE%8B%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>è§£å†³è‡ªå®šä¹‰ echarts çš„ tooltip ä¹‹å tooltip ä¸­å›¾ä¾‹ä¸¢å¤±é—®é¢˜ã€‚</p>
<span id="more"></span>

<p>Echartsé»˜è®¤çš„tooltipä¸­æ˜¯å¸¦æœ‰å›¾ä¾‹çš„ï¼Œé»˜è®¤çš„ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tooltip: &#123;</span><br><span class="line">	trigger: &#x27;axis&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://images2.imgbox.com/d7/8a/FBGnKIgB_o.png"></p>
<br>

<p>ä½†æ˜¯è‡ªå®šä¹‰tooltipçš„æ˜¾ç¤ºä¹‹åå›¾ä¾‹ä¸¢å¤±ï¼Œå®˜æ–¹çš„æ–‡æ¡£é‡Œæ²¡æœ‰åœ¨è‡ªå®šä¹‰ä¸­ä¿ç•™å›¾ä¾‹ç›¸å…³çš„é…ç½®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">tooltip: &#123;</span><br><span class="line">    <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">    <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b0&#125;&lt;br /&gt;&#123;a0&#125;: &#123;c0&#125;&lt;br /&gt;&#123;a1&#125;: &#123;c1&#125;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://images2.imgbox.com/00/f9/qKKTIt2o_o.png"></p>
<br>

<p>æ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/qq_36051044/article/details/110237830">Echartsè‡ªå®šä¹‰tooltipæç¤ºæ¡†åŠå›¾ä¾‹</a> </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">tooltip: &#123;</span><br><span class="line">    <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">    <span class="comment">// formatter: &#x27;&#123;b0&#125;&lt;br /&gt;&#123;a0&#125;: &#123;c0&#125;&lt;br /&gt;&#123;a1&#125;: &#123;c1&#125;&#x27;</span></span><br><span class="line">    <span class="attr">formatter</span>: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> val = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; params.length; i++) &#123;</span><br><span class="line">            <span class="keyword">const</span> param = params[i];</span><br><span class="line">            <span class="keyword">if</span> (i === <span class="number">0</span>) &#123;</span><br><span class="line">            val = <span class="string">`</span></span><br><span class="line"><span class="string">              &lt;div style=&quot;padding:5px 3px&quot;&gt;</span></span><br><span class="line"><span class="string">                <span class="subst">$&#123;param.name&#125;</span>&lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;div style=&quot;display:flex&quot;&gt;</span></span><br><span class="line"><span class="string">                  &lt;div style=&quot;width:10px;height:10px;border-radius: 50%;margin:6px 4px 0 0;background:</span></span><br><span class="line"><span class="string">                  <span class="subst">$&#123;<span class="keyword">typeof</span> param.color === <span class="string">&#x27;string&#x27;</span> ? param.color : param.color.colorStops[<span class="number">0</span>].color&#125;</span>&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                  &lt;div&gt;<span class="subst">$&#123;param.seriesName&#125;</span>ï¼š<span class="subst">$&#123;param.value&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                val += <span class="string">`</span></span><br><span class="line"><span class="string">                &lt;div style=&quot;display:flex&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;div style=&quot;width:10px;height:10px;border-radius: 50%;margin:6px 4px 0 0;background:</span></span><br><span class="line"><span class="string">                    <span class="subst">$&#123;<span class="keyword">typeof</span> param.color === <span class="string">&#x27;string&#x27;</span> ? param.color : param.color.colorStops[<span class="number">0</span>].color&#125;</span>&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                 &lt;div&gt;<span class="subst">$&#123;param.seriesName&#125;</span>ï¼š<span class="subst">$&#123;param.value&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;/div&gt;`</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      val += <span class="string">`&lt;/div&gt;`</span>;</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<br>

<p>æ˜¾ç¤ºæ•ˆæœï¼š</p>
<p><img src="https://images2.imgbox.com/f9/9f/eFMspjlZ_o.png"></p>
<br>

<p>æ˜¾ç¤ºæ•ˆæœæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æ•°æ®é›†å¤šäº†èƒ½æ„Ÿè§‰åˆ°å¼¹çª—è·Ÿéšé¼ æ ‡æ—¶æœ‰æ˜æ˜¾çš„å¡é¡¿ã€‚</p>
]]></content>
      <categories>
        <category>Echarts</category>
      </categories>
      <tags>
        <tag>Echarts</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡Tomcat 8005ç«¯å£Cannot assign requested addressçš„ç»å†</title>
    <url>/2019/04/24/%E8%AE%B0%E4%B8%80%E6%AC%A1Tomcat-8005%E7%AB%AF%E5%8F%A3Cannot-assign-requested-address%E7%9A%84%E7%BB%8F%E5%8E%86/</url>
    <content><![CDATA[<p>è®°ä¸€æ¬¡Tomcat 8005ç«¯å£Cannot assign requested address : Jvm Bindçš„ç»å†</p>
<p>ä¸€ä¸ªæ­£åœ¨åšæ¯•è®¾çš„è€ä¹¡é‡åˆ°çš„é—®é¢˜ï¼šTomcatå¯åŠ¨çš„æ—¶å€™ï¼ŒæŠ¥äº†[8005] Jvm Bindç›¸å…³çš„å¼‚å¸¸ï¼Œå¤§æ¦‚å†…å®¹æ˜¯ç«¯å£å·²è¢«å ç”¨çš„æ„æ€ã€‚</p>
<p>ä¸€. å…ˆä»è¿è¡Œ/bin/shutdown.batï¼Œå†æ¬¡å…³é—­Tomcatï¼Œé‡æ–°å¯åŠ¨é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼›</p>
<p>äºŒ. netstat -anoæŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µï¼Œæœªå‘ç°8080,8009,8005ç›¸å…³çš„ç«¯å£è¢«å ç”¨ï¼›</p>
<p>ä¸‰. æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç¡®è®¤javaw.exeæœªåœ¨è¿è¡Œï¼Œé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼›</p>
<p>å››. é‡å¯æœºå™¨ï¼Œé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼›</p>
<p>äº”. å‚ç…§ï¼š[<a href="https://www.cnblogs.com/heshan664754022/p/3807672.html">Tomcatå¯åŠ¨æŠ¥é”™:ä¸¥é‡: StandardServer.await: create[8005] java.net.BindException: Cannot assign requested address](https://www.cnblogs.com/heshan664754022/p/3807672.html)</a> ï¼Œ pingäº†localhostï¼Œå‘ç°æ”¶åˆ°çš„å“åº”æ¥è‡ªipp[47.89.54.215]ï¼Œæ‰“å¼€C:/windows/system32/drivers/etc/hostsï¼Œå‘ç°ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">47.89.54.215       localhost</span><br><span class="line">47.89.54.215	hao.360.cn</span><br><span class="line">47.89.54.215	www.hao123.com</span><br><span class="line">47.89.54.215	www.3600.com</span><br><span class="line">47.89.54.215	www.114la.com</span><br><span class="line">47.89.54.215	www.duba.com</span><br><span class="line">47.89.54.215	www.hao360.cn</span><br><span class="line">47.89.54.215	123.sogou.com</span><br><span class="line">47.89.54.215	web.sogou.com</span><br><span class="line">47.89.54.215	www.hao123.cn</span><br><span class="line">47.89.54.215	hao.qq.com</span><br><span class="line">47.89.54.215	www.1616.net</span><br><span class="line">47.89.54.215	hao.rising.cn</span><br><span class="line">47.89.54.215	daohang.qq.com</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°daohang.qqï¼Œhao123ï¼Œdubaï¼Œhao360ï¼Œ123.sougouä¹‹ç±»çš„å­—çœ¼ï¼Œå›½å†…æµæ°“è½¯ä»¶é‚£ä¹ˆå¤šï¼Ÿâ€çš„é—®é¢˜åˆæµ®ç°åœ¨è„‘æµ·ã€‚</p>
]]></content>
      <categories>
        <category>Tomcat</category>
      </categories>
      <tags>
        <tag>Tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®gitåˆå§‹åŒ–é»˜è®¤åˆ†æ”¯ä¸ºmain</title>
    <url>/2020/10/09/%E8%AE%BE%E7%BD%AEgit%E5%88%9D%E5%A7%8B%E5%8C%96%E9%BB%98%E8%AE%A4%E5%88%86%E6%94%AF%E4%B8%BAmain/</url>
    <content><![CDATA[<p>å¥½ä¹…æ²¡ä¸Šä¼ ä»£ç åˆ° GitHub äº†ï¼Œå‰ä¸¤å¤©æ–°å»ºäº†ä¸€ä¸ªä»“åº“ï¼Œç„¶åä¹ æƒ¯æ€§çš„æ‰§è¡Œ <code>git push origin masterÂ </code> , è¿‡äº†å¥½ä¸€ä¼šå„¿æ‰åœ¨ GitHub é¡µé¢ä¸Šçœ‹åˆ°ä¸¤ä¸ªåˆ†æ”¯ï¼šmain å’Œ masterã€‚</p>
<p>è¿™ä¸¤å¤©é™†é™†ç»­ç»­å‡ºç°å¥½å‡ æ¬¡ï¼Œç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹æ‰çŸ¥é“ä»10æœˆä»½èµ·ï¼ŒGitHub çš„é»˜è®¤åˆ†æ”¯åä¸å†æ˜¯masterï¼Œè€Œæ˜¯mainã€‚æ®è¯´æ˜¯å› ä¸ºmasterè¿™ä¸ªè¯å’Œç§æ—ä¸»ä¹‰æœ‰å…³ç³»ï¼Œç°åœ¨çš„äººçœŸæ˜¯ç»ç’ƒå¿ƒå•Šã€‚</p>
<p>git åˆå§‹åŒ–é»˜è®¤åˆ†æ”¯åæ˜¯masterï¼Œæ¯æ¬¡æ–°å»ºä»“åº“éƒ½è¦æ”¹é»˜è®¤åˆ†æ”¯åå¾ˆéº»çƒ¦ï¼Œå°±æŸ¥äº†ä¸€ä¸‹è®¾ç½® git åˆå§‹åŒ–åˆ†æ”¯åçš„æ–¹æ³•ï¼Œæ‰¾åˆ°ä¸¤ç§è§£å†³åŠæ³•ï¼š</p>
<span id="more"></span>

<ul>
<li><p><strong>åˆå§‹åŒ–ååˆ‡æ¢åˆ†æ”¯</strong> &gt;&gt; <a href="https://stackoverflow.com/a/42871621">https://stackoverflow.com/a/42871621</a></p>
<p>As you noticed, there is no parameter for <code>git init</code> for the branch name, so two commands will have to do.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">git checkout -b trunk</span><br></pre></td></tr></table></figure>

<p>This creates a new repository with <code>trunk</code> as the current branch instead of <code>master</code>. The branch <code>master</code> does not actually existâ€“the branches donâ€™t get created until they have at least one commit. Until the branch gets created, the branch only exists in <code>.git/HEAD</code>, which explains why the <code>master</code> branch will disappear when you switch to <code>trunk</code>.</p>
<p>If youâ€™ve already committed, you can run <code>git branch -m</code> instead:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">touch file.txt</span><br><span class="line">git add file.txt</span><br><span class="line">git commit -m &#x27;commit 1&#x27;</span><br><span class="line">git branch -m trunk</span><br></pre></td></tr></table></figure>

<p>This renames the branch from <code>master</code> to <code>trunk</code> once itâ€™s created.</p>
<p>This does seem a bit clunky since the mechanism is different depending on whether the repository is empty, but it works.</p>
</li>
<li><p><strong>å‡çº§ git ä½¿ç”¨ git å…¨å±€é…ç½®</strong> &gt;&gt; <a href="https://stackoverflow.com/a/63136920">https://stackoverflow.com/a/63136920</a></p>
<p>Since <strong>Git 2.28</strong> (released July 27, 2020) a new configuration option, <code>init.defaultBranch</code> is being introduced to replace the hard-coded term <code>master</code>.</p>
<p>Default remains to <code>master</code>!</p>
<p>The user can override the default value of the configuration variable with:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure>

<p>Read the git doc chapter for further details <a href="https://github.blog/2020-07-27-highlights-from-git-2-28/#introducing-init-defaultbranch">Introducing init.defaultBranch</a></p>
<p>å‡çº§ git è¿˜è¦é…ç½® zshï¼Œå¤ªéº»çƒ¦äº†ï¼Œæ²¡è¯•ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
</search>
